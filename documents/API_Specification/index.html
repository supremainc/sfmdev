   
<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge"> 
    <meta name="description" content="SFM Developer Center">  
    <link rel="canonical" href="https://github.com/supremainc/sfmdev/documents/API_Specification/">  
    <meta name="author" content="Suprema inc.">  
    <meta name="lang:clipboard.copy" content="Copy to clipboard"> 
    <meta name="lang:clipboard.copied" content="Copied to clipboard"> 
    <meta name="lang:search.language" content="en"> 
    <meta name="lang:search.result.none" content="No matching documents"> 
    <meta name="lang:search.result.one" content="1 matching document"> 
    <meta name="lang:search.result.other" content="# matching documents"> 
    <meta name="lang:search.tokenizer" content="[\s\-]+"> 
    <link rel="shortcut icon" href="../../assets/images/favicon.png">
    <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.0.2">   
    <title>API Specification - SFM Developer Center</title>
      
    <link rel="stylesheet" href="../../assets/stylesheets/application-5b1b46901f.css"> 
    <link rel="stylesheet" href="../../assets/stylesheets/application-23f75ab9c7.palette.css">   
    <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
      
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,400,400i,700|None">
    <style>
        body,
        input {
            font-family:"Montserrat",
            "Helvetica Neue",
            Helvetica,
            Arial,
            sans-serif
        }
        
        code,
        kbd,
        pre {
            font-family:"None",
            "Courier New",
            Courier,
            monospace
        }
    </style>
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">  
    <link rel="stylesheet" href="../../stylesheets/extra.css">  
</head>
   

<body data-md-color-primary="burgundy" data-md-color-accent="burgundy">

     
                <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512" id="github"><path fill="currentColor" d="M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365
		c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63
		c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996
		c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136
		c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559
		c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559
		c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997
		c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851
		c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136
		c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41
		c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126
		c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817
		c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994
		c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849
		c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24
		c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979
		c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146
		c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995
		c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906
		C438.536,184.851,428.728,148.168,409.132,114.573z"/></svg>
        
      </defs>
    </svg>
                <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
                <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
                <label class="md-overlay" data-md-component="overlay" for="drawer"></label>  <header class="md-header" data-md-component="header">
    <nav class="md-header-nav md-grid">
        <div class="md-flex">
            <div class="md-flex__cell md-flex__cell--shrink">

                
                <!--<a href="https://github.com/supremainc/sfmdev" title="SFM Developer Center" class="md-logo md-header-nav__button">
            <img src="../../images/suprema.png" width="24" height="24">
          </a>-->
                
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch">
                <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Technical Documents
                </span> 
                <span class="md-header-nav__parent">
                  SFM SDK Manual
                </span>   API Specification 
                </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                 
                <label class="md-icon md-icon--search md-header-nav__button" for="search"></label> 
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>  
            </div>
            
            <div class="md-flex__cell md-flex__cell--shrink">
                <div class="md-header-nav__source">
                    


  


  <a href="https://github.com/supremainc/sfmdev/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      supremainc/sfmdev
    </div>
  </a>

                </div>
            </div>
            
        </div>
    </nav>
</header> 
                <div class="md-container">
                    
                    <main class="md-main">
                        <div class="md-main__inner md-grid" data-md-component="container">
                             
                            <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                                <div class="md-sidebar__scrollwrap">
                                    <div class="md-sidebar__inner">
                                        <a href="../.." title="SFM Developer Center" class="md-logo md-header-nav__button">
                                            <img src="../../images/suprema.png" width="160" height="66">
                                        </a>
                                        <nav class="md-nav md-nav--primary" data-md-level="0">
    <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">fingerprint</i>
      
    </span>
    SFM Developer Center
  </label> 
    <div class="md-nav__source">
        


  


  <a href="https://github.com/supremainc/sfmdev/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      supremainc/sfmdev
    </div>
  </a>

    </div>
    
    <ul class="md-nav__list" data-md-scrollfix>
           


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>
    


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Products
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Products
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/SFMSlim/" title="SFM Slim Series" class="md-nav__link">
      SFM Slim Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/SFM6000/" title="SFM6000 Series" class="md-nav__link">
      SFM6000 Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/SFM5500/" title="SFM5500 Series" class="md-nav__link">
      SFM5500 Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/SFM5000/" title="SFM5000 Series" class="md-nav__link">
      SFM5000 Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/SFM4000/" title="SFM4000 Series" class="md-nav__link">
      SFM4000 Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/SFM3000/" title="SFM3000 Series" class="md-nav__link">
      SFM3000 Series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/hardware-privacy-notice/" title="Hardware Privacy Notice" class="md-nav__link">
      Hardware Privacy Notice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../products/product-disclaimer/" title="Product Disclaimer" class="md-nav__link">
      Product Disclaimer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>
    

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Technical Documents
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Technical Documents
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1" checked>
    
    <label class="md-nav__link" for="nav-3-1">
      SFM SDK Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        SFM SDK Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../API_Compatibility/" title="API Compatability" class="md-nav__link">
      API Compatability
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        API Specification
      </label>
    
    <a href="./" title="API Specification" class="md-nav__link md-nav__link--active">
      API Specification
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-return-codes" title="3.1. Return Codes" class="md-nav__link">
    3.1. Return Codes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-serial-communication-api" title="3.2. Serial Communication API" class="md-nav__link">
    3.2. Serial Communication API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initcommport" title="UF_InitCommPort" class="md-nav__link">
    UF_InitCommPort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_closecommport" title="UF_CloseCommPort" class="md-nav__link">
    UF_CloseCommPort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_reconnect" title="UF_Reconnect" class="md-nav__link">
    UF_Reconnect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setbaudrate" title="UF_SetBaudrate" class="md-nav__link">
    UF_SetBaudrate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setasciimode" title="UF_SetAsciiMode" class="md-nav__link">
    UF_SetAsciiMode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-socket-api" title="3.3. Socket API" class="md-nav__link">
    3.3. Socket API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initsocket" title="UF_InitSocket" class="md-nav__link">
    UF_InitSocket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_closesocket" title="UF_CloseSocket" class="md-nav__link">
    UF_CloseSocket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-low-level-packet-api" title="3.4. Low-Level Packet API" class="md-nav__link">
    3.4. Low-Level Packet API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_sendpacket" title="UF_SendPacket" class="md-nav__link">
    UF_SendPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_sendnetworkpacket" title="UF_SendNetworkPacket" class="md-nav__link">
    UF_SendNetworkPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receivepacket" title="UF_ReceivePacket" class="md-nav__link">
    UF_ReceivePacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receivenetworkpacket" title="UF_ReceiveNetworkPacket" class="md-nav__link">
    UF_ReceiveNetworkPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_sendrawdata" title="UF_SendRawData" class="md-nav__link">
    UF_SendRawData
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receiverawdata" title="UF_ReceiveRawData" class="md-nav__link">
    UF_ReceiveRawData
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_senddatapacket" title="UF_SendDataPacket" class="md-nav__link">
    UF_SendDataPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receivedatapacket" title="UF_ReceiveDataPacket" class="md-nav__link">
    UF_ReceiveDataPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsendpacketcallback" title="UF_SetSendPacketCallback" class="md-nav__link">
    UF_SetSendPacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setreceivepacketcallback" title="UF_SetReceivePacketCallback" class="md-nav__link">
    UF_SetReceivePacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsenddatapacketcallback" title="UF_SetSendDataPacketCallback" class="md-nav__link">
    UF_SetSendDataPacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setreceivedatapacketcallback" title="UF_SetReceiveDataPacketCallback" class="md-nav__link">
    UF_SetReceiveDataPacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsendrawdatacallback" title="UF_SetSendRawDataCallback" class="md-nav__link">
    UF_SetSendRawDataCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setreceiverawdatacallback" title="UF_SetReceiveRawDataCallback" class="md-nav__link">
    UF_SetReceiveRawDataCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setdefaultpacketsize" title="UF_SetDefaultPacketSize" class="md-nav__link">
    UF_SetDefaultPacketSize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getdefaultpacketsize" title="UF_GetDefaultPacketSize" class="md-nav__link">
    UF_GetDefaultPacketSize
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-generic-command-api" title="3.5. Generic Command API" class="md-nav__link">
    3.5. Generic Command API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_command" title="UF_Command" class="md-nav__link">
    UF_Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_commandex" title="UF_CommandEx" class="md-nav__link">
    UF_CommandEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_commandsenddata" title="UF_CommandSendData" class="md-nav__link">
    UF_CommandSendData
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_commandsenddataex" title="UF_CommandSendDataEx" class="md-nav__link">
    UF_CommandSendDataEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_cancel" title="UF_Cancel" class="md-nav__link">
    UF_Cancel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setprotocol" title="UF_SetProtocol" class="md-nav__link">
    UF_SetProtocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getprotocol" title="UF_GetProtocol" class="md-nav__link">
    UF_GetProtocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmoduleid" title="UF_GetModuleID" class="md-nav__link">
    UF_GetModuleID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setgenericcommandtimeout" title="UF_SetGenericCommandTimeout" class="md-nav__link">
    UF_SetGenericCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setinputcommandtimeout" title="UF_SetInputCommandTimeout" class="md-nav__link">
    UF_SetInputCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getgenericcommandtimeout" title="UF_GetGenericCommandTimeout" class="md-nav__link">
    UF_GetGenericCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getinputcommandtimeout" title="UF_GetInputCommandTimeout" class="md-nav__link">
    UF_GetInputCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setnetworkdelay" title="UF_SetNetworkDelay" class="md-nav__link">
    UF_SetNetworkDelay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getnetworkdelay" title="UF_GetNetworkDelay" class="md-nav__link">
    UF_GetNetworkDelay
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-module-api" title="3.6. Module API" class="md-nav__link">
    3.6. Module API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_getmoduleinfo" title="UF_GetModuleInfo" class="md-nav__link">
    UF_GetModuleInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmodulestring" title="UF_GetModuleString" class="md-nav__link">
    UF_GetModuleString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmodule" title="UF_SearchModule" class="md-nav__link">
    UF_SearchModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmoduleid" title="UF_SearchModuleID" class="md-nav__link">
    UF_SearchModuleID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmodulebysocket" title="UF_SearchModuleBySocket" class="md-nav__link">
    UF_SearchModuleBySocket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmoduleidex" title="UF_SearchModuleIDEx" class="md-nav__link">
    UF_SearchModuleIDEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_calibratesensor" title="UF_CalibrateSensor" class="md-nav__link">
    UF_CalibrateSensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_upgrade" title="UF_Upgrade" class="md-nav__link">
    UF_Upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_reset" title="UF_Reset" class="md-nav__link">
    UF_Reset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_lock" title="UF_Lock" class="md-nav__link">
    UF_Lock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_unlock" title="UF_Unlock" class="md-nav__link">
    UF_Unlock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changepassword" title="UF_ChangePassword" class="md-nav__link">
    UF_ChangePassword
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_poweroff" title="UF_PowerOff" class="md-nav__link">
    UF_PowerOff
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-system-parameters-api" title="3.7. System Parameters API" class="md-nav__link">
    3.7. System Parameters API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initsysparameter" title="UF_InitSysParameter" class="md-nav__link">
    UF_InitSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getsysparameter" title="UF_GetSysParameter" class="md-nav__link">
    UF_GetSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsysparameter" title="UF_SetSysParameter" class="md-nav__link">
    UF_SetSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmultisysparameter" title="UF_GetMultiSysParameter" class="md-nav__link">
    UF_GetMultiSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setmultisysparameter" title="UF_SetMultiSysParameter" class="md-nav__link">
    UF_SetMultiSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_save" title="UF_Save" class="md-nav__link">
    UF_Save
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_saveconfiguration" title="UF_SaveConfiguration" class="md-nav__link">
    UF_SaveConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readconfigurationheader" title="UF_ReadConfigurationHeader" class="md-nav__link">
    UF_ReadConfigurationHeader
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_loadconfiguration" title="UF_LoadConfiguration" class="md-nav__link">
    UF_LoadConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makeparameterconfiguration" title="UF_MakeParameterConfiguration" class="md-nav__link">
    UF_MakeParameterConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-template-management-api" title="3.8. Template Management API" class="md-nav__link">
    3.8. Template Management API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_getnumoftemplate" title="UF_GetNumOfTemplate" class="md-nav__link">
    UF_GetNumOfTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmaxnumoftemplate" title="UF_GetMaxNumOfTemplate" class="md-nav__link">
    UF_GetMaxNumOfTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getalluserinfo" title="UF_GetAllUserInfo" class="md-nav__link">
    UF_GetAllUserInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getalluserinfoex" title="UF_GetAllUserInfoEx" class="md-nav__link">
    UF_GetAllUserInfoEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_sortuserinfo" title="UF_SortUserInfo" class="md-nav__link">
    UF_SortUserInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setuserinfocallback" title="UF_SetUserInfoCallback" class="md-nav__link">
    UF_SetUserInfoCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setadminlevel" title="UF_SetAdminLevel" class="md-nav__link">
    UF_SetAdminLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getadminlevel" title="UF_GetAdminLevel" class="md-nav__link">
    UF_GetAdminLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearalladminlevel" title="UF_ClearAllAdminLevel" class="md-nav__link">
    UF_ClearAllAdminLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_savedb" title="UF_SaveDB" class="md-nav__link">
    UF_SaveDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_loaddb" title="UF_LoadDB" class="md-nav__link">
    UF_LoadDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_checktemplate" title="UF_CheckTemplate" class="md-nav__link">
    UF_CheckTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readtemplate" title="UF_ReadTemplate" class="md-nav__link">
    UF_ReadTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readonetemplate" title="UF_ReadOneTemplate" class="md-nav__link">
    UF_ReadOneTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setscancallback" title="UF_SetScanCallback" class="md-nav__link">
    UF_SetScanCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_scantemplate" title="UF_ScanTemplate" class="md-nav__link">
    UF_ScanTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_fixprovisionaltemplate" title="UF_FixProvisionalTemplate" class="md-nav__link">
    UF_FixProvisionalTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsecuritylevel" title="UF_SetSecurityLevel" class="md-nav__link">
    UF_SetSecurityLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getsecuritylevel" title="UF_GetSecurityLevel" class="md-nav__link">
    UF_GetSecurityLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setauthtype" title="UF_SetAuthType" class="md-nav__link">
    UF_SetAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getauthtype" title="UF_GetAuthType" class="md-nav__link">
    UF_GetAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getuseridbyauthtype" title="UF_GetUserIDByAuthType" class="md-nav__link">
    UF_GetUserIDByAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_resetallauthtype" title="UF_ResetAllAuthType" class="md-nav__link">
    UF_ResetAllAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setentrancelimit" title="UF_SetEntranceLimit" class="md-nav__link">
    UF_SetEntranceLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getentrancelimit" title="UF_GetEntranceLimit" class="md-nav__link">
    UF_GetEntranceLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearallentrancelimit" title="UF_ClearAllEntranceLimit" class="md-nav__link">
    UF_ClearAllEntranceLimit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39-image-manipulation-api" title="3.9. Image Manipulation API" class="md-nav__link">
    3.9. Image Manipulation API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_converttobitmap" title="UF_ConvertToBitmap" class="md-nav__link">
    UF_ConvertToBitmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_saveimage" title="UF_SaveImage" class="md-nav__link">
    UF_SaveImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_loadimage" title="UF_LoadImage" class="md-nav__link">
    UF_LoadImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readimage" title="UF_ReadImage" class="md-nav__link">
    UF_ReadImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_scanimage" title="UF_ScanImage" class="md-nav__link">
    UF_ScanImage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#310-enroll-api" title="3.10. Enroll API" class="md-nav__link">
    3.10. Enroll API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_enroll" title="UF_Enroll" class="md-nav__link">
    UF_Enroll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollcontinue" title="UF_EnrollContinue" class="md-nav__link">
    UF_EnrollContinue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollafterverification" title="UF_EnrollAfterVerification" class="md-nav__link">
    UF_EnrollAfterVerification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrolltemplate" title="UF_EnrollTemplate" class="md-nav__link">
    UF_EnrollTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollmultipletemplates" title="UF_EnrollMultipleTemplates" class="md-nav__link">
    UF_EnrollMultipleTemplates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollimage" title="UF_EnrollImage" class="md-nav__link">
    UF_EnrollImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setenrollcallback" title="UF_SetEnrollCallback" class="md-nav__link">
    UF_SetEnrollCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#311-identify-api" title="3.11. Identify API" class="md-nav__link">
    3.11. Identify API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_identify" title="UF_Identify" class="md-nav__link">
    UF_Identify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_identifytemplate" title="UF_IdentifyTemplate" class="md-nav__link">
    UF_IdentifyTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_identifyimage" title="UF_IdentifyImage" class="md-nav__link">
    UF_IdentifyImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setidentifycallback" title="UF_SetIdentifyCallback" class="md-nav__link">
    UF_SetIdentifyCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#312-verify-api" title="3.12. Verify API" class="md-nav__link">
    3.12. Verify API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_verify" title="UF_Verify" class="md-nav__link">
    UF_Verify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_verifytemplate" title="UF_VerifyTemplate" class="md-nav__link">
    UF_VerifyTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_verifyhosttemplate" title="UF_VerifyHostTemplate" class="md-nav__link">
    UF_VerifyHostTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_verifyimage" title="UF_VerifyImage" class="md-nav__link">
    UF_VerifyImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setverifycallback" title="UF_SetVerifyCallback" class="md-nav__link">
    UF_SetVerifyCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#313-delete-api" title="3.13. Delete API" class="md-nav__link">
    3.13. Delete API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_delete" title="UF_Delete" class="md-nav__link">
    UF_Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteonetemplate" title="UF_DeleteOneTemplate" class="md-nav__link">
    UF_DeleteOneTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletemultipletemplates" title="UF_DeleteMultipleTemplates" class="md-nav__link">
    UF_DeleteMultipleTemplates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteall" title="UF_DeleteAll" class="md-nav__link">
    UF_DeleteAll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallafterverification" title="UF_DeleteAllAfterVerification" class="md-nav__link">
    UF_DeleteAllAfterVerification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setdeletecallback" title="UF_SetDeleteCallback" class="md-nav__link">
    UF_SetDeleteCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#314-io-api-for-sfm3500" title="3.14. IO API for SFM3500" class="md-nav__link">
    3.14. IO API for SFM3500
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initio" title="UF_InitIO" class="md-nav__link">
    UF_InitIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setinputfunction" title="UF_SetInputFunction" class="md-nav__link">
    UF_SetInputFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getinputfunction" title="UF_GetInputFunction" class="md-nav__link">
    UF_GetInputFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getinputstatus" title="UF_GetInputStatus" class="md-nav__link">
    UF_GetInputStatus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getoutputeventlist" title="UF_GetOutputEventList" class="md-nav__link">
    UF_GetOutputEventList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearalloutputevent" title="UF_ClearAllOutputEvent" class="md-nav__link">
    UF_ClearAllOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearoutputevent" title="UF_ClearOutputEvent" class="md-nav__link">
    UF_ClearOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setoutputevent" title="UF_SetOutputEvent" class="md-nav__link">
    UF_SetOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getoutputevent" title="UF_GetOutputEvent" class="md-nav__link">
    UF_GetOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setoutputstatus" title="UF_SetOutputStatus" class="md-nav__link">
    UF_SetOutputStatus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setlegacywiegandconfigdeprecated" title="UF_SetLegacyWiegandConfig(Deprecated)" class="md-nav__link">
    UF_SetLegacyWiegandConfig(Deprecated)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getlegacywiegandconfigdeprecated" title="UF_GetLegacyWiegandConfig(Deprecated)" class="md-nav__link">
    UF_GetLegacyWiegandConfig(Deprecated)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makeioconfiguration" title="UF_MakeIOConfiguration" class="md-nav__link">
    UF_MakeIOConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#315-gpio-api-for-sfm3000400050006000" title="3.15. GPIO API for SFM3000/4000/5000/6000" class="md-nav__link">
    3.15. GPIO API for SFM3000/4000/5000/6000
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_getgpioconfiguration" title="UF_GetGPIOConfiguration" class="md-nav__link">
    UF_GetGPIOConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setinputgpio" title="UF_SetInputGPIO" class="md-nav__link">
    UF_SetInputGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setoutputgpio" title="UF_SetOutputGPIO" class="md-nav__link">
    UF_SetOutputGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsharedgpio" title="UF_SetSharedGPIO" class="md-nav__link">
    UF_SetSharedGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_disablegpio" title="UF_DisableGPIO" class="md-nav__link">
    UF_DisableGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearallgpio" title="UF_ClearAllGPIO" class="md-nav__link">
    UF_ClearAllGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setdefaultgpio" title="UF_SetDefaultGPIO" class="md-nav__link">
    UF_SetDefaultGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enablewiegandinput" title="UF_EnableWiegandInput" class="md-nav__link">
    UF_EnableWiegandInput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enablewiegandoutput" title="UF_EnableWiegandOutput" class="md-nav__link">
    UF_EnableWiegandOutput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_disablewiegandinput" title="UF_DisableWiegandInput" class="md-nav__link">
    UF_DisableWiegandInput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_disablewiegandoutput" title="UF_DisableWiegandOutput" class="md-nav__link">
    UF_DisableWiegandOutput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makegpioconfiguration" title="UF_MakeGPIOConfiguration" class="md-nav__link">
    UF_MakeGPIOConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#316-user-memory-api" title="3.16. User Memory API" class="md-nav__link">
    3.16. User Memory API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_writeusermemory" title="UF_WriteUserMemory" class="md-nav__link">
    UF_WriteUserMemory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readusermemory" title="UF_ReadUserMemory" class="md-nav__link">
    UF_ReadUserMemory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#317-log-management-api" title="3.17. Log Management API" class="md-nav__link">
    3.17. Log Management API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_settime" title="UF_SetTime" class="md-nav__link">
    UF_SetTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_gettime" title="UF_GetTime" class="md-nav__link">
    UF_GetTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getnumoflog" title="UF_GetNumOfLog" class="md-nav__link">
    UF_GetNumOfLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readlog" title="UF_ReadLog" class="md-nav__link">
    UF_ReadLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readlatestlog" title="UF_ReadLatestLog" class="md-nav__link">
    UF_ReadLatestLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteoldestlog" title="UF_DeleteOldestLog" class="md-nav__link">
    UF_DeleteOldestLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletealllog" title="UF_DeleteAllLog" class="md-nav__link">
    UF_DeleteAllLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearlogcache" title="UF_ClearLogCache" class="md-nav__link">
    UF_ClearLogCache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readlogcache" title="UF_ReadLogCache" class="md-nav__link">
    UF_ReadLogCache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setcustomlogfield" title="UF_SetCustomLogField" class="md-nav__link">
    UF_SetCustomLogField
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getcustomlogfield" title="UF_GetCustomLogField" class="md-nav__link">
    UF_GetCustomLogField
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#318-extended-wiegand-api" title="3.18. Extended Wiegand API" class="md-nav__link">
    3.18. Extended Wiegand API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_setwiegandformat" title="UF_SetWiegandFormat" class="md-nav__link">
    UF_SetWiegandFormat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getwiegandformat" title="UF_GetWiegandFormat" class="md-nav__link">
    UF_GetWiegandFormat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setwiegandio" title="UF_SetWiegandIO" class="md-nav__link">
    UF_SetWiegandIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getwiegandio" title="UF_GetWiegandIO" class="md-nav__link">
    UF_GetWiegandIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setwiegandoption" title="UF_SetWiegandOption" class="md-nav__link">
    UF_SetWiegandOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getwiegandoption" title="UF_GetWiegandOption" class="md-nav__link">
    UF_GetWiegandOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setaltvalue" title="UF_SetAltValue" class="md-nav__link">
    UF_SetAltValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearaltvalue" title="UF_ClearAltValue" class="md-nav__link">
    UF_ClearAltValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getaltvalue" title="UF_GetAltValue" class="md-nav__link">
    UF_GetAltValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makewiegandconfiguration" title="UF_MakeWiegandConfiguration" class="md-nav__link">
    UF_MakeWiegandConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#319-wiegand-command-card-api" title="3.19. Wiegand Command Card API" class="md-nav__link">
    3.19. Wiegand Command Card API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_addwiegandcommandcard" title="UF_AddWiegandCommandCard" class="md-nav__link">
    UF_AddWiegandCommandCard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uf_getwiegandcommandcardlist" title="UF_GetWiegandCommandCardList" class="md-nav__link">
    UF_GetWiegandCommandCardList
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_clearallwiegandcommandcard" title="UF_ClearAllWiegandCommandCard" class="md-nav__link">
    UF_ClearAllWiegandCommandCard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#320-smartcard-api" title="3.20. SmartCard API" class="md-nav__link">
    3.20. SmartCard API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_readsmartcard" title="UF_ReadSmartCard" class="md-nav__link">
    UF_ReadSmartCard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readsmartcardwithag" title="UF_ReadSmartCardWithAG" class="md-nav__link">
    UF_ReadSmartCardWithAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_writesmartcard" title="UF_WriteSmartCard" class="md-nav__link">
    UF_WriteSmartCard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_writesmartcardwithag" title="UF_WriteSmartCardWithAG" class="md-nav__link">
    UF_WriteSmartCardWithAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_writesmartcardwithentrancelimit" title="UF_WriteSmartCardWithEntranceLimit" class="md-nav__link">
    UF_WriteSmartCardWithEntranceLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_formatsmartcard" title="UF_FormatSmartCard" class="md-nav__link">
    UF_FormatSmartCard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsmartcardmode" title="UF_SetSmartCardMode" class="md-nav__link">
    UF_SetSmartCardMode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getsmartcardmode" title="UF_GetSmartCardMode" class="md-nav__link">
    UF_GetSmartCardMode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changeprimarykey" title="UF_ChangePrimaryKey" class="md-nav__link">
    UF_ChangePrimaryKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changesecondarykey" title="UF_ChangeSecondaryKey" class="md-nav__link">
    UF_ChangeSecondaryKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changesecondarykey_1" title="UF_ChangeSecondaryKey" class="md-nav__link">
    UF_ChangeSecondaryKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setkeyoption" title="UF_SetKeyOption" class="md-nav__link">
    UF_SetKeyOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getkeyoption" title="UF_GetKeyOption" class="md-nav__link">
    UF_GetKeyOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setcardlayout" title="UF_SetCardLayout" class="md-nav__link">
    UF_SetCardLayout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getcardlayout" title="UF_GetCardLayout" class="md-nav__link">
    UF_GetCardLayout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsmartcardcallback" title="UF_SetSmartCardCallback" class="md-nav__link">
    UF_SetSmartCardCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#321-access-control-api" title="3.21. Access Control API" class="md-nav__link">
    3.21. Access Control API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_addtimeschedule" title="UF_AddTimeSchedule" class="md-nav__link">
    UF_AddTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_gettimeschedule" title="UF_GetTimeSchedule" class="md-nav__link">
    UF_GetTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletetimeschedule" title="UF_DeleteTimeSchedule" class="md-nav__link">
    UF_DeleteTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletealltimeschedule" title="UF_DeleteAllTimeSchedule" class="md-nav__link">
    UF_DeleteAllTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_addholiday" title="UF_AddHoliday" class="md-nav__link">
    UF_AddHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getholiday" title="UF_GetHoliday" class="md-nav__link">
    UF_GetHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteholiday" title="UF_DeleteHoliday" class="md-nav__link">
    UF_DeleteHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallholiday" title="UF_DeleteAllHoliday" class="md-nav__link">
    UF_DeleteAllHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_addaccessgroup" title="UF_AddAccessGroup" class="md-nav__link">
    UF_AddAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getaccessgroup" title="UF_GetAccessGroup" class="md-nav__link">
    UF_GetAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteaccessgroup" title="UF_DeleteAccessGroup" class="md-nav__link">
    UF_DeleteAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallaccessgroup" title="UF_DeleteAllAccessGroup" class="md-nav__link">
    UF_DeleteAllAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setuseraccessgroup" title="UF_SetUserAccessGroup" class="md-nav__link">
    UF_SetUserAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getuseraccessgroup" title="UF_GetUserAccessGroup" class="md-nav__link">
    UF_GetUserAccessGroup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#322-blacklist-api" title="3.22. Blacklist API" class="md-nav__link">
    3.22. Blacklist API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_addblacklist" title="UF_AddBlacklist" class="md-nav__link">
    UF_AddBlacklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteblacklist" title="UF_DeleteBlacklist" class="md-nav__link">
    UF_DeleteBlacklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getblacklist" title="UF_GetBlacklist" class="md-nav__link">
    UF_GetBlacklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallblacklist" title="UF_DeleteAllBlacklist" class="md-nav__link">
    UF_DeleteAllBlacklist
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#323-wsq-api" title="3.23. WSQ API" class="md-nav__link">
    3.23. WSQ API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_scanimageex" title="UF_ScanImageEx" class="md-nav__link">
    UF_ScanImageEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readimageex" title="UF_ReadImageEx" class="md-nav__link">
    UF_ReadImageEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_wsq_decode" title="UF_WSQ_Decode" class="md-nav__link">
    UF_WSQ_Decode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact-info" title="Contact Info" class="md-nav__link">
    Contact Info
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../UF_Protocol_Manual/" title="UF Protocol Manual" class="md-nav__link">
      UF Protocol Manual
    </a>
  </li>

        
      </ul>
    </nav>
  </li>
    


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      SDK
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        SDK
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/c_cpp/" title="C/C++" class="md-nav__link">
      C/C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/NET/" title=".NET" class="md-nav__link">
      .NET
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/python/" title="python" class="md-nav__link">
      python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../sdk/sdk-license-agreement/" title="SDK License Agreement" class="md-nav__link">
      SDK License Agreement
    </a>
  </li>

        
      </ul>
    </nav>
  </li>
    


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/pysfm/tutorial/" title="pysfm" class="md-nav__link">
      pysfm
    </a>
  </li>

        
      </ul>
    </nav>
  </li>
 
    </ul>
</nav>
                                    </div>
                                </div>
                            </div>
                             
                            <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                                <div class="md-sidebar__scrollwrap">
                                    <div class="md-sidebar__inner">
                                        
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-return-codes" title="3.1. Return Codes" class="md-nav__link">
    3.1. Return Codes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-serial-communication-api" title="3.2. Serial Communication API" class="md-nav__link">
    3.2. Serial Communication API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initcommport" title="UF_InitCommPort" class="md-nav__link">
    UF_InitCommPort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_closecommport" title="UF_CloseCommPort" class="md-nav__link">
    UF_CloseCommPort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_reconnect" title="UF_Reconnect" class="md-nav__link">
    UF_Reconnect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setbaudrate" title="UF_SetBaudrate" class="md-nav__link">
    UF_SetBaudrate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setasciimode" title="UF_SetAsciiMode" class="md-nav__link">
    UF_SetAsciiMode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-socket-api" title="3.3. Socket API" class="md-nav__link">
    3.3. Socket API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initsocket" title="UF_InitSocket" class="md-nav__link">
    UF_InitSocket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_closesocket" title="UF_CloseSocket" class="md-nav__link">
    UF_CloseSocket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-low-level-packet-api" title="3.4. Low-Level Packet API" class="md-nav__link">
    3.4. Low-Level Packet API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_sendpacket" title="UF_SendPacket" class="md-nav__link">
    UF_SendPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_sendnetworkpacket" title="UF_SendNetworkPacket" class="md-nav__link">
    UF_SendNetworkPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receivepacket" title="UF_ReceivePacket" class="md-nav__link">
    UF_ReceivePacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receivenetworkpacket" title="UF_ReceiveNetworkPacket" class="md-nav__link">
    UF_ReceiveNetworkPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_sendrawdata" title="UF_SendRawData" class="md-nav__link">
    UF_SendRawData
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receiverawdata" title="UF_ReceiveRawData" class="md-nav__link">
    UF_ReceiveRawData
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_senddatapacket" title="UF_SendDataPacket" class="md-nav__link">
    UF_SendDataPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_receivedatapacket" title="UF_ReceiveDataPacket" class="md-nav__link">
    UF_ReceiveDataPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsendpacketcallback" title="UF_SetSendPacketCallback" class="md-nav__link">
    UF_SetSendPacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setreceivepacketcallback" title="UF_SetReceivePacketCallback" class="md-nav__link">
    UF_SetReceivePacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsenddatapacketcallback" title="UF_SetSendDataPacketCallback" class="md-nav__link">
    UF_SetSendDataPacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setreceivedatapacketcallback" title="UF_SetReceiveDataPacketCallback" class="md-nav__link">
    UF_SetReceiveDataPacketCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsendrawdatacallback" title="UF_SetSendRawDataCallback" class="md-nav__link">
    UF_SetSendRawDataCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setreceiverawdatacallback" title="UF_SetReceiveRawDataCallback" class="md-nav__link">
    UF_SetReceiveRawDataCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setdefaultpacketsize" title="UF_SetDefaultPacketSize" class="md-nav__link">
    UF_SetDefaultPacketSize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getdefaultpacketsize" title="UF_GetDefaultPacketSize" class="md-nav__link">
    UF_GetDefaultPacketSize
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-generic-command-api" title="3.5. Generic Command API" class="md-nav__link">
    3.5. Generic Command API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_command" title="UF_Command" class="md-nav__link">
    UF_Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_commandex" title="UF_CommandEx" class="md-nav__link">
    UF_CommandEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_commandsenddata" title="UF_CommandSendData" class="md-nav__link">
    UF_CommandSendData
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_commandsenddataex" title="UF_CommandSendDataEx" class="md-nav__link">
    UF_CommandSendDataEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_cancel" title="UF_Cancel" class="md-nav__link">
    UF_Cancel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setprotocol" title="UF_SetProtocol" class="md-nav__link">
    UF_SetProtocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getprotocol" title="UF_GetProtocol" class="md-nav__link">
    UF_GetProtocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmoduleid" title="UF_GetModuleID" class="md-nav__link">
    UF_GetModuleID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setgenericcommandtimeout" title="UF_SetGenericCommandTimeout" class="md-nav__link">
    UF_SetGenericCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setinputcommandtimeout" title="UF_SetInputCommandTimeout" class="md-nav__link">
    UF_SetInputCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getgenericcommandtimeout" title="UF_GetGenericCommandTimeout" class="md-nav__link">
    UF_GetGenericCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getinputcommandtimeout" title="UF_GetInputCommandTimeout" class="md-nav__link">
    UF_GetInputCommandTimeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setnetworkdelay" title="UF_SetNetworkDelay" class="md-nav__link">
    UF_SetNetworkDelay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getnetworkdelay" title="UF_GetNetworkDelay" class="md-nav__link">
    UF_GetNetworkDelay
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-module-api" title="3.6. Module API" class="md-nav__link">
    3.6. Module API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_getmoduleinfo" title="UF_GetModuleInfo" class="md-nav__link">
    UF_GetModuleInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmodulestring" title="UF_GetModuleString" class="md-nav__link">
    UF_GetModuleString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmodule" title="UF_SearchModule" class="md-nav__link">
    UF_SearchModule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmoduleid" title="UF_SearchModuleID" class="md-nav__link">
    UF_SearchModuleID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmodulebysocket" title="UF_SearchModuleBySocket" class="md-nav__link">
    UF_SearchModuleBySocket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_searchmoduleidex" title="UF_SearchModuleIDEx" class="md-nav__link">
    UF_SearchModuleIDEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_calibratesensor" title="UF_CalibrateSensor" class="md-nav__link">
    UF_CalibrateSensor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_upgrade" title="UF_Upgrade" class="md-nav__link">
    UF_Upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_reset" title="UF_Reset" class="md-nav__link">
    UF_Reset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_lock" title="UF_Lock" class="md-nav__link">
    UF_Lock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_unlock" title="UF_Unlock" class="md-nav__link">
    UF_Unlock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changepassword" title="UF_ChangePassword" class="md-nav__link">
    UF_ChangePassword
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_poweroff" title="UF_PowerOff" class="md-nav__link">
    UF_PowerOff
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-system-parameters-api" title="3.7. System Parameters API" class="md-nav__link">
    3.7. System Parameters API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initsysparameter" title="UF_InitSysParameter" class="md-nav__link">
    UF_InitSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getsysparameter" title="UF_GetSysParameter" class="md-nav__link">
    UF_GetSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsysparameter" title="UF_SetSysParameter" class="md-nav__link">
    UF_SetSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmultisysparameter" title="UF_GetMultiSysParameter" class="md-nav__link">
    UF_GetMultiSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setmultisysparameter" title="UF_SetMultiSysParameter" class="md-nav__link">
    UF_SetMultiSysParameter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_save" title="UF_Save" class="md-nav__link">
    UF_Save
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_saveconfiguration" title="UF_SaveConfiguration" class="md-nav__link">
    UF_SaveConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readconfigurationheader" title="UF_ReadConfigurationHeader" class="md-nav__link">
    UF_ReadConfigurationHeader
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_loadconfiguration" title="UF_LoadConfiguration" class="md-nav__link">
    UF_LoadConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makeparameterconfiguration" title="UF_MakeParameterConfiguration" class="md-nav__link">
    UF_MakeParameterConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#38-template-management-api" title="3.8. Template Management API" class="md-nav__link">
    3.8. Template Management API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_getnumoftemplate" title="UF_GetNumOfTemplate" class="md-nav__link">
    UF_GetNumOfTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getmaxnumoftemplate" title="UF_GetMaxNumOfTemplate" class="md-nav__link">
    UF_GetMaxNumOfTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getalluserinfo" title="UF_GetAllUserInfo" class="md-nav__link">
    UF_GetAllUserInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getalluserinfoex" title="UF_GetAllUserInfoEx" class="md-nav__link">
    UF_GetAllUserInfoEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_sortuserinfo" title="UF_SortUserInfo" class="md-nav__link">
    UF_SortUserInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setuserinfocallback" title="UF_SetUserInfoCallback" class="md-nav__link">
    UF_SetUserInfoCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setadminlevel" title="UF_SetAdminLevel" class="md-nav__link">
    UF_SetAdminLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getadminlevel" title="UF_GetAdminLevel" class="md-nav__link">
    UF_GetAdminLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearalladminlevel" title="UF_ClearAllAdminLevel" class="md-nav__link">
    UF_ClearAllAdminLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_savedb" title="UF_SaveDB" class="md-nav__link">
    UF_SaveDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_loaddb" title="UF_LoadDB" class="md-nav__link">
    UF_LoadDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_checktemplate" title="UF_CheckTemplate" class="md-nav__link">
    UF_CheckTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readtemplate" title="UF_ReadTemplate" class="md-nav__link">
    UF_ReadTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readonetemplate" title="UF_ReadOneTemplate" class="md-nav__link">
    UF_ReadOneTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setscancallback" title="UF_SetScanCallback" class="md-nav__link">
    UF_SetScanCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_scantemplate" title="UF_ScanTemplate" class="md-nav__link">
    UF_ScanTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_fixprovisionaltemplate" title="UF_FixProvisionalTemplate" class="md-nav__link">
    UF_FixProvisionalTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsecuritylevel" title="UF_SetSecurityLevel" class="md-nav__link">
    UF_SetSecurityLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getsecuritylevel" title="UF_GetSecurityLevel" class="md-nav__link">
    UF_GetSecurityLevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setauthtype" title="UF_SetAuthType" class="md-nav__link">
    UF_SetAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getauthtype" title="UF_GetAuthType" class="md-nav__link">
    UF_GetAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getuseridbyauthtype" title="UF_GetUserIDByAuthType" class="md-nav__link">
    UF_GetUserIDByAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_resetallauthtype" title="UF_ResetAllAuthType" class="md-nav__link">
    UF_ResetAllAuthType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setentrancelimit" title="UF_SetEntranceLimit" class="md-nav__link">
    UF_SetEntranceLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getentrancelimit" title="UF_GetEntranceLimit" class="md-nav__link">
    UF_GetEntranceLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearallentrancelimit" title="UF_ClearAllEntranceLimit" class="md-nav__link">
    UF_ClearAllEntranceLimit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#39-image-manipulation-api" title="3.9. Image Manipulation API" class="md-nav__link">
    3.9. Image Manipulation API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_converttobitmap" title="UF_ConvertToBitmap" class="md-nav__link">
    UF_ConvertToBitmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_saveimage" title="UF_SaveImage" class="md-nav__link">
    UF_SaveImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_loadimage" title="UF_LoadImage" class="md-nav__link">
    UF_LoadImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readimage" title="UF_ReadImage" class="md-nav__link">
    UF_ReadImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_scanimage" title="UF_ScanImage" class="md-nav__link">
    UF_ScanImage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#310-enroll-api" title="3.10. Enroll API" class="md-nav__link">
    3.10. Enroll API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_enroll" title="UF_Enroll" class="md-nav__link">
    UF_Enroll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollcontinue" title="UF_EnrollContinue" class="md-nav__link">
    UF_EnrollContinue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollafterverification" title="UF_EnrollAfterVerification" class="md-nav__link">
    UF_EnrollAfterVerification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrolltemplate" title="UF_EnrollTemplate" class="md-nav__link">
    UF_EnrollTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollmultipletemplates" title="UF_EnrollMultipleTemplates" class="md-nav__link">
    UF_EnrollMultipleTemplates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enrollimage" title="UF_EnrollImage" class="md-nav__link">
    UF_EnrollImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setenrollcallback" title="UF_SetEnrollCallback" class="md-nav__link">
    UF_SetEnrollCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#311-identify-api" title="3.11. Identify API" class="md-nav__link">
    3.11. Identify API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_identify" title="UF_Identify" class="md-nav__link">
    UF_Identify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_identifytemplate" title="UF_IdentifyTemplate" class="md-nav__link">
    UF_IdentifyTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_identifyimage" title="UF_IdentifyImage" class="md-nav__link">
    UF_IdentifyImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setidentifycallback" title="UF_SetIdentifyCallback" class="md-nav__link">
    UF_SetIdentifyCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#312-verify-api" title="3.12. Verify API" class="md-nav__link">
    3.12. Verify API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_verify" title="UF_Verify" class="md-nav__link">
    UF_Verify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_verifytemplate" title="UF_VerifyTemplate" class="md-nav__link">
    UF_VerifyTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_verifyhosttemplate" title="UF_VerifyHostTemplate" class="md-nav__link">
    UF_VerifyHostTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_verifyimage" title="UF_VerifyImage" class="md-nav__link">
    UF_VerifyImage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setverifycallback" title="UF_SetVerifyCallback" class="md-nav__link">
    UF_SetVerifyCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#313-delete-api" title="3.13. Delete API" class="md-nav__link">
    3.13. Delete API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_delete" title="UF_Delete" class="md-nav__link">
    UF_Delete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteonetemplate" title="UF_DeleteOneTemplate" class="md-nav__link">
    UF_DeleteOneTemplate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletemultipletemplates" title="UF_DeleteMultipleTemplates" class="md-nav__link">
    UF_DeleteMultipleTemplates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteall" title="UF_DeleteAll" class="md-nav__link">
    UF_DeleteAll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallafterverification" title="UF_DeleteAllAfterVerification" class="md-nav__link">
    UF_DeleteAllAfterVerification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setdeletecallback" title="UF_SetDeleteCallback" class="md-nav__link">
    UF_SetDeleteCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#314-io-api-for-sfm3500" title="3.14. IO API for SFM3500" class="md-nav__link">
    3.14. IO API for SFM3500
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_initio" title="UF_InitIO" class="md-nav__link">
    UF_InitIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setinputfunction" title="UF_SetInputFunction" class="md-nav__link">
    UF_SetInputFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getinputfunction" title="UF_GetInputFunction" class="md-nav__link">
    UF_GetInputFunction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getinputstatus" title="UF_GetInputStatus" class="md-nav__link">
    UF_GetInputStatus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getoutputeventlist" title="UF_GetOutputEventList" class="md-nav__link">
    UF_GetOutputEventList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearalloutputevent" title="UF_ClearAllOutputEvent" class="md-nav__link">
    UF_ClearAllOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearoutputevent" title="UF_ClearOutputEvent" class="md-nav__link">
    UF_ClearOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setoutputevent" title="UF_SetOutputEvent" class="md-nav__link">
    UF_SetOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getoutputevent" title="UF_GetOutputEvent" class="md-nav__link">
    UF_GetOutputEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setoutputstatus" title="UF_SetOutputStatus" class="md-nav__link">
    UF_SetOutputStatus
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setlegacywiegandconfigdeprecated" title="UF_SetLegacyWiegandConfig(Deprecated)" class="md-nav__link">
    UF_SetLegacyWiegandConfig(Deprecated)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getlegacywiegandconfigdeprecated" title="UF_GetLegacyWiegandConfig(Deprecated)" class="md-nav__link">
    UF_GetLegacyWiegandConfig(Deprecated)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makeioconfiguration" title="UF_MakeIOConfiguration" class="md-nav__link">
    UF_MakeIOConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#315-gpio-api-for-sfm3000400050006000" title="3.15. GPIO API for SFM3000/4000/5000/6000" class="md-nav__link">
    3.15. GPIO API for SFM3000/4000/5000/6000
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_getgpioconfiguration" title="UF_GetGPIOConfiguration" class="md-nav__link">
    UF_GetGPIOConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setinputgpio" title="UF_SetInputGPIO" class="md-nav__link">
    UF_SetInputGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setoutputgpio" title="UF_SetOutputGPIO" class="md-nav__link">
    UF_SetOutputGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsharedgpio" title="UF_SetSharedGPIO" class="md-nav__link">
    UF_SetSharedGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_disablegpio" title="UF_DisableGPIO" class="md-nav__link">
    UF_DisableGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearallgpio" title="UF_ClearAllGPIO" class="md-nav__link">
    UF_ClearAllGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setdefaultgpio" title="UF_SetDefaultGPIO" class="md-nav__link">
    UF_SetDefaultGPIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enablewiegandinput" title="UF_EnableWiegandInput" class="md-nav__link">
    UF_EnableWiegandInput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_enablewiegandoutput" title="UF_EnableWiegandOutput" class="md-nav__link">
    UF_EnableWiegandOutput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_disablewiegandinput" title="UF_DisableWiegandInput" class="md-nav__link">
    UF_DisableWiegandInput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_disablewiegandoutput" title="UF_DisableWiegandOutput" class="md-nav__link">
    UF_DisableWiegandOutput
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makegpioconfiguration" title="UF_MakeGPIOConfiguration" class="md-nav__link">
    UF_MakeGPIOConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#316-user-memory-api" title="3.16. User Memory API" class="md-nav__link">
    3.16. User Memory API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_writeusermemory" title="UF_WriteUserMemory" class="md-nav__link">
    UF_WriteUserMemory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readusermemory" title="UF_ReadUserMemory" class="md-nav__link">
    UF_ReadUserMemory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#317-log-management-api" title="3.17. Log Management API" class="md-nav__link">
    3.17. Log Management API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_settime" title="UF_SetTime" class="md-nav__link">
    UF_SetTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_gettime" title="UF_GetTime" class="md-nav__link">
    UF_GetTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getnumoflog" title="UF_GetNumOfLog" class="md-nav__link">
    UF_GetNumOfLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readlog" title="UF_ReadLog" class="md-nav__link">
    UF_ReadLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readlatestlog" title="UF_ReadLatestLog" class="md-nav__link">
    UF_ReadLatestLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteoldestlog" title="UF_DeleteOldestLog" class="md-nav__link">
    UF_DeleteOldestLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletealllog" title="UF_DeleteAllLog" class="md-nav__link">
    UF_DeleteAllLog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearlogcache" title="UF_ClearLogCache" class="md-nav__link">
    UF_ClearLogCache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readlogcache" title="UF_ReadLogCache" class="md-nav__link">
    UF_ReadLogCache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setcustomlogfield" title="UF_SetCustomLogField" class="md-nav__link">
    UF_SetCustomLogField
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getcustomlogfield" title="UF_GetCustomLogField" class="md-nav__link">
    UF_GetCustomLogField
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#318-extended-wiegand-api" title="3.18. Extended Wiegand API" class="md-nav__link">
    3.18. Extended Wiegand API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_setwiegandformat" title="UF_SetWiegandFormat" class="md-nav__link">
    UF_SetWiegandFormat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getwiegandformat" title="UF_GetWiegandFormat" class="md-nav__link">
    UF_GetWiegandFormat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setwiegandio" title="UF_SetWiegandIO" class="md-nav__link">
    UF_SetWiegandIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getwiegandio" title="UF_GetWiegandIO" class="md-nav__link">
    UF_GetWiegandIO
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setwiegandoption" title="UF_SetWiegandOption" class="md-nav__link">
    UF_SetWiegandOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getwiegandoption" title="UF_GetWiegandOption" class="md-nav__link">
    UF_GetWiegandOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setaltvalue" title="UF_SetAltValue" class="md-nav__link">
    UF_SetAltValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_clearaltvalue" title="UF_ClearAltValue" class="md-nav__link">
    UF_ClearAltValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getaltvalue" title="UF_GetAltValue" class="md-nav__link">
    UF_GetAltValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_makewiegandconfiguration" title="UF_MakeWiegandConfiguration" class="md-nav__link">
    UF_MakeWiegandConfiguration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#319-wiegand-command-card-api" title="3.19. Wiegand Command Card API" class="md-nav__link">
    3.19. Wiegand Command Card API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_addwiegandcommandcard" title="UF_AddWiegandCommandCard" class="md-nav__link">
    UF_AddWiegandCommandCard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uf_getwiegandcommandcardlist" title="UF_GetWiegandCommandCardList" class="md-nav__link">
    UF_GetWiegandCommandCardList
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_clearallwiegandcommandcard" title="UF_ClearAllWiegandCommandCard" class="md-nav__link">
    UF_ClearAllWiegandCommandCard
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#320-smartcard-api" title="3.20. SmartCard API" class="md-nav__link">
    3.20. SmartCard API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_readsmartcard" title="UF_ReadSmartCard" class="md-nav__link">
    UF_ReadSmartCard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readsmartcardwithag" title="UF_ReadSmartCardWithAG" class="md-nav__link">
    UF_ReadSmartCardWithAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_writesmartcard" title="UF_WriteSmartCard" class="md-nav__link">
    UF_WriteSmartCard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_writesmartcardwithag" title="UF_WriteSmartCardWithAG" class="md-nav__link">
    UF_WriteSmartCardWithAG
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_writesmartcardwithentrancelimit" title="UF_WriteSmartCardWithEntranceLimit" class="md-nav__link">
    UF_WriteSmartCardWithEntranceLimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_formatsmartcard" title="UF_FormatSmartCard" class="md-nav__link">
    UF_FormatSmartCard
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsmartcardmode" title="UF_SetSmartCardMode" class="md-nav__link">
    UF_SetSmartCardMode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getsmartcardmode" title="UF_GetSmartCardMode" class="md-nav__link">
    UF_GetSmartCardMode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changeprimarykey" title="UF_ChangePrimaryKey" class="md-nav__link">
    UF_ChangePrimaryKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changesecondarykey" title="UF_ChangeSecondaryKey" class="md-nav__link">
    UF_ChangeSecondaryKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_changesecondarykey_1" title="UF_ChangeSecondaryKey" class="md-nav__link">
    UF_ChangeSecondaryKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setkeyoption" title="UF_SetKeyOption" class="md-nav__link">
    UF_SetKeyOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getkeyoption" title="UF_GetKeyOption" class="md-nav__link">
    UF_GetKeyOption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setcardlayout" title="UF_SetCardLayout" class="md-nav__link">
    UF_SetCardLayout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getcardlayout" title="UF_GetCardLayout" class="md-nav__link">
    UF_GetCardLayout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setsmartcardcallback" title="UF_SetSmartCardCallback" class="md-nav__link">
    UF_SetSmartCardCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#321-access-control-api" title="3.21. Access Control API" class="md-nav__link">
    3.21. Access Control API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_addtimeschedule" title="UF_AddTimeSchedule" class="md-nav__link">
    UF_AddTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_gettimeschedule" title="UF_GetTimeSchedule" class="md-nav__link">
    UF_GetTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletetimeschedule" title="UF_DeleteTimeSchedule" class="md-nav__link">
    UF_DeleteTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deletealltimeschedule" title="UF_DeleteAllTimeSchedule" class="md-nav__link">
    UF_DeleteAllTimeSchedule
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_addholiday" title="UF_AddHoliday" class="md-nav__link">
    UF_AddHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getholiday" title="UF_GetHoliday" class="md-nav__link">
    UF_GetHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteholiday" title="UF_DeleteHoliday" class="md-nav__link">
    UF_DeleteHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallholiday" title="UF_DeleteAllHoliday" class="md-nav__link">
    UF_DeleteAllHoliday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_addaccessgroup" title="UF_AddAccessGroup" class="md-nav__link">
    UF_AddAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getaccessgroup" title="UF_GetAccessGroup" class="md-nav__link">
    UF_GetAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteaccessgroup" title="UF_DeleteAccessGroup" class="md-nav__link">
    UF_DeleteAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallaccessgroup" title="UF_DeleteAllAccessGroup" class="md-nav__link">
    UF_DeleteAllAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_setuseraccessgroup" title="UF_SetUserAccessGroup" class="md-nav__link">
    UF_SetUserAccessGroup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getuseraccessgroup" title="UF_GetUserAccessGroup" class="md-nav__link">
    UF_GetUserAccessGroup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#322-blacklist-api" title="3.22. Blacklist API" class="md-nav__link">
    3.22. Blacklist API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_addblacklist" title="UF_AddBlacklist" class="md-nav__link">
    UF_AddBlacklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteblacklist" title="UF_DeleteBlacklist" class="md-nav__link">
    UF_DeleteBlacklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_getblacklist" title="UF_GetBlacklist" class="md-nav__link">
    UF_GetBlacklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_deleteallblacklist" title="UF_DeleteAllBlacklist" class="md-nav__link">
    UF_DeleteAllBlacklist
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#323-wsq-api" title="3.23. WSQ API" class="md-nav__link">
    3.23. WSQ API
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uf_scanimageex" title="UF_ScanImageEx" class="md-nav__link">
    UF_ScanImageEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_readimageex" title="UF_ReadImageEx" class="md-nav__link">
    UF_ReadImageEx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uf_wsq_decode" title="UF_WSQ_Decode" class="md-nav__link">
    UF_WSQ_Decode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact-info" title="Contact Info" class="md-nav__link">
    Contact Info
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                                    </div>
                                </div>
                            </div>
                             
                            <div class="md-content">
                                <article class="md-content__inner md-typeset">
                                     
                                    <a href="https://github.com/supremainc/sfmdev/tree/master/docs/documents/API_Specification.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>   <h1 id="3-api-specification">3. API Specification<a class="headerlink" href="#3-api-specification" title="Permanent link">&para;</a></h1>
<h2 id="31-return-codes">3.1. Return Codes<a class="headerlink" href="#31-return-codes" title="Permanent link">&para;</a></h2>
<p>Most APIs in the SDK return UF_RET_CODE. The return codes and their meanings are as follows;</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>UF_RET_SUCCESS</td>
<td>The function succeeds.</td>
</tr>
<tr>
<td>Serial Comm.</td>
<td>UF_ERR_CANNOT_OPEN_SEREIAL</td>
<td>Cannot open the specified serial port.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_SETUP_SERIAL</td>
<td>Cannot set the baud rate.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_WRITE_SERIAL</td>
<td>Cannot write data to the serial port.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_WRITE_SERIAL_TIMEOUT</td>
<td>Write timeout.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_READ_SERIAL</td>
<td>Cannot read data from the serial port.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_READ_SERIAL_TIMEOUT</td>
<td>Read timeout.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CHECKSUM_ERROR</td>
<td>Received packet has wrong checksum.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_SET_TIMEOUT</td>
<td>Cannot set communication timeout.</td>
</tr>
<tr>
<td>Socket</td>
<td>UF_ERR_CANNOT_START_SOCKET</td>
<td>Cannot initialize the socket interface.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_OPEN_SOCKET</td>
<td>Cannot open the socket.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_CONNECT_SOCKET</td>
<td>Cannot connect to the socket.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_READ_SOCKET</td>
<td>Cannot read data from the socket.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_READ_SOCKET_TIMEOUT</td>
<td>Read timeout.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANNOT_WRITE_SOCKET</td>
<td>Cannot write data to the socket.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_WRITE_SOCKET_TIMEOUT</td>
<td>Write timeout.</td>
</tr>
<tr>
<td>Protocol</td>
<td>UF_ERR_SCAN_FAIL</td>
<td>Sensor or fingerprint input has failed.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_NOT_FOUND</td>
<td>Identification failed, or the requested data is not found.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_NOT_MATCH</td>
<td>Fingerprint does not match.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_TRY_AGAIN</td>
<td>Fingerprint image is not good.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_TIME_OUT</td>
<td>Timeout for fingerprint input.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_MEM_FULL</td>
<td>No more templates are allowed.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_EXIST_ID</td>
<td>The specified user ID already exists.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_FINGER_LIMIT</td>
<td>The number of fingerprints enrolled in same ID exceeds its limit.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_UNSUPPORTED</td>
<td>The command is not supported.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_INVALID_ID</td>
<td>The requested user ID is invalid or missing.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_TIMEOUT_MATCH</td>
<td>Timeout for fingerprint identification.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_BUSY</td>
<td>Module is processing another command.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CANCELED</td>
<td>The command is canceled.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_DATA_ERROR</td>
<td>The checksum of a data packet is incorrect.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_EXIST_FINGER</td>
<td>The finger is already enrolled.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_DURESS_FINGER</td>
<td>A duress finger is detected.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_CARD_ERROR</td>
<td>Cannot read a smart card.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_LOCKED</td>
<td>Module is locked.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_ACCESS_NOT_GRANTED</td>
<td>Access is not granted by time schedule and access group.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_REJECTED_ID</td>
<td>Authentication type of the user is UF_AUTH_REJECT or the ID is in the blacklist.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_FAKE_DETECTED</td>
<td>Scanned finger is determined as a fake finger.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_EXCEED_ENTRANCE_LIMIT</td>
<td>Entrance limit is exceeded.</td>
</tr>
<tr>
<td>Application</td>
<td>UF_ERR_OUT_OF_MEMORY</td>
<td>Out of memory.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_INVALID_PARAMETER</td>
<td>Invalid parameter.</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_FILE_IO</td>
<td>File I/O failed</td>
</tr>
<tr>
<td></td>
<td>UF_ERR_INVALID_FILE</td>
<td>The configuration or DB file is invalid.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="32-serial-communication-api">3.2. Serial Communication API<a class="headerlink" href="#32-serial-communication-api" title="Permanent link">&para;</a></h2>
<p>To communicate with SFM modules, users should configure the serial port first.</p>
<ul>
<li><code>UF_InitCommPort</code>: configures serial port parameters.</li>
<li><code>UF_CloseCommPort</code>: closes the serial port.</li>
<li><code>UF_Reconnect</code>: resets system parameters and IO settings.</li>
<li><code>UF_SetBaudrate</code>: changes the baud rate.</li>
<li><code>UF_SetAsciiMode</code>: changes the packet translation mode.</li>
</ul>
<hr />
<h3 id="uf_initcommport">UF_InitCommPort<a class="headerlink" href="#uf_initcommport" title="Permanent link">&para;</a></h3>
<p>Opens a serial port and configures communication parameters. This function should be called first before calling any other APIs.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_InitCommPort</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">commPort</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">baudrate</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">asciiMode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>commPort</em></strong><br />
Pointer to a null-terminated string that specifies the name of the serial port.<br />
<strong><em>baudrate</em></strong><br />
Specifies the baud rate at which the serial port operates. Available baud rates are 9600, 19200, 38400, 57600, 115200bps (230400bps and 460800bps are available in later version of 5.0). The default setting of SFM modules is 115200bps.<br />
<strong><em>asciiMode</em></strong><br />
Determines the packet translation mode. If it is set to TRUE, the binary packet is converted to ASCII format first before being sent to the module. Response packets are in ASCII format, too. The default setting of SFM modules is binary mode.</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
<p><strong>Example</strong><br />
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_InitCommPort</span><span class="p">(</span><span class="w"> </span><span class="err"></span><span class="n">COM1</span><span class="err"></span><span class="p">,</span><span class="w"> </span><span class="mi">115200</span><span class="p">,</span><span class="w"> </span><span class="n">FALSE</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_closecommport">UF_CloseCommPort<a class="headerlink" href="#uf_closecommport" title="Permanent link">&para;</a></h3>
<p>Closes the serial port opened by <code>UF_InitCommPort</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CloseCommPort</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_reconnect">UF_Reconnect<a class="headerlink" href="#uf_reconnect" title="Permanent link">&para;</a></h3>
<p>To improve communication efficiency, the SDK caches basic information of a module such as system parameters and I/O settings. <code>UF_Reconnect</code> clears this cached information. When changing the modules connected to the serial port, this function should be called.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_Reconnect</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong> <br />
None  </p>
<p><strong>Return Values</strong><br />
None  </p>
</div>
<hr />
<h3 id="uf_setbaudrate">UF_SetBaudrate<a class="headerlink" href="#uf_setbaudrate" title="Permanent link">&para;</a></h3>
<p>Changes the baud rate.  </p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetBaudrate</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">baudrate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>baudrate</em></strong><br />
Specifies the baud rate at which the serial port operates. Available baud rates are 9600, 19200, 38400, 57600, 115200bps. The default setting of SFM modules is 115200bps.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setasciimode">UF_SetAsciiMode<a class="headerlink" href="#uf_setasciimode" title="Permanent link">&para;</a></h3>
<p>Changes the packet translation mode.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetAsciiMode</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">asciiMode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>asciiMode</em></strong><br />
TRUE for ascii format, FALSE for binary format.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="33-socket-api">3.3. Socket API<a class="headerlink" href="#33-socket-api" title="Permanent link">&para;</a></h2>
<p>In addition to serial ports, users can connect to the module by Ethernet-to-Serial converters. In this case, socket API should be used in place of serial API.</p>
<ul>
<li><code>UF_InitSocket</code>: opens a socket and connects to the specified IP address.</li>
<li><code>UF_CloseSocket</code>: closes the socket.</li>
</ul>
<hr />
<h3 id="uf_initsocket">UF_InitSocket<a class="headerlink" href="#uf_initsocket" title="Permanent link">&para;</a></h3>
<p>Initializes the socket interface and connects to the module with specified IP address.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_InitSocket</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">inetAddr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">asciiMode</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>inetAddr</em></strong><br />
IP address of the Ethernet-to-Serial converter.<br />
<strong><em>port</em></strong><br />
TCP port of the socket interface.<br />
<strong><em>asciiMode</em></strong><br />
Determines the packet translation mode. If it is set to <code>TRUE</code>, the binary packet is converted to ASCII format first before being sent to the module. Response packets are in ASCII format, too. The default setting of SFM modules is binary mode.</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_InitSocket</span><span class="p">(</span><span class="w"> </span><span class="err"></span><span class="mf">192.168.1.41</span><span class="err"></span><span class="p">,</span><span class="w"> </span><span class="mi">1470</span><span class="p">,</span><span class="w"> </span><span class="n">FALSE</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<h3 id="uf_closesocket">UF_CloseSocket<a class="headerlink" href="#uf_closesocket" title="Permanent link">&para;</a></h3>
<p>Closes the socket interface.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CloseSocket</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="34-low-level-packet-api">3.4. Low-Level Packet API<a class="headerlink" href="#34-low-level-packet-api" title="Permanent link">&para;</a></h2>
<p>These functions provide direct interface to the low-level packet exchanges. In most cases, users need not to call these functions directly. Command API and other high level APIs are implemented on top of this API.
Packet API also let users set callback functions for data transfer. Examples of using these callback functions for GUI application can be found in UniFingerUI V4.0 source codes.</p>
<ul>
<li><code>UF_SendPacket</code>: sends a 13 byte packet.</li>
<li><code>UF_SendNetworkPacket</code>: sends a 15 byte network packet.</li>
<li><code>UF_ReceivePacket</code>: receives a 13 byte packet.</li>
<li><code>UF_ReceiveNetworkPacket</code>: receives a 15 byte network packet.</li>
<li><code>UF_SendRawData</code>: sends raw data.</li>
<li><code>UF_ReceiveRawData</code>: receives raw data.</li>
<li><code>UF_SendDataPacket</code>: sends data using Extended Data Transfer Protocol.</li>
<li><code>UF_ReceiveDataPacket</code>: receives data using Extended Data Transfer Protocol.</li>
<li><code>UF_SetSendPacketCallback</code>: sets the callback function of sending packets.</li>
<li><code>UF_SetReceivePacketCallback</code>: sets the callback function of receiving packets.</li>
<li><code>UF_SetSendDataPacketCallback</code>: sets the callback function of sending data packets.</li>
<li><code>UF_SetReceiveDataPacketCallback</code>: sets the callback function of receiving data packets.</li>
<li><code>UF_SetSendRawDataCallback</code>: sets the callback function of sending raw data.</li>
<li><code>UF_SetReceiveRawDataCallback</code>: sets the callback function of receiving raw data.</li>
<li><code>UF_SetDefaultPacketSize</code>: sets the size of data packets.</li>
<li><code>UF_GetDefaultPacketSize</code>: gets the size of data packets.</li>
</ul>
<hr />
<h3 id="uf_sendpacket">UF_SendPacket<a class="headerlink" href="#uf_sendpacket" title="Permanent link">&para;</a></h3>
<p>Sends a 13 byte packet to the module. The packet is composed as follows;</p>
<table>
<thead>
<tr>
<th align="center">Start code</th>
<th align="center">Command</th>
<th align="center">Param</th>
<th align="center">Size</th>
<th align="center">Flag/Error</th>
<th align="center">Checksum</th>
<th align="center">End code</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1byte</td>
<td align="center">1byte</td>
<td align="center">4bytes</td>
<td align="center">4bytes</td>
<td align="center">1byte</td>
<td align="center">1byte</td>
<td align="center">1byte</td>
</tr>
</tbody>
</table>
<ul>
<li><code>Start code</code>: 1 byte. Indicates the beginning of a packet. It always should be 0x40.</li>
<li><code>Command</code>: 1 byte. Refer to the Packet Protocol Manual for available commands.</li>
<li><code>Param</code>: 4 bytes. The meaning of this field varies according to each command.</li>
<li><code>Size</code>: 4 bytes. The meaning of this field varies according to each command.</li>
<li><code>Flag/Error</code>: 1 byte. Indicates flag data in the request packet, and error code in the response packet.</li>
<li><code>Checksum</code>: 1 byte. Checks the validity of a packet. Checksum is a remainder of the sum of each field, from the Start code to Flag/Error, divided by 256 (0x100).</li>
<li><code>End code</code>: 1 byte. Indicates the end of a packet. It always should be 0x0A. It is also used as a code indicating the end of binary data such as fingerprint templates.  </li>
</ul>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SendPacket</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">flag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Refer to the Packet Protocol Manual for available commands.<br />
<strong><em>param</em></strong><br />
Param field of a packet.<br />
<strong><em>size</em></strong><br />
Size field of a packet.<br />
<strong><em>flag</em></strong><br />
Flag field of a packet.<br />
<strong><em>timeout</em></strong><br />
Sets the timeout in milliseconds. If sending does not complete within this limit, <code>UF_ERR_WRITE_SERIAL_TIMEOUT</code> will be returned.</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong><br />
<div class="highlight"><pre><span></span><code><span class="c1">// To send ES command with user ID 10 and ADD_NEW(0x79) option,</span>
<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_SendPacket</span><span class="p">(</span><span class="w"> </span><span class="n">UF_COM_ES</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x79</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="n">If</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">UF_RET_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">Return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_sendnetworkpacket">UF_SendNetworkPacket<a class="headerlink" href="#uf_sendnetworkpacket" title="Permanent link">&para;</a></h3>
<p>Sends a 15 byte network packet to the specified module. In order to support RS422 or RS485 network interfaces, SFM modules support Network Packet Protocol. Network packet is composed of 15 bytes, whose start code is different from the standard packet, and includes 2 bytes for terminal ID. The terminal ID is equal to the lower 2 bytes of Module ID of system parameter.</p>
<table>
<thead>
<tr>
<th align="center">Field</th>
<th align="center">Start code</th>
<th align="center">Terminal ID</th>
<th align="center">Command</th>
<th align="center">Param</th>
<th align="center">Size</th>
<th align="center">Flag / Error</th>
<th align="center">Checksum</th>
<th align="center">End code</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Bytes</td>
<td align="center">1</td>
<td align="center">2</td>
<td align="center">1</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">Value</td>
<td align="center">0x41</td>
<td align="center">1 ~ 0xFFFF</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">Same as standard protocol</td>
<td align="center"></td>
<td align="center">Checksum of 13 bytes</td>
<td align="center">0x0A</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_SendNetworkPacket</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">USHORT</span><span class="w"> </span><span class="n">terminalID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">flag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Refer to the Packet Protocol Manual for available commands.<br />
<strong><em>terminalID</em></strong><br />
Specifies the terminal ID of the receiving module.<br />
<strong><em>param</em></strong><br />
Param field of a packet.<br />
<strong><em>size</em></strong><br />
Size field of a packet.<br />
<strong><em>flag</em></strong><br />
Flag field of a packet.<br />
<strong><em>timeout</em></strong><br />
Sets the timeout in milliseconds. If sending does not complete within this limit, <code>UF_ERR_WRITE_SERIAL_TIMEOUT</code> will be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_receivepacket">UF_ReceivePacket<a class="headerlink" href="#uf_receivepacket" title="Permanent link">&para;</a></h3>
<p>Receives a 13 byte packet from the module. Most commands of Packet Protocol can be implemented by a pair of <code>UF_SendPacket</code>/<code>UF_ReceivePacket</code> or <code>UF_SendNetworkPacket</code>/<code>UF_ReceiveNetworkPacket</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReceivePacket</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">packet</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>packet</em></strong><br />
Pointer to the 13 byte packet.<br />
<strong><em>timeout</em></strong><br />
Sets the timeout in milliseconds. If receiving does not complete within this limit, <code>UF_ERR_READ_SERIAL_TIMEOUT</code> will be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<h3 id="uf_receivenetworkpacket">UF_ReceiveNetworkPacket<a class="headerlink" href="#uf_receivenetworkpacket" title="Permanent link">&para;</a></h3>
<p>Receives a 15 byte network packet from the specified module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_ReceiveNetworkPacket</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">packet</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>packet</em></strong><br />
Pointer to the 15 byte packet.<br />
<strong><em>timeout</em></strong><br />
Sets the timeout in milliseconds. If receiving does not complete within this limit, UF_ERR_READ_SERIAL_TIMEOUT will be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_sendrawdata">UF_SendRawData<a class="headerlink" href="#uf_sendrawdata" title="Permanent link">&para;</a></h3>
<p>Some commands such as <code>ET</code>(Enroll Template) and <code>IT</code>(Identify Template) send additional data after the 13/15 byte request packet. <code>UF_SendRawData</code> is used in these cases for sending the data.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SendRawData</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>buf</em></strong><br />
Pointer to a data buffer.<br />
<strong><em>size</em></strong><br />
Number of bytes to be sent.<br />
<strong><em>timeout</em></strong><br />
Sets the timeout in milliseconds. If sending does not complete within this limit, <code>UF_ERR_WRITE_SERIAL_TIMEOUT</code> will be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_receiverawdata">UF_ReceiveRawData<a class="headerlink" href="#uf_receiverawdata" title="Permanent link">&para;</a></h3>
<p>Some commands such as <code>ST</code>(Scan Template) and <code>RT</code>(Read Template) return additional data after the 13/15 byte response packet. <code>UF_ReceiveRawData</code> is used in these cases for receiving the data.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReceiveRawData</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">checkEndCode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>buf</em></strong><br />
Pointer to a data buffer.<br />
<strong><em>size</em></strong><br />
Number of bytes to be received.<br />
<strong><em>timeout</em></strong><br />
Sets the timeout in milliseconds. If receiving does not complete within this limit, <code>UF_ERR_READ_SERIAL_TIMEOUT</code> will be returned.<br />
<strong><em>checkEndCode</em></strong><br />
Data transfer ends with 0x0a. If this parameter is FALSE, the function returns without checking the end code.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_senddatapacket">UF_SendDataPacket<a class="headerlink" href="#uf_senddatapacket" title="Permanent link">&para;</a></h3>
<p>Sends data using Extended Data Transfer Protocol. Dividing large data into small blocks can reduce communication errors between the host and the module. Extended Data Transfer Protocol is an extension of Packet Protocol to provide a reliable and customizable communication for large data. In Extended Data Transfer Protocol, data is divided into multiple data packets. And a data packet consists of fixed-length header, variable-length data body, and 4 byte checksum. Commands which use the Extended Data Transfer Protocols are <code>EIX</code>, <code>VIX</code>, <code>IIX</code>, <code>RIX</code>, <code>SIX</code>, and <code>UG</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_SendDataPacket</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">dataSize</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">dataPacketSize</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Valid commands are <code>EIX</code>, <code>VIX</code>, <code>IIX</code>, <code>RIX</code>, <code>SIX</code>, and <code>UG</code>.<br />
<strong><em>buf</em></strong><br />
Pointer to a data buffer.<br />
<strong><em>dataSize</em></strong><br />
Number of bytes to be sent.<br />
<strong><em>dataPacketSize</em></strong><br />
Size of data packet. For example, if dataSize is 16384 bytes and dataPacketSize is 4096 bytes, the data will be divided into 4 data packets.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_receivedatapacket">UF_ReceiveDataPacket<a class="headerlink" href="#uf_receivedatapacket" title="Permanent link">&para;</a></h3>
<p>Receives data using Extended Data Transfer Protocol. The size of data packet should be specified before calling this function.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_ReceiveDataPacket</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">dataSize</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Valid commands are <code>EIX</code>, <code>VIX</code>, <code>IIX</code>, <code>RIX</code>, <code>SIX</code>, and <code>UG</code>.<br />
<strong><em>buf</em></strong><br />
Pointer to a data buffer.<br />
<strong><em>dataSize</em></strong><br />
Number of bytes to be received.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setsendpacketcallback">UF_SetSendPacketCallback<a class="headerlink" href="#uf_setsendpacketcallback" title="Permanent link">&para;</a></h3>
<p>If <code>SendPacketCallback</code> is specified, it is called after sending a packet successfully. The argument of the callback is the pointer to the packet.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetSendPacketCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None  </p>
<p><strong>Example</strong><br />
See CMainFrame::SendPacketCallback in UniFingerUI source codes.  </p>
</div>
<hr />
<h3 id="uf_setreceivepacketcallback">UF_SetReceivePacketCallback<a class="headerlink" href="#uf_setreceivepacketcallback" title="Permanent link">&para;</a></h3>
<p>If <code>ReceivePacketCallback</code> is specified, it is called after receiving a packet successfully. The argument of the callback is the pointer to the received packet.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetReceivePacketCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
<p><strong>Example</strong><br />
See CMainFrame::ReceivePacketCallback in UniFingerUI source codes.</p>
</div>
<hr />
<h3 id="uf_setsenddatapacketcallback">UF_SetSendDataPacketCallback<a class="headerlink" href="#uf_setsenddatapacketcallback" title="Permanent link">&para;</a></h3>
<p>If <code>SendDataPacketCallback</code> is specified, it is called after sending a data packet successfully. The argument of the callback is the index of the data packet and the number of total data packets.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_SetSendDataPacketCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfPacket</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None  </p>
<p><strong>Example</strong><br />
See CMainFrame::DataPacketCallback in UniFingerUI source codes.</p>
</div>
<hr />
<h3 id="uf_setreceivedatapacketcallback">UF_SetReceiveDataPacketCallback<a class="headerlink" href="#uf_setreceivedatapacketcallback" title="Permanent link">&para;</a></h3>
<p>If <code>ReceiveDataPacketCallback</code> is specified, it is called after receiving a data packet successfully. The argument of the callback is the index of the data packet and the number of total data packets.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetReceiveDataPacketCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfPacket</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
<p><strong>Example</strong>
See CMainFrame::DataPacketCallback in UniFingerUI source codes.</p>
</div>
<hr />
<h3 id="uf_setsendrawdatacallback">UF_SetSendRawDataCallback<a class="headerlink" href="#uf_setsendrawdatacallback" title="Permanent link">&para;</a></h3>
<p>If <code>SendRawDataCallback</code> is specified, it is called during sending raw data. The argument of the callback is the written length and the total length of data.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetSendRawDataCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">writtenLen</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">totalSize</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
<p><strong>Example</strong><br />
See CMainFrame::RawDataCallback in UniFingerUI source codes.</p>
</div>
<hr />
<h3 id="uf_setreceiverawdatacallback">UF_SetReceiveRawDataCallback<a class="headerlink" href="#uf_setreceiverawdatacallback" title="Permanent link">&para;</a></h3>
<p>If <code>ReceiveRawDataCallback</code> is specified, it is called during receiving data. The argument of the callback is the read length and the total length of data.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetReceiveRawDataCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">readLen</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">totalSize</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.</p>
<p><strong>Return Values</strong><br />
None</p>
<p><strong>Example</strong><br />
See CMainFrame::RawDataCallback in UniFingerUI source codes.</p>
</div>
<hr />
<h3 id="uf_setdefaultpacketsize">UF_SetDefaultPacketSize<a class="headerlink" href="#uf_setdefaultpacketsize" title="Permanent link">&para;</a></h3>
<p>Sets the size of data packets used in Extended Data Transfer protocol. The default value is 4096. When BEACon is used as an Ethernet-to-Serial converter, this value should not be larger than 256.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetDefaultPacketSize</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">defaultSize</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>defaultSize</em></strong><br />
Size of data packet.</p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_getdefaultpacketsize">UF_GetDefaultPacketSize<a class="headerlink" href="#uf_getdefaultpacketsize" title="Permanent link">&para;</a></h3>
<p>Returns the size of data packet used in Extended Data Transfer protocol.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">UF_GetDefaultPacketSize</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
The size of data packet.</p>
</div>
<hr />
<h2 id="35-generic-command-api">3.5. Generic Command API<a class="headerlink" href="#35-generic-command-api" title="Permanent link">&para;</a></h2>
<p>The commands defined in the Packet Protocol Manual can be classified into several categories according to the types of packet exchange. Generic Command API provides functions which encapsulate these categories. Like low-level Packet API, users need not to call these functions directly. Most commands have corresponding high-level API in the SDK.</p>
<ul>
<li><code>UF_Command</code>: encapsulates the commands composed of one request packet and one response packet.</li>
<li><code>UF_CommandEx</code>: encapsulates the commands composed of one request packet and multiple response packets.</li>
<li><code>UF_CommandSendData</code>: encapsulates the commands which send additional data after a request packet.</li>
<li><code>UF_CommandSendDataEx</code>: encapsulates the commands which send additional data and have multiple response packets.</li>
<li><code>UF_Cancel</code>: cancels the previously issued command.</li>
<li><code>UF_SetProtocol</code>: sets the type of packet protocol.</li>
<li><code>UF_GetProtocol</code>: gets the type of packet protocol.</li>
<li><code>UF_GetModuleID</code>: gets the module ID.</li>
<li><code>UF_SetGenericCommandTimeout</code>: sets the timeout for generic commands.</li>
<li><code>UF_SetInputCommandTimeout</code>: sets the timeout for commands which require user inputs.</li>
<li><code>UF_GetGenericCommandTimeout</code>: gets the timeout for generic commands.</li>
<li>'UF_GetInputCommandTimeout`: gets the timeout for commands which require user inputs.</li>
<li><code>UF_SetNetworkDelay</code>: sets the delay for the Network Packet Protocol.</li>
<li><code>UF_GetNetworKDelay</code>: gets the delay for the Network Packet Protocol.</li>
</ul>
<hr />
<h3 id="uf_command">UF_Command<a class="headerlink" href="#uf_command" title="Permanent link">&para;</a></h3>
<p>Encapsulates the commands composed of one request packet and one response packet. The majority of commands can be implemented using <code>UF_Command</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Command</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Refer to the Packet Protocol Manual for available commands.<br />
<strong><em>param</em></strong><br />
Param field of a packet. This parameter is used both for input and output.<br />
<strong><em>size</em></strong><br />
Size field of a packet. This parameter is used both for input and output.<br />
<strong><em>flag</em></strong><br />
Flag field of a packet. This parameter is used both for input and output.  </p>
<p><strong>Return Values</strong><br />
If packets are transferred successfully, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code. <code>UF_RET_SUCCESS</code> only means that request packet is received successfully. To know if the operation succeeds, the flag field should be checked.</p>
<p><strong>Example</strong><br />
<div class="highlight"><pre><span></span><code><span class="c1">// To read Timeout(0x62) system parameter,</span>
<span class="n">UINT32</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="n">UINT32</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="n">BYTE</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x62</span><span class="p">;</span><span class="w"></span>
<span class="n">UINT32</span><span class="w"> </span><span class="n">timeout</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_Command</span><span class="p">(</span><span class="w"> </span><span class="n">UF_COM_SR</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">flag</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="n">If</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">UF_RET_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1">// communication error</span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="n">If</span><span class="p">(</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">UF_PROTO_RET_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1">// protocol error</span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">UF_GetErrorCode</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="c1">// succeed</span>
<span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_commandex">UF_CommandEx<a class="headerlink" href="#uf_commandex" title="Permanent link">&para;</a></h3>
<p>Encapsulates the commands composed of one request packet and multiple response packets. Command such as <code>ES</code>(Enroll) and <code>IS</code>(Identify) can have more than one response packet. To handle these cases, <code>UF_CommandEx</code> requires a message callback function, which should return TRUE when the received packet is the last one.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CommandEx</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">flag</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">msgCallback</span><span class="p">)(</span><span class="n">BYTE</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Refer to the Packet Protocol Manual for available commands.<br />
<strong><em>param</em></strong><br />
Param field of a packet. This parameter is used both for input and output.<br />
<strong><em>size</em></strong><br />
Size field of a packet. This parameter is used both for input and output.<br />
<strong><em>flag</em></strong><br />
Flag field of a packet. This parameter is used both for input and output.<br />
<strong><em>msgCallback</em></strong><br />
Pointer to the callback function. This callback is called when a response packet is received. If the callback return <code>TRUE</code>, <code>UF_CommandEx</code> will return immediately. If the callback return <code>FALSE</code>, <code>UF_CommandEx</code> will wait for another response packet.</p>
<p><strong>Return Values</strong><br />
If packets are transferred successfully, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code. UF_RET_SUCCESS only means that request packet is received successfully. To know if the operation succeeds, the flag field should be checked.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// UF_Identify() is implemented as follows;</span>
<span class="cm">/**</span>
<span class="cm">* Message callback for identification</span>
<span class="cm">*/</span><span class="w"></span>
<span class="n">BOOL</span><span class="w"> </span><span class="nf">UF_IdentifyMsgCallback</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">errCode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">errCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UF_PROTO_RET_SCAN_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">s_IdentifyCallback</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="p">(</span><span class="o">*</span><span class="n">s_IdentifyCallback</span><span class="p">)(</span><span class="w"> </span><span class="n">errCode</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">TRUE</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="cm">/**</span>
<span class="cm">* Identify</span>
<span class="cm">*/</span><span class="w"></span>
<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="nf">UF_Identify</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_CommandEx</span><span class="p">(</span><span class="w"> </span><span class="n">UF_COM_IS</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">flag</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">UF_IdentifyMsgCallback</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">UF_RET_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">UF_PROTO_RET_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UF_GetErrorCode</span><span class="p">(</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="n">userID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">param</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="o">*</span><span class="n">subID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">UF_RET_SUCCESS</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_commandsenddata">UF_CommandSendData<a class="headerlink" href="#uf_commandsenddata" title="Permanent link">&para;</a></h3>
<p>Encapsulates the commands which send additional data after a request packet. For example, <code>GW</code>(Write GPIO Configuration) command should send configuration data after the request packet.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CommandSendData</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">flag</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">dataSize</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Refer to the Packet Protocol Manual for available commands.<br />
<strong><em>param</em></strong><br />
Param field of a packet. This parameter is used both for input and output.<br />
<strong><em>size</em></strong><br />
Size field of a packet. This parameter is used both for input and output.<br />
<strong><em>flag</em></strong><br />
Flag field of a packet. This parameter is used both for input and output.<br />
<strong><em>data</em></strong><br />
Pointer to the data buffer to be sent.<br />
<strong><em>dataSize</em></strong><br />
Number of bytes to be sent.  </p>
<p><strong>Return Values</strong><br />
If packets are transferred successfully, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code. <code>UF_RET_SUCCESS</code> only means that request packet is received successfully. To know if the operation succeeds, the flag field should be checked.</p>
</div>
<hr />
<h3 id="uf_commandsenddataex">UF_CommandSendDataEx<a class="headerlink" href="#uf_commandsenddataex" title="Permanent link">&para;</a></h3>
<p>Encapsulates the commands which send additional data and have multiple response packets. For example, <code>ET</code>(Enroll Template) command sends template data after request packet and can have multiple response packets.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CommandSendDataEx</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">param</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">flag</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">dataSize</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">msgCallback</span><span class="p">)(</span><span class="n">BYTE</span><span class="p">),</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">waitUserInput</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>command</em></strong><br />
Command field of a packet. Refer to the Packet Protocol Manual for available commands.<br />
<strong><em>param</em></strong><br />
Param field of a packet. This parameter is used both for input and output.<br />
<strong><em>size</em></strong><br />
Size field of a packet. This parameter is used both for input and output.<br />
<strong><em>flag</em></strong><br />
Flag field of a packet. This parameter is used both for input and output.<br />
<strong><em>data</em></strong><br />
Pointer to the data buffer to be sent.<br />
<strong><em>dataSize</em></strong><br />
Number of bytes to be sent.<br />
<strong><em>msgCallback</em></strong><br />
Pointer to the callback function. This callback is called when a response packet is received. If the callback return <code>TRUE</code>, <code>UF_CommandSendDataEx</code> will return immediately. If the callback return <code>FALSE</code>, <code>UF_CommandSendDataEx</code> will wait for another response packet.<br />
<strong><em>waitUserInput</em></strong>
<code>TRUE</code> if the command needs user input. Otherwise, <code>FALSE</code>.  </p>
<p><strong>Return Values</strong><br />
If packets are transferred successfully, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code. UF_RET_SUCCESS only means that request packet is received successfully. To know if the operation succeeds, the flag field should be checked.</p>
</div>
<hr />
<h3 id="uf_cancel">UF_Cancel<a class="headerlink" href="#uf_cancel" title="Permanent link">&para;</a></h3>
<p>Cancels the command which is being processed by the module. When the module is executing a command which needs user input to proceed, the status of the module will be changed to <code>UF_SYS_BUSY</code>. If users want to execute another command before finishing the current one, they can explicitly cancel it by this function.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Cancel</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">receivePacket</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>receivePacket</em></strong><br />
If TRUE, <code>UF_Cancel</code> waits until the response packet is received. If <code>FALSE</code>, <code>UF_Cancel</code> returns immediately after sending the request packet.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setprotocol">UF_SetProtocol<a class="headerlink" href="#uf_setprotocol" title="Permanent link">&para;</a></h3>
<p>Selects packet protocol. If the host connects to the single module through RS232 interface, use UF_SINGLE_PROTOCOL. If there are multiple modules in RS422/485 networks, use UF_NETWORK_PROTOCOL. The protocol should also be compatible with the Network Mode system parameter.</p>
<table>
<thead>
<tr>
<th>Network Mode</th>
<th align="center"></th>
<th align="center">Supported Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="center">13 byte Packet Protocol</td>
<td align="center">15 byte Network Packet Protocol</td>
</tr>
<tr>
<td>Single(0x30)</td>
<td align="center">O</td>
<td align="center">O</td>
</tr>
<tr>
<td>Network (0x31/0x32)</td>
<td align="center">X</td>
<td align="center">O</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetProtocol</span><span class="p">(</span><span class="w"> </span><span class="n">UF_PROTOCOL</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">moduleID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>protocol</em></strong><br />
<code>UF_SINGLE_PROTOCOL</code> for 13 byte packet protocol, <code>UF_NETWORK_PROTOCOL</code> for 15 byte network packet protocol.<br />
<strong><em>moduleID</em></strong><br />
Specifies the ID of the module. This parameter is applicable when the protocol is set to <code>UF_NETWORK_PROTOCOL</code>.</p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_getprotocol">UF_GetProtocol<a class="headerlink" href="#uf_getprotocol" title="Permanent link">&para;</a></h3>
<p>Gets the selected protocol.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_PROTOCOL</span><span class="w"> </span><span class="n">UF_GetProtocol</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
<code>UF_SINGLE_PROTOCOL</code> or <code>UF_NETWORK_PROTOCOL</code>.</p>
</div>
<hr />
<h3 id="uf_getmoduleid">UF_GetModuleID<a class="headerlink" href="#uf_getmoduleid" title="Permanent link">&para;</a></h3>
<p>Gets the ID of the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UINT32</span><span class="w"> </span><span class="n">UF_GetModuleID</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
ID of the module.</p>
</div>
<hr />
<h3 id="uf_setgenericcommandtimeout">UF_SetGenericCommandTimeout<a class="headerlink" href="#uf_setgenericcommandtimeout" title="Permanent link">&para;</a></h3>
<p>Sets the timeout for generic commands. The default timeout is 2,000ms.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetGenericCommandTimeout</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>timeout</em></strong><br />
Specifies the timeout period in milliseconds.  </p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_setinputcommandtimeout">UF_SetInputCommandTimeout<a class="headerlink" href="#uf_setinputcommandtimeout" title="Permanent link">&para;</a></h3>
<p>Sets the timeout for commands which need user input. The default timeout is 10,000ms.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetInputCommandTimeout</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>timeout</em></strong><br />
Specifies the timeout period in milliseconds.</p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_getgenericcommandtimeout">UF_GetGenericCommandTimeout<a class="headerlink" href="#uf_getgenericcommandtimeout" title="Permanent link">&para;</a></h3>
<p>Gets the timeout for generic commands.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">UF_GetGenericCommandTimeout</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
Timeout for generic commands.</p>
</div>
<hr />
<h3 id="uf_getinputcommandtimeout">UF_GetInputCommandTimeout<a class="headerlink" href="#uf_getinputcommandtimeout" title="Permanent link">&para;</a></h3>
<p>Gets the timeout for commands which need user input.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">UF_GetInputCommandTimeout</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
Timeout for commands which need user input.</p>
</div>
<hr />
<h3 id="uf_setnetworkdelay">UF_SetNetworkDelay<a class="headerlink" href="#uf_setnetworkdelay" title="Permanent link">&para;</a></h3>
<p>In half duplex mode, the same communication lines are shared for sending and receiving data. To prevent packet collisions on the shared line, there should be some delay between receiving and sending data. The default delay is set to 40ms. This value can be optimized for specific environments.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetNetworkDelay</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>delay</em></strong><br />
Specified the delay in milliseconds.</p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_getnetworkdelay">UF_GetNetworkDelay<a class="headerlink" href="#uf_getnetworkdelay" title="Permanent link">&para;</a></h3>
<p>Gets the network delay.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">UF_GetNetworkDelay</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
Delay in milliseconds.</p>
</div>
<hr />
<h2 id="36-module-api">3.6. Module API<a class="headerlink" href="#36-module-api" title="Permanent link">&para;</a></h2>
<p>These functions provide basic information about the module.</p>
<ul>
<li><code>UF_GetModuleInfo</code>: gets the basic module information.</li>
<li><code>UF_GetModuleString</code>: gets a string describing the module.</li>
<li><code>UF_SearchModule</code>: searches a module and find out communication parameters.</li>
<li><code>UF_SearchModuleID</code>: searches an ID of a module.</li>
<li><code>UF_SearchModuleBySocket</code>: searches a module through socket interface.</li>
<li><code>UF_SearchModuleIDEx</code>: searches multiple models in a network.</li>
<li><code>UF_CalibrateSensor</code>: calibrates a sensor.</li>
<li><code>UF_Upgrade</code>: upgrades firmware.</li>
<li><code>UF_Reset</code>: resets the module.</li>
<li><code>UF_Lock</code>: locks the module.</li>
<li><code>UF_Unlock</code>: unlocks the module.</li>
<li><code>UF_ChangePassword</code>: changes the master password of a module.</li>
<li><code>UF_PowerOff</code> : Programmatically turns off a module (SFM4000 only).</li>
</ul>
<hr />
<h3 id="uf_getmoduleinfo">UF_GetModuleInfo<a class="headerlink" href="#uf_getmoduleinfo" title="Permanent link">&para;</a></h3>
<p>Retrieves the type, version and sensor information of the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetModuleInfo</span><span class="p">(</span><span class="w"> </span><span class="n">UF_MODULE_TYPE</span><span class="o">*</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">UF_MODULE_VERSION</span><span class="o">*</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="n">UF_MODULE_SENSOR</span><span class="o">*</span><span class="w"> </span><span class="n">sensorType</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>type</em></strong><br />
Available types are as follows;</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_MODULE_3000</td>
<td>SFM 3000 series modules</td>
</tr>
<tr>
<td>UF_MODULE_3500</td>
<td>SFM 3500 series modules</td>
</tr>
<tr>
<td>UF_MODULE_4000</td>
<td>SFM 4000 series modules</td>
</tr>
<tr>
<td>UF_MODULE_5000</td>
<td>SFM_5000 series modules</td>
</tr>
<tr>
<td>UF_BIOENTRY_SMART</td>
<td>BioEntry Smart</td>
</tr>
<tr>
<td>UF_BIOENTRY_PASS</td>
<td>BioEntry Pass</td>
</tr>
</tbody>
</table>
<p><strong><em>version</em></strong><br />
Version number of the module.</p>
<p><strong><em>sensorType</em></strong><br />
Sensor type of the module.</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Sensor Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_SENSOR_FL</td>
<td>Authentec AF-S2</td>
</tr>
<tr>
<td>UF_SENSOR_FC</td>
<td>Atmel FingerChip</td>
</tr>
<tr>
<td>UF_SENSOR_OP</td>
<td>Optical Sensor I (OP2/OP3/OP4)</td>
</tr>
<tr>
<td>UF_SENSOR_TC</td>
<td>UPEK TouchChip (TC1/TC2/TC2S)</td>
</tr>
<tr>
<td>UF_SENSOR_OC2</td>
<td>Optical Sensor II (OC2/OD)</td>
</tr>
<tr>
<td>UF_SENSOR_TS</td>
<td>UPEK TouchStrip (TS4)</td>
</tr>
<tr>
<td>UF_SENSOR_OL</td>
<td>Optical Sensor III (OL)</td>
</tr>
<tr>
<td>UF_SENSOR_OH</td>
<td>Optical Sensor IV (OH)</td>
</tr>
</tbody>
</table>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getmodulestring">UF_GetModuleString<a class="headerlink" href="#uf_getmodulestring" title="Permanent link">&para;</a></h3>
<p>Retrieves a string that describes the module information. This function should be called after <code>UF_GetModuleInfo</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">UF_GetModuleString</span><span class="p">(</span><span class="w"> </span><span class="n">UF_MODULE_TYPE</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">UF_MODULE_VERSION</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="n">UF_MODULE_SENSOR</span><span class="w"> </span><span class="n">sensorType</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>type</em></strong><br />
Specifies the type of the module.<br />
<strong><em>version</em></strong><br />
Specifies the version number of the module.<br />
<strong><em>sensorType</em></strong><br />
Specifies the sensor type of the module.  </p>
<p><strong>Return Values</strong><br />
Null-terminated string that describes the module information. This pointer is a static data in the SDK. So, it should not be shared or freed by applications.</p>
</div>
<hr />
<h3 id="uf_searchmodule">UF_SearchModule<a class="headerlink" href="#uf_searchmodule" title="Permanent link">&para;</a></h3>
<p>Search a module connected to the specified serial port. <code>UF_SearchModule</code> tries all combinations of communication parameters. If it finds any module on the serial port, it returns the communication parameters and its module ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SearchModule</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">baudrate</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">asciiMode</span><span class="p">,</span><span class="w"> </span><span class="n">UF_PROTOCOL</span><span class="o">*</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">moduleID</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">comPort</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">baudrate</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Serial port.<br />
<strong><em>baudrate</em></strong><br />
Pointer to the baud rate to be returned.<br />
<strong><em>asciiMode</em></strong> <br />
Pointer to the packet translation mode to be returned.<br />
<strong><em>protocol</em></strong><br />
Pointer to the protocol type to be returned.<br />
<strong><em>moduleID</em></strong><br />
Pointer to the module ID to be returned.<br />
<strong><em>callback</em></strong><br />
Pointer to the callback function. The callback function can be used for displaying the progress of the search. This parameter can be NULL.  </p>
<p><strong>Return Values</strong><br />
If it finds a module, return <code>UF_RET_SUCCESS</code>. If the search fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_searchmoduleid">UF_SearchModuleID<a class="headerlink" href="#uf_searchmoduleid" title="Permanent link">&para;</a></h3>
<p>Until firmware V1.3, SFM modules respond both standard and network packets regardless of Network Mode system parameter. However, since firmware V1.4, the modules only respond to 15 byte network packets if Network Mode system parameter is not Single(0x30). So, if users dont know ID of the module, they cannot communicate with it in network environments. <code>UF_SerachModuleID</code> can be used to retrieve the ID of the module in these cases. Refer to ID command section in the Packet Protocol Manual for details.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SearchModuleID</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">moduleID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>moduleID</em></strong><br />
Pointer to the module ID to be returned.</p>
<p><strong>Return Values</strong><br />
If it finds a module, return <code>UF_RET_SUCCESS</code>. If the search fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_searchmodulebysocket">UF_SearchModuleBySocket<a class="headerlink" href="#uf_searchmodulebysocket" title="Permanent link">&para;</a></h3>
<p>Search a module connected to the specified IP address. If it finds any module, it will return the communication parameters and the module ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SearchModuleBySocket</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">inetAddr</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">tcpPort</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">asciiMode</span><span class="p">,</span><span class="w"> </span><span class="n">UF_PROTOCOL</span><span class="o">*</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">moduleID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>inetAddr</em></strong><br />
IP address.<br />
<strong><em>tcpPort</em></strong><br />
TCP port.<br />
<strong><em>asciiMode</em></strong><br />
Pointer to the packet translation mode to be returned.<br />
<strong><em>protocol</em></strong><br />
Pointer to the protocol type to be returned.<br />
<strong><em>moduleID</em></strong><br />
Pointer to the module ID to be returned.  </p>
<p><strong>Return Values</strong><br />
If it finds a module, return <code>UF_RET_SUCCESS</code>. If the search fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_searchmoduleidex">UF_SearchModuleIDEx<a class="headerlink" href="#uf_searchmoduleidex" title="Permanent link">&para;</a></h3>
<p><code>UF_SearchModuleID</code> is used for searching a module. To search multiple modules in a RS422/485 network, <code>UF_SearchModuleIDEx</code> should be used instead. By calling this function repetitively, users can search all the modules connected to a network.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SearchModuleIDEx</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="o">*</span><span class="w"> </span><span class="n">foundModuleID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfFoundID</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="o">*</span><span class="w"> </span><span class="n">moduleID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>foundModuleID</em></strong><br />
Pointer to the array of module IDs, which are already found. When the ID of a module is in this array, the module will ignore the search command.<br />
<strong><em>numOfFoundID</em></strong><br />
Number of module IDs, which are already found.<br />
<strong><em>moduleID</em></strong><br />
Pointer to the array of module IDs, which will be filled with newly found IDs.<br />
<strong><em>numOfID</em></strong><br />
Pointer to the number of module IDs to be returned.  </p>
<p><strong>Return Values</strong><br />
If it finds one or more modules, return <code>UF_RET_SUCCESS</code>. If the search fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong><br />
<div class="highlight"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="n">numOfModuleID</span><span class="p">;</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">moduleID</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">numOfFoundID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="n">BOOL</span><span class="w"> </span><span class="n">foundNewID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span><span class="w"></span>

<span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_SearchModuleIDEx</span><span class="p">(</span><span class="w"> </span><span class="n">moduleID</span><span class="p">,</span><span class="w"> </span><span class="n">numOfFoundID</span><span class="p">,</span><span class="w"> </span><span class="n">moduleID</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="n">numOfFoundID</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">numOfModuleID</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UF_RET_SUCCESS</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">foundNewID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TRUE</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">numOfFoundID</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">numOfModuleID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">foundNewID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="p">(</span><span class="w"> </span><span class="n">foundNewID</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">numOfFoundID</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_calibratesensor">UF_CalibrateSensor<a class="headerlink" href="#uf_calibratesensor" title="Permanent link">&para;</a></h3>
<p>Calibrates fingerprint sensor. This function is supported for AuthenTecs FingerLoc AF-S2 and UPEKs TouchChip. After using the <code>UF_CalibrateSensor</code>, <code>UF_Save</code> should be called to save calibration data into flash memory.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CalibrateSensor</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_upgrade">UF_Upgrade<a class="headerlink" href="#uf_upgrade" title="Permanent link">&para;</a></h3>
<p>Upgrades the firmware of the module. Users should not turn off the module when upgrade is in progress.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Upgrade</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">firmwareFilename</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dataPacketSize</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>firmwareFilename</em></strong><br />
Null-terminated string that specifies the firmware file name.<br />
<strong><em>dataPacketSize</em></strong><br />
The packet size of firmware data. If it is 16384, the firmware is divided into 16384 byte packets before transferring to the module.  </p>
<p><strong>Return Values</strong><br />
If upgrade succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_reset">UF_Reset<a class="headerlink" href="#uf_reset" title="Permanent link">&para;</a></h3>
<p>Resets the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Reset</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
<code>UF_RET_SUCCESS</code></p>
</div>
<hr />
<h3 id="uf_lock">UF_Lock<a class="headerlink" href="#uf_lock" title="Permanent link">&para;</a></h3>
<p>Locks the module. When the module is locked, it returns <code>UF_ERR_LOCKED</code> to functions other than <code>UF_Unlock</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Lock</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the module is locked successfully, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_unlock">UF_Unlock<a class="headerlink" href="#uf_unlock" title="Permanent link">&para;</a></h3>
<p>Unlocks a locked module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Unlock</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>password</em></strong><br />
16 byte master password. The default password is a string of 16 NULL characters.</p>
<p><strong>Return Values</strong><br />
If the password is wrong, return UF_ERR_NOT_MATCH. If it is successful, return UF_RET_SUCCESS.</p>
</div>
<hr />
<h3 id="uf_changepassword">UF_ChangePassword<a class="headerlink" href="#uf_changepassword" title="Permanent link">&para;</a></h3>
<p>Changes the master password.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ChangePassword</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">newPassword</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">oldPassword</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>newPassword</em></strong><br />
16 byte new password.<br />
<strong><em>oldPassword</em></strong><br />
16 byte old password.  </p>
<p><strong>Return Values</strong><br />
If the old password is wrong, return <code>UF_ERR_NOT_MATCH</code>. If it is successful, return <code>UF_RET_SUCCESS</code>.</p>
</div>
<hr />
<h3 id="uf_poweroff">UF_PowerOff<a class="headerlink" href="#uf_poweroff" title="Permanent link">&para;</a></h3>
<p>Programmatically turns off a module. This function is only available with SFM4000 series.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_PowerOff</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
The module is powered off successfully, return <code>UF_RET_SUCCESS</code>.</p>
</div>
<hr />
<h2 id="37-system-parameters-api">3.7. System Parameters API<a class="headerlink" href="#37-system-parameters-api" title="Permanent link">&para;</a></h2>
<p>Functions for managing system parameters. Available system parameters are defined in UF_SysParameter.h. See the Packet Protocol Manual for available values for each parameter.
This API also provides functions for saving and loading system configurations.</p>
<ul>
<li><code>UF_InitSysParameter</code>: clears the system parameter cache.</li>
<li><code>UF_GetSysParameter</code>: gets the value of a system parameter.</li>
<li><code>UF_SetSysParameter</code>: sets the value of a system parameter.</li>
<li><code>UF_GetMultiSysParameter</code>: gets the values of multiple system parameters.</li>
<li><code>UF_SetMultiSysParameter</code>: sets the values of multiple system parameters.</li>
<li><code>UF_Save</code>: saves system parameters into the flash memory.</li>
<li><code>UF_SaveConfiguration</code>: saves system configurations into the specified file.</li>
<li><code>UF_ReadConfigurationHeader</code>: reads configuration information stored in a file.</li>
<li><code>UF_LoadConfiguration</code>: loads system configurations from the specified file.</li>
<li><code>UF_MakeParameterConfiguration</code>: makes parameter configuration data to be saved.</li>
</ul>
<hr />
<h3 id="uf_initsysparameter">UF_InitSysParameter<a class="headerlink" href="#uf_initsysparameter" title="Permanent link">&para;</a></h3>
<p>To prevent redundant communication, the SFM SDK caches the system parameters previously read or written. <code>UF_InitSysParameter</code> clears this cache. It is called in <code>UF_Reconnect</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_InitSysParameter</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_getsysparameter">UF_GetSysParameter<a class="headerlink" href="#uf_getsysparameter" title="Permanent link">&para;</a></h3>
<p>Reads the value of a system parameter.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetSysParameter</span><span class="p">(</span><span class="w"> </span><span class="n">UF_SYS_PARAM</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>parameter</em></strong><br />
System parameter to be read.<br />
<strong><em>value</em></strong><br />
Pointer to the value of the specified system parameter to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. If there is no such parameter, return UF_ERR_NOT_FOUND. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setsysparameter">UF_SetSysParameter<a class="headerlink" href="#uf_setsysparameter" title="Permanent link">&para;</a></h3>
<p>Writes the value of a system parameter. The parameter value is changed in memory only. To make the change permanent, <code>UF_Save</code> should be called after this function. For BioEntry Smart and Pass, users cannot change the <code>UF_SYS_MODULE_ID</code> system parameter.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetSysParameter</span><span class="p">(</span><span class="w"> </span><span class="n">UF_SYS_PARAM</span><span class="w"> </span><span class="n">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>parameter</em></strong><br />
System parameter to be written.<br />
<strong><em>value</em></strong><br />
Value of the system parameter. Refer to the Packet Protocol Manual for available values for each parameter.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. If there is no such parameter, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getmultisysparameter">UF_GetMultiSysParameter<a class="headerlink" href="#uf_getmultisysparameter" title="Permanent link">&para;</a></h3>
<p>Reads the values of multiple system parameters.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetMultiSysParameter</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">parameterCount</span><span class="p">,</span><span class="w"> </span><span class="n">UF_SYS_PARAM</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>parameterCount</em></strong><br />
Number of system parameters to be read.<br />
<strong><em>parameters</em></strong><br />
Array of system parameters to be read.<br />
<strong><em>values</em></strong><br />
Array of the values of the specified system parameters to be read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// To read 3 system parameters, UF_SYS_TIMEOUT, UF_SYS_ENROLL_MODE,</span>
<span class="c1">// UF_SYS_SECURITY_LEVEL,</span>

<span class="n">UF_SYS_PARAM</span><span class="w"> </span><span class="n">parameters</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">UF_SYS_TIMEOUT</span><span class="p">,</span><span class="w"> </span><span class="n">UF_SYS_ENROLL_MODE</span><span class="p">,</span><span class="w"> </span><span class="n">UF_SYS_SECURITY_LEVEL</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="n">UINT32</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GetMultiSysParameter</span><span class="p">(</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_setmultisysparameter">UF_SetMultiSysParameter<a class="headerlink" href="#uf_setmultisysparameter" title="Permanent link">&para;</a></h3>
<p>Writes the values of multiple system parameters. The parameter value is changed in memory only. To make the change permanent, <code>UF_Save</code> should be called.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetMultiSysParameter</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">parameterCount</span><span class="p">,</span><span class="w"> </span><span class="n">UF_SYS_PARAM</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>parameterCount</em></strong><br />
Number of system parameters to be written.<br />
<strong><em>parameters</em></strong><br />
Array of system parameters to be written.<br />
<strong><em>values</em></strong><br />
Array of the values of the specified system parameters to be written.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_save">UF_Save<a class="headerlink" href="#uf_save" title="Permanent link">&para;</a></h3>
<p>Saves the system parameters into the flash memory.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Save</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_saveconfiguration">UF_SaveConfiguration<a class="headerlink" href="#uf_saveconfiguration" title="Permanent link">&para;</a></h3>
<p>Saves system configurations into the specified file. The configuration file consists of a file header and multiple configuration components. There are 5 configuration components to be saved.
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UF_CONFIG_PARAMETERS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="c1">// System parameters</span>
<span class="w">    </span><span class="n">UF_CONFIG_GPIO</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span><span class="w"> </span><span class="c1">// GPIO configurations for</span>
<span class="w">                                  </span><span class="c1">// SFM3000</span>
<span class="w">    </span><span class="n">UF_CONFIG_IO</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">,</span><span class="w"> </span><span class="c1">// IO configurations for</span>
<span class="w">                                  </span><span class="c1">// SFM3500</span>
<span class="w">    </span><span class="n">UF_CONFIG_WIEGAND</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mh">0x08</span><span class="p">,</span><span class="w"> </span><span class="c1">// Extended Wiegand</span>
<span class="w">    </span><span class="n">UF_CONFIG_USER_MEMORY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x10</span><span class="p">,</span><span class="w"> </span><span class="c1">// User memory</span>
<span class="p">}</span><span class="w"> </span><span class="n">UF_CONFIG_TYPE</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SaveConfiguration</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">description</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfComponent</span><span class="p">,</span><span class="w"> </span><span class="n">UFConfigComponentHeader</span><span class="o">*</span><span class="w"> </span><span class="n">componentHeader</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">**</span><span class="w"> </span><span class="n">componentData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>filename</em></strong><br />
Null-terminated string that specifies the file name.<br />
<strong><em>description</em></strong><br />
Null-terminated string describing the configuration file. The maximum length of description is 256 bytes.<br />
<strong><em>numOfComponent</em></strong><br />
Number of components to be saved.<br />
<strong><em>componentHeader</em></strong><br />
Pointer to an array of UFConfigComponentHeader structures to be saved.  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UF_CONFIG_TYPE</span><span class="w"> </span><span class="n">type</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">dataSize</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">checksum</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFConfigComponentHeader</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong><em>componentData</em></strong><br />
Pointer to an array of component data to be saved.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// To save system parameters and IO configuration</span>
<span class="c1">// of a SFM 3500 module into SFM3500.cfg file,</span>
<span class="n">UF_ConfigComponentHeader</span><span class="w"> </span><span class="n">configHeader</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"></span>
<span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">configData</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"></span>

<span class="c1">// Make system parameter component</span>
<span class="n">UFConfigParameter</span><span class="o">*</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UFConfigParameter</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="w">    </span><span class="n">NUM_OF_PARAMETER</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">UFConfigParameterItem</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">UF_MakeParameterConfiguration</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">configHeader</span><span class="p">[</span><span class="mi">0</span><span class="p">],(</span><span class="n">BYTE</span><span class="o">*</span><span class="p">)</span><span class="n">parameter</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">configData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="n">parameter</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Make IO component</span>
<span class="n">UFConfigIO</span><span class="o">*</span><span class="w"> </span><span class="n">io</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UFConfigIO</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">UFConfigIO</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="w">    </span><span class="k">sizeof</span><span class="p">(</span><span class="n">UFConfigOutputItem</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">UF_MAX_OUTPUT_EVENT</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">UF_MakeIOConfiguration</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">configHeader</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="p">(</span><span class="n">BYTE</span><span class="o">*</span><span class="p">)</span><span class="n">io</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">configData</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="n">io</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_SaveConfiguration</span><span class="p">(</span><span class="w"> </span><span class="err"></span><span class="n">SFM3500</span><span class="p">.</span><span class="n">cfg</span><span class="err"></span><span class="p">,</span><span class="w"> </span><span class="err"></span><span class="n">Configuration</span><span class="w"></span>
<span class="w">    </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">SFM3500</span><span class="err"></span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">configHeader</span><span class="p">,</span><span class="w"> </span><span class="n">configData</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_readconfigurationheader">UF_ReadConfigurationHeader<a class="headerlink" href="#uf_readconfigurationheader" title="Permanent link">&para;</a></h3>
<p>Reads the header information from a file which is saved by <code>UF_SaveConfiguration</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadConfigurationHeader</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">UFConfigFileHeader</span><span class="o">*</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>filename</em></strong><br />
Null-terminated string that specifies the file name.<br />
<strong><em>header</em></strong><br />
Pointer to the UFConfigFileHeader to be read.  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">magicNo</span><span class="p">;</span><span class="w"> </span><span class="c1">// if valid, UF_VALID_CONFIG_FILE</span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">numOfComponent</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">description</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFConfigFileHeader</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>Return Values</strong><br />
If the header is read successfully, return <code>UF_RET_SUCCESS</code>. If the file is of invalid type, return <code>UF_ERR_INVALID_FILE</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_loadconfiguration">UF_LoadConfiguration<a class="headerlink" href="#uf_loadconfiguration" title="Permanent link">&para;</a></h3>
<p>Loads system configurations into a module from the specified file. To make permanent the configuration changes, <code>UF_Save</code> should be called after <code>UF_LoadConfiguration</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_LoadConfiguration</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfComponent</span><span class="p">,</span><span class="w"> </span><span class="n">UF_CONFIG_TYPE</span><span class="o">*</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>filename</em></strong><br />
Null-terminated string that specifies the file name.<br />
<strong><em>numOfComponent</em></strong><br />
Number of configuration components to be loaded.<br />
<strong><em>type</em></strong><br />
Array of component types to be loaded.  </p>
<p><strong>Return Values</strong><br />
If the configurations are loaded successfully, return UF_RET_SUCCESS. Otherwise, return the corresponding error code.  </p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// To load system parameters and IO configuration</span>
<span class="c1">// of a SFM 3500 module from SFM3500.cfg file,</span>
<span class="n">UF_CONFIG_TYPE</span><span class="w"> </span><span class="n">configType</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">UF_CONFIG_PARAMETERS</span><span class="p">,</span><span class="w"> </span><span class="n">UF_CONFIG_IO</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_LoadConfiguration</span><span class="p">(</span><span class="w"> </span><span class="err"></span><span class="n">SFM3500</span><span class="p">.</span><span class="n">cfg</span><span class="err"></span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">configType</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_makeparameterconfiguration">UF_MakeParameterConfiguration<a class="headerlink" href="#uf_makeparameterconfiguration" title="Permanent link">&para;</a></h3>
<p>Make a UFConfigComponentHeader and a UFConfigParameter structure to be used in <code>UF_SaveConfiguration</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_MakeParameterConfiguration</span><span class="p">(</span><span class="w"> </span><span class="n">UFConfigComponentHeader</span><span class="o">*</span><span class="w"> </span><span class="n">configHeader</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">configData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>configHeader</em></strong><br />
Pointer to the UFConfigComponentHeader structure.<br />
<strong><em>configData</em></strong><br />
Pointer to the UFConfigParameter structure. It should be preallocated large enough to store all the parameter information.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h2 id="38-template-management-api">3.8. Template Management API<a class="headerlink" href="#38-template-management-api" title="Permanent link">&para;</a></h2>
<p>These functions provide template management interfaces such as read, delete and fix. Users can also manage user ids and administration levels associated with templates using these APIs.</p>
<ul>
<li><code>UF_GetNumOfTemplate</code>: gets the number of template stored in a module.</li>
<li><code>UF_GetMaxNumOfTemplate</code>: gets the template capacity of a module.</li>
<li><code>UF_GetAllUserInfo</code>: gets all the template and user information stored in a module.</li>
<li><code>UF_GetAllUserInfoEx</code>: gets all the template and user information stored in a BioEntry reader.</li>
<li><code>UF_SortUserInfo</code>: sorts UFUserInfo structures.</li>
<li><code>UF_SetUserInfoCallback</code>: sets the callback function for getting user information.</li>
<li><code>UF_SetAdminLevel</code>: sets the administration level of a user.</li>
<li><code>UF_GetAdminLevel</code>: gets the administration level of a user.</li>
<li><code>UF_ClearAllAdminLevel</code>: clears all the administration levels of users.</li>
<li><code>UF_SaveDB</code>: saves templates and user information into the specified file.</li>
<li><code>UF_LoadDB</code>: loads templates and user information from the specified file.</li>
<li><code>UF_CheckTemplate</code>: checks if the specified ID has templates.</li>
<li><code>UF_ReadTemplate</code>: reads the templates of the specified user ID.</li>
<li><code>UF_ReadOneTemplate</code>: reads one template of the specified user ID.</li>
<li><code>UF_SetScanCallback</code>: sets the callback function for scanning fingerprints.</li>
<li><code>UF_ScanTemplate</code>: scans a fingerprint on the sensor and retrieves the fingerprint template.</li>
<li><code>UF_FixProvisionalTemplate</code>: saves the provisional templates into the flash memory.</li>
<li><code>UF_SetSecurityLevel</code>: sets the security level of a user.</li>
<li><code>UF_GetSecurityLevel</code>: gets the security level of a user.</li>
<li><code>UF_SetAuthType</code>: sets the authentication type of a user.</li>
<li><code>UF_GetAuthType</code>: gets the authentication type of a user.</li>
<li><code>UF_GetUserIDByAuthType</code>: gets the user IDs with specified authentication type.</li>
<li><code>UF_ResetAllAuthType</code>: resets the authentication types of all users.</li>
<li><code>UF_SetEntranceLimit</code>: sets the entrance limit of a user.</li>
<li><code>UF_GetEntranceLimit</code>: gets the entrance limit of a user.</li>
<li><code>UF_ClearAllEntranceLimit</code>: clears the entrance limits of all users.</li>
</ul>
<hr />
<h3 id="uf_getnumoftemplate">UF_GetNumOfTemplate<a class="headerlink" href="#uf_getnumoftemplate" title="Permanent link">&para;</a></h3>
<p>Gets the number of templates stored in the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetNumOfTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>numOfTemplate</em></strong><br />
Pointer to the number of templates to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_getmaxnumoftemplate">UF_GetMaxNumOfTemplate<a class="headerlink" href="#uf_getmaxnumoftemplate" title="Permanent link">&para;</a></h3>
<p>Gets the template capacity of the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetMaxNumOfTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">maxNumOfTemplate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>maxNumOfTemplate</em></strong><br />
Pointer to the template capacity to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getalluserinfo">UF_GetAllUserInfo<a class="headerlink" href="#uf_getalluserinfo" title="Permanent link">&para;</a></h3>
<p>Retrieves all the user and template information stored in the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetAllUserInfo</span><span class="p">(</span><span class="w"> </span><span class="n">UFUserInfo</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">userInfo</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">numOfUser</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="err">\</span><span class="o">*</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userInfo</em></strong><br />
Array of UFUserInfo structures, which will store all the information. This pointer should be preallocated large enough to store all the information. UFUserInfo structure is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">adminLevel</span><span class="p">;</span><span class="w"> </span><span class="c1">// See UF_SetAdminLevel</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">securityLevel</span><span class="p">;</span><span class="w"> </span><span class="c1">// See UF_SetSecurityLevel</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">reserved</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFUserInfo</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong><em>numOfUser</em></strong><br />
Pointer to the number of users to be returned.<br />
<strong><em>numOfTemplate</em></strong><br />
Pointer to the number of templates to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="n">UINT32</span><span class="w"> </span><span class="n">maxUser</span><span class="p">;</span><span class="w"></span>
<span class="n">UINT32</span><span class="w"> </span><span class="n">numOfUser</span><span class="p">,</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GetSysParameter</span><span class="p">(</span><span class="w"> </span><span class="n">UF_SYS_ENROLLED_FINGER</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">maxUser</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="n">UFUserInfo</span><span class="o">*</span><span class="w"> </span><span class="n">userInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UFUserInfo</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="n">maxUser</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">UFUserInfo</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GetAllUserInfo</span><span class="p">(</span><span class="w"> </span><span class="n">userInfo</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">numOfUser</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">numOfTemplate</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_getalluserinfoex">UF_GetAllUserInfoEx<a class="headerlink" href="#uf_getalluserinfoex" title="Permanent link">&para;</a></h3>
<p>Retrieves all the user and template information stored in the BioEntry reader.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetAllUserInfoEx</span><span class="p">(</span><span class="w"> </span><span class="n">UFUserInfoEx</span><span class="o">*</span><span class="w"> </span><span class="n">userInfo</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">numOfUser</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userInfo</em></strong><br />
Array of <code>UFUserInfoEx</code> structures, which will store all the information. This pointer should be preallocated large enough to store all the information. <code>UFUserInfoEx</code> structure is defined as follows;</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">checksum</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span><span class="w"> </span><span class="c1">// checksum of each template data</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">adminLevel</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">duress</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">securityLevel</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFUserInfoEx</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong><em>numOfUser</em></strong><br />
Pointer to the number of users to be returned.<br />
<strong><em>numOfTemplate</em></strong><br />
Pointer to the number of templates to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_sortuserinfo">UF_SortUserInfo<a class="headerlink" href="#uf_sortuserinfo" title="Permanent link">&para;</a></h3>
<p>Sorts an <code>UFUserInfo</code> array in ascending order of user ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SortUserInfo</span><span class="p">(</span><span class="w"> </span><span class="n">UFUserInfo</span><span class="o">*</span><span class="w"> </span><span class="n">userInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfUser</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userInfo</em></strong><br />
Array of UFUserInfo structures.<br />
<strong><em>numOfUser</em></strong><br />
Number of UFUserInfo.  </p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_setuserinfocallback">UF_SetUserInfoCallback<a class="headerlink" href="#uf_setuserinfocallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function for getting user information. It is also called when enrolling templates in <code>UF_LoadDB</code> and reading templates in 
<code>UF_SaveDB</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetUserInfoCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.<br />
<strong><em>Return Values</em></strong><br />
None</p>
<p><strong>Example</strong>
See CMainFrame::UserInfoCallback in UniFingerUI source codes.</p>
</div>
<hr />
<h3 id="uf_setadminlevel">UF_SetAdminLevel<a class="headerlink" href="#uf_setadminlevel" title="Permanent link">&para;</a></h3>
<p>Sets the administration level of a user. See <code>UF_EnrollAfterVerification</code> and <code>UF_DeleteAllAfterVerificatoin</code> for usage of administration level.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetAdminLevel</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ADMIN_LEVEL</span><span class="w"> </span><span class="n">adminLevel</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>adminLevel</em></strong><br />
Specifies the administration level of the user.  </p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_ADMIN_NONE</td>
<td></td>
</tr>
<tr>
<td>UF_ADMIN_ENROLL</td>
<td>Can enroll users.</td>
</tr>
<tr>
<td>UF_ADMIN_DELETE</td>
<td>Can delete users.</td>
</tr>
<tr>
<td>UF_ADMIN_ALL</td>
<td>Can enroll and delete users.</td>
</tr>
</tbody>
</table>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getadminlevel">UF_GetAdminLevel<a class="headerlink" href="#uf_getadminlevel" title="Permanent link">&para;</a></h3>
<p>Gets the administration level of a user.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetAdminLevel</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ADMIN_LEVEL</span><span class="o">*</span><span class="w"> </span><span class="n">adminLevel</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>adminLevel</em></strong><br />
Pointer to the administration level of the user to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_clearalladminlevel">UF_ClearAllAdminLevel<a class="headerlink" href="#uf_clearalladminlevel" title="Permanent link">&para;</a></h3>
<p>Resets administration levels of all users to UF_ADMIN_NONE.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearAllAdminLevel</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_savedb">UF_SaveDB<a class="headerlink" href="#uf_savedb" title="Permanent link">&para;</a></h3>
<p>Saves all the templates and user information stored in a module into the specified file.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SaveDB</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">fileName</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fileName</em></strong><br />
Null-terminated string that specifies the file name.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_loaddb">UF_LoadDB<a class="headerlink" href="#uf_loaddb" title="Permanent link">&para;</a></h3>
<p>Loads templates and user information from the specified file. All the templates previously stored in the module will be erased before loading the DB.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_LoadDB</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">fileName</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fileName</em></strong><br />
Null-terminated string that specifies the file name.<br />
<strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_checktemplate">UF_CheckTemplate<a class="headerlink" href="#uf_checktemplate" title="Permanent link">&para;</a></h3>
<p>Checks if the specified user ID has enrolled templates.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_CheckTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>numOfTemplate</em></strong><br />
Pointer to the number of templates of the user ID to be returned.  </p>
<p><strong>Return Values</strong><br />
If there are templates of the user ID, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readtemplate">UF_ReadTemplate<a class="headerlink" href="#uf_readtemplate" title="Permanent link">&para;</a></h3>
<p>Reads  the templates of the specified user ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>numOfTemplate</em></strong><br />
Pointer to the number of templates of the user ID to be returned.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data to be returned. This pointer should be preallocated large enough to store all the template data.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readonetemplate">UF_ReadOneTemplate<a class="headerlink" href="#uf_readonetemplate" title="Permanent link">&para;</a></h3>
<p>Reads one template of the specified user ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadOneTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">subID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>subID</em></strong><br />
Sub index of the template. It is between 0 and 9.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data to be returned. This pointer should be preallocated large enough to store all the template data.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setscancallback">UF_SetScanCallback<a class="headerlink" href="#uf_setscancallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function of scanning fingerprints. This callback is called when <code>SCAN_SUCCESS</code> message is received.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetScanCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_scantemplate">UF_ScanTemplate<a class="headerlink" href="#uf_scantemplate" title="Permanent link">&para;</a></h3>
<p>Scans a fingerprint on the sensor and receives the template of it.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ScanTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">imageQuality</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>templateData</em></strong><br />
Pointer to the template data to be returned.<br />
<strong><em>templateSize</em></strong><br />
Pointer to the template size to be returned.<br />
<strong><em>imageQuality</em></strong><br />
Pointer to the image quality score to be returned. The score shows the quality of scanned fingerprint and is in the range of 0 ~ 100.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_fixprovisionaltemplate">UF_FixProvisionalTemplate<a class="headerlink" href="#uf_fixprovisionaltemplate" title="Permanent link">&para;</a></h3>
<p><code>UF_SYS_PROVISIONAL_ENROLL</code> determines if enrolled templates are saved permanently into flash memory or temporarily into DRAM. With provisional enroll, enrolled templates on DRAM will be erased if the module is turned off. <code>UF_FixProvisionalTemplate</code> saves the provisional templates into the flash memory.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_FixProvisionalTemplate</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setsecuritylevel">UF_SetSecurityLevel<a class="headerlink" href="#uf_setsecuritylevel" title="Permanent link">&para;</a></h3>
<p>Since V1.6 firmware, the security level can be assigned per user basis for 1:1 matching. 1:N matching  identification  is not affected by this setting.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetSecurityLevel</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_USER_SECURITY_LEVEL</span><span class="w"> </span><span class="n">securityLevel</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>securityLevel</em></strong><br />
Specifies the security level of the user.  </p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_USER_SECURITY_DEFAULT</td>
<td>Same as defined by Security Level system parameter</td>
</tr>
<tr>
<td>UF_USER_SECURITY_1_TO_1000</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>UF_USER_SECURITY_1_TO_100000000</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getsecuritylevel">UF_GetSecurityLevel<a class="headerlink" href="#uf_getsecuritylevel" title="Permanent link">&para;</a></h3>
<p>Gets the security level of a user.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetSecurityLevel</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_SECURITY_LEVEL</span><span class="o">*</span><span class="w"> </span><span class="n">securityLevel</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>securityLevel</em></strong><br />
Pointer to the security level of the user to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setauthtype">UF_SetAuthType<a class="headerlink" href="#uf_setauthtype" title="Permanent link">&para;</a></h3>
<p>Sets the authentication type of a user. <code>UF_AUTH_BYPASS</code> can be used for 1:1 matching, when it is necessary to allow access without matching fingerprints. <code>UF_AUTH_REJECT</code> can be used for disabling some IDs temporarily. The default authentication mode is <code>UF_AUTH_FINGERPRINT</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetAuthType</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_AUTH_TYPE</span><span class="w"> </span><span class="n">authType</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>authType</em></strong><br />
Specifies the authentication type of the user.  </p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_AUTH_FINGERPRINT</td>
<td>Fingerprint authentication.</td>
</tr>
<tr>
<td>UF_AUTH_BYPASS</td>
<td>Authentication will succeed without matching fingerprints.</td>
</tr>
<tr>
<td>UF_AUTH_REJECT</td>
<td>Authentication will always fail.</td>
</tr>
</tbody>
</table>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getauthtype">UF_GetAuthType<a class="headerlink" href="#uf_getauthtype" title="Permanent link">&para;</a></h3>
<p>Gets the authentication type of a user.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetAuthType</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_AUTH_TYPE</span><span class="o">*</span><span class="w"> </span><span class="n">authType</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>authType</em></strong><br />
Pointer to the authentication type of the user to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getuseridbyauthtype">UF_GetUserIDByAuthType<a class="headerlink" href="#uf_getuseridbyauthtype" title="Permanent link">&para;</a></h3>
<p>Receive user IDs with the specified authentication type.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetUserIDByAuthType</span><span class="p">(</span><span class="w"> </span><span class="n">UF_AUTH_TYPE</span><span class="w"> </span><span class="n">authType</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">userID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>authType</em></strong><br />
Authentication type.<br />
<strong><em>numOfID</em></strong><br />
Pointer to the number of user IDs to be returned.<br />
<strong><em>userID</em></strong><br />
Array of user IDs which have the specified authentication type.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_resetallauthtype">UF_ResetAllAuthType<a class="headerlink" href="#uf_resetallauthtype" title="Permanent link">&para;</a></h3>
<p>Resets the authentication types of all users to UF_AUTH_FINGERPRINT.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ResetAllAuthType</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setentrancelimit">UF_SetEntranceLimit<a class="headerlink" href="#uf_setentrancelimit" title="Permanent link">&para;</a></h3>
<p>Specifies how many times the user is permitted to access per day. The available options are between 0 and 7. The default value is 0, which means that there is no limit. If the user tries to authenticate after the limit is reached, <code>UF_ERR_EXCEED_ENTRANCE_LIMIT</code> error will be returned.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetEntranceLimit</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">entranceLimit</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>entranceLimit</em></strong><br />
Entrance limit between 0 and 7.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getentrancelimit">UF_GetEntranceLimit<a class="headerlink" href="#uf_getentrancelimit" title="Permanent link">&para;</a></h3>
<p>Gets the entrance limit of a user.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetEntranceLimit</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">entranceLimit</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">entranceCount</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>entranceLimit</em></strong><br />
Pointer to the entrance limit of the user.<br />
<strong><em>entranceCount</em></strong><br />
Pointer to the number of entrance for today. This count is reset to 0 at midnight.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_clearallentrancelimit">UF_ClearAllEntranceLimit<a class="headerlink" href="#uf_clearallentrancelimit" title="Permanent link">&para;</a></h3>
<p>Resets the entrance limits of of all users to 0  infinite.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearAllEntranceLimit</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="39-image-manipulation-api">3.9. Image Manipulation API<a class="headerlink" href="#39-image-manipulation-api" title="Permanent link">&para;</a></h2>
<p>UFImage is a data structure for exchanging image data between the host and the module. It consists of 28 byte header and raw image data.
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span><span class="w"> </span><span class="c1">// width of the fingerprint image</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"> </span><span class="c1">// height of the fingerprint image</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">compressed</span><span class="p">;</span><span class="w"> </span><span class="c1">// compression status  currently not used</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">encrypted</span><span class="p">;</span><span class="w"> </span><span class="c1">// encryption status  currently not used</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">format</span><span class="p">;</span><span class="w"> </span><span class="c1">// 0- gray, 1- binary, 2- 4bit gray</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">imgLen</span><span class="p">;</span><span class="w"> </span><span class="c1">// width * height</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">templateLen</span><span class="p">;</span><span class="w"> </span><span class="c1">// size of fingerprint template  currently not used</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">buffer</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="c1">// pointer to the raw pixel data</span>
<span class="p">}</span><span class="w"> </span><span class="n">UFImage</span><span class="p">;</span><span class="w"></span>
</code></pre></div></p>
<ul>
<li><code>UF_ConvertToBitmap</code>: converts a UFImage structure into HBITMAP.</li>
<li><code>UF_SaveImage</code>: saves a UFImage structure into BMP file.</li>
<li><code>UF_LoadImage</code>: loads a BMP file and convert it into a UFImage structure.</li>
<li><code>UF_ReadImage</code>: retrieves the last scanned fingerprint image.</li>
<li><code>UF_ScanImage</code>: scans a fingerprint on the sensor and retrieves the image data.</li>
</ul>
<hr />
<h3 id="uf_converttobitmap">UF_ConvertToBitmap<a class="headerlink" href="#uf_converttobitmap" title="Permanent link">&para;</a></h3>
<p>To display a UFImage on the PC screen, it should be converted to a bitmap first. <code>UF_ConvertToBitmap</code> converts a <code>UFImage</code> into a device independent bitmap and returns the handle of it. After drawing the bitmap, it should be destroyed by calling <code>DeleteObject()</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">HBITMAP</span><span class="w"> </span><span class="n">UF_ConvertToBitmap</span><span class="p">(</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>image</em></strong><br />
Pointer to the UFImage structure to be converted.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return the <code>HBITMAP</code> of the bitmap. Otherwise, return <code>NULL</code>.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// The following snippet is from FingerprintViewer.cpp in UniFingerUI</span>
<span class="c1">// source codes</span>
<span class="k">class</span><span class="w"> </span><span class="nc">CFingerprintViewer</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">CStatic</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// </span>
<span class="nl">Private</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">m_Image</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">HBITMAP</span><span class="w"> </span><span class="n">m_Bitmap</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">CFingerprintViewer::OnPaint</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">CPaintDC</span><span class="w"> </span><span class="n">dc</span><span class="p">(</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">CBitmap</span><span class="w"> </span><span class="n">bmp</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">m_Bitmap</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">DeleteObject</span><span class="p">(</span><span class="w"> </span><span class="n">m_Bitmap</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">m_Image</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">m_Bitmap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_ConvertToBitmap</span><span class="p">(</span><span class="w"> </span><span class="n">m_Image</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">bmp</span><span class="p">.</span><span class="n">Attach</span><span class="p">(</span><span class="w"> </span><span class="n">m_Bitmap</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">bmp</span><span class="p">.</span><span class="n">LoadBitmap</span><span class="p">(</span><span class="w"> </span><span class="n">IDB_LOGO</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">CDC</span><span class="w"> </span><span class="n">bmDC</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">bmDC</span><span class="p">.</span><span class="n">CreateCompatibleDC</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dc</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">CBitmap</span><span class="w"> </span><span class="o">*</span><span class="n">pOldbmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bmDC</span><span class="p">.</span><span class="n">SelectObject</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bmp</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">BITMAP</span><span class="w"> </span><span class="n">bi</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">bmp</span><span class="p">.</span><span class="n">GetBitmap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bi</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">CRect</span><span class="w"> </span><span class="n">rect</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">GetClientRect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rect</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">dc</span><span class="p">.</span><span class="n">SetStretchBltMode</span><span class="p">(</span><span class="w"> </span><span class="n">HALFTONE</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">dc</span><span class="p">.</span><span class="n">StretchBlt</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="n">Width</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="n">Height</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">bmDC</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">bi</span><span class="p">.</span><span class="n">bmWidth</span><span class="p">,</span><span class="w"> </span><span class="n">bi</span><span class="p">.</span><span class="n">bmHeight</span><span class="p">,</span><span class="w"> </span><span class="n">SRCCOPY</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">bmDC</span><span class="p">.</span><span class="n">SelectObject</span><span class="p">(</span><span class="n">pOldbmp</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_saveimage">UF_SaveImage<a class="headerlink" href="#uf_saveimage" title="Permanent link">&para;</a></h3>
<p>Converts a UFImage into a bitmap and save it into the specified file.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SaveImage</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">fileName</span><span class="p">,</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fileName</em></strong> <br />
Null-terminated string that specifies the file name.<br />
<strong><em>image</em></strong><br />
Pointer to the UFImage to be saved.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_loadimage">UF_LoadImage<a class="headerlink" href="#uf_loadimage" title="Permanent link">&para;</a></h3>
<p>Loads a bmp file into a UFImage structure.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_LoadImage</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">fileName</span><span class="p">,</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fileName</em></strong><br />
Null-terminated string that specifies the file name.<br />
<strong><em>image</em></strong><br />
Pointer to the UFImage structure.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readimage">UF_ReadImage<a class="headerlink" href="#uf_readimage" title="Permanent link">&para;</a></h3>
<p>Reads the last scanned fingerprint image.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadImage</span><span class="p">(</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>image</em></strong><br />
Pointer to the UFImage structure.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">UFImage</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="w"> </span><span class="n">UF_IMAGE_HEADER_SIZE</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="w">                </span><span class="n">UF_MAX_IMAGE_SIZE</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_ReadImage</span><span class="p">(</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_scanimage">UF_ScanImage<a class="headerlink" href="#uf_scanimage" title="Permanent link">&para;</a></h3>
<p>Scans a fingerprint input on the sensor and retrieves the image of it.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ScanImage</span><span class="p">(</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>image</em></strong><br />
Pointer to the UFImage structure.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="310-enroll-api">3.10. Enroll API<a class="headerlink" href="#310-enroll-api" title="Permanent link">&para;</a></h2>
<p>There are three ways to enroll fingerprints; scanning live fingerprints, using scanned images, or sending templates acquired elsewhere. The enrollment process varies according to <code>UF_SYS_ENROLL_MODE</code> parameter. Users can also fine tune the enrollment process by selecting enroll options.</p>
<ul>
<li><code>UF_Enroll</code>: enrolls fingerprint inputs on the sensor.</li>
<li><code>UF_EnrollContinue</code>: continues the enrollment process when the enroll mode is UF_ENROLL_TWO_TIMES2 or UF_ENROLL_TWO_TEMPLATES2.</li>
<li><code>UF_EnrollAfterVerification</code>: enrolls after an administrator is verified.</li>
<li><code>UF_EnrollTemplate</code>: enrolls a template.</li>
<li><code>UF_EnrollMultipleTemplates</code>: enrolls multiple templates to the specified ID.</li>
<li><code>UF_EnrollImage</code>: enrolls a fingerprint image.</li>
<li><code>UF_SetEnrollCallback</code>: sets the callback function for enrollment process.</li>
</ul>
<hr />
<h3 id="uf_enroll">UF_Enroll<a class="headerlink" href="#uf_enroll" title="Permanent link">&para;</a></h3>
<p>Enrolls fingerprint inputs on the sensor. The enrollment process varies according to the <code>UF_SYS_ENROLL_MODE</code> system parameter.</p>
<table>
<thead>
<tr>
<th>Enroll Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_ENROLL_ONE_TIME</td>
<td>Scans a fingerprint and enrolls it.</td>
</tr>
<tr>
<td>UF_ENROLL_TWO_TIMES1</td>
<td>Scans two fingerprints and enrolls the better one of the two. The scanning of the second fingerprint starts automatically.</td>
</tr>
<tr>
<td>UF_ENROLL_TWO_TIMES2</td>
<td>Same as UF_ENROLL_TWO_TIMES1, but the scanning of the second fingerprint should be initiated by another request packet.</td>
</tr>
<tr>
<td>UF_ENROLL_TWO_TEMPLATES1</td>
<td>Scans two fingerprints and enrolls both of them. The scanning of the second fingerprint starts automatically.</td>
</tr>
<tr>
<td>UF_ENROLL_TWO_TEMPLATES2</td>
<td>Same as UF_ENROLL_TWO_TEMPLATES1, but the scanning of the second fingerprint should be initiated by another request packet.</td>
</tr>
</tbody>
</table>
<p>Users can also fine tune the enrollment process by selecting one of the following UF_ENROLL_OPTIONs.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_ENROLL_NONE</td>
<td>Overwrites existing templates of the same ID.</td>
</tr>
<tr>
<td>UF_ENROLL_ADD_NEW</td>
<td>Adds templates to the same user ID. The maximum number of templates per user is 10.</td>
</tr>
<tr>
<td>UF_ENROLL_AUTO_ID</td>
<td>The user ID will be assigned automatically by the module.</td>
</tr>
<tr>
<td>UF_ENROLL_CHECK_ID</td>
<td>Before enrolling, checks if the user ID has already some templates. If it does, UF_ERR_EXIST_ID will be returned. This option is useful when users do not want to overwrite existing templates.</td>
</tr>
<tr>
<td>UF_ENROLL_CHECK_FINGER</td>
<td>Before enrolling, checks if the same fingerprint is already enrolled. If the identification succeeds, return UF_ERR_EXIST_FINGER error. If the identification fails, continue enroll process with UF_ENROLL_ADD_NEW option.</td>
</tr>
<tr>
<td>UF_ENROLL_CHECK_FINGER_AUTO_ID</td>
<td>Before enrolling, checks if the same fingerprint is already enrolled. If the identification succeeds, return UF_ERR_EXIST_FINGER error. If the identification fails, continue enroll process with UF_ENROLL_AUTO_ID option.</td>
</tr>
<tr>
<td>UF_ENROLL_DURESS</td>
<td>Adds another fingerprint as duress finger to the specified user ID. Under duress, users can authenticate with duress finger to notify the threat. When duress finger is matched, the module will return UF_ERR_DURESS_FINGER error code and write a log. Users can also setup output signals for duress events. When enrolling, the duress finger should not match with nonduress fingerprints of the same ID. If it is the case, UF_ERR_EXIST_FINGER error will be returned.</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Enroll</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_OPTION</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">enrollID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">imageQuality</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>option</em></strong><br />
Enroll option.<br />
<strong><em>enrollID</em></strong><br />
Pointer to the enrolled user ID. This parameter can be different from userID when <code>AUTO_ID</code> option is used.<br />
<strong><em>imageQuality</em></strong><br />
Pointer to the image quality score to be returned. The score shows the quality of scanned fingerprint and is in the range of 0 ~ 100.  </p>
<p><strong>Return Values</strong><br />
If enroll succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_enrollcontinue">UF_EnrollContinue<a class="headerlink" href="#uf_enrollcontinue" title="Permanent link">&para;</a></h3>
<p>Continues the enrollment process when the enroll mode is <code>UF_ENROLL_TWO_TIMES2</code> or <code>UF_ENROLL_TWO_TEMPLATES2</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnrollContinue</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">enrollID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">imageQuality</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>enrollID</em></strong><br />
Pointer to the enrolled user ID. This parameter can be different from userID when <code>AUTO_ID</code> option is used.<br />
<strong><em>imageQuality</em></strong><br />
Pointer to the image quality score to be returned. The score shows the quality of scanned fingerprint and is in the range of 0 ~ 100.  </p>
<p><strong>Return Values</strong><br />
If enroll succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// To enroll user ID 10 with enroll option of ADD_NEW,</span>
<span class="n">UINT32</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span><span class="w"></span>
<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GetSysParameter</span><span class="p">(</span><span class="w"> </span><span class="n">UF_SYS_ENROLL_MODE</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mode</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">imageQuality</span><span class="p">;</span><span class="w"></span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_Enroll</span><span class="p">(</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_ADD_NEW</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">imageQuality</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// If enroll mode is UF_ENROLL_TWO_TIMES2 or UF_ENROLL_TWO_TEMPLATES2</span>
<span class="n">If</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UF_RET_SUCCESS</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">mode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UF_ENROLL_TWO_TEMPLATES2</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UF_ENROLL_TWO_TIMES2</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_EnrollContinue</span><span class="p">(</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">imageQuality</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_enrollafterverification">UF_EnrollAfterVerification<a class="headerlink" href="#uf_enrollafterverification" title="Permanent link">&para;</a></h3>
<p>Enroll and Delete functions change the fingerprint DB stored in the module. For some applications, it might be necessary to obtain administrators permission before enrolling or deleting fingerprints. To process these functions, a user with proper administration level should verify himself first. If there is no user with co1rresponding administration level, these commands will fail with <code>UF_ERR_UNSUPPORTED</code> error code. If the verification fails, <code>UF_ERR_NOT_MATCH</code> error code will be returned. The only exception is that <code>UF_EnrollAfterVerification</code> will succeed when the fingerprint DB is empty. In that case, the first user enrolled by <code>UF_EnrollAfterVerification</code> will have <code>UF_ADMIN_LEVEL_ALL</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnrollAfterVerification</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_OPTION</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">enrollID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">imageQuality</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>option</em></strong><br />
Enroll option.<br />
<strong><em>enrollID</em></strong><br />
Pointer to the enrolled user ID. This parameter can be different from userID when <code>AUTO_ID</code> option is used.<br />
<strong><em>imageQuality</em></strong><br />
Pointer to the image quality score to be returned. The score shows the quality of scanned fingerprint and is in the range of 0 ~ 100.  </p>
<p><strong>Return Values</strong><br />
If enroll succeeds, return <code>UF_RET_SUCCESS</code>. If there is no user with corresponding administration level, return <code>UF_ERR_UNSUPPORTED</code>. If administrators verification fails, return <code>UF_ERR_NOT_MATCH</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_enrolltemplate">UF_EnrollTemplate<a class="headerlink" href="#uf_enrolltemplate" title="Permanent link">&para;</a></h3>
<p>Enrolls a fingerprint template.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnrollTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_OPTION</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">enrollID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>option</em></strong><br />
Enroll option.<br />
<strong><em>templateSize</em></strong><br />
Size of the template data.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data.<br />
<strong><em>enrollID</em></strong><br />
Pointer to the enrolled user ID. This parameter can be different from userID when <code>AUTO_ID</code> option is used.  </p>
<p><strong>Return Values</strong><br />
If enroll succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_enrollmultipletemplates">UF_EnrollMultipleTemplates<a class="headerlink" href="#uf_enrollmultipletemplates" title="Permanent link">&para;</a></h3>
<p>Enrolls multiple templates to the specified ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnrollMultipleTemplates</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_OPTION</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">enrollID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong> <br />
User ID.<br />
<strong><em>option</em></strong><br />
Enroll option.<br />
<strong><em>numOfTemplate</em></strong><br />
Number of templates to be enrolled.<br />
<strong><em>templateSize</em></strong><br />
Size of one template data. For example, when enroll 3 templates of 384 byte, this parameter is 384 not 1152.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data.<br />
<strong><em>enrollID</em></strong><br />
Pointer to the enrolled user ID. This parameter can be different from userID when <code>AUTO_ID</code> option is used.  </p>
<p><strong>Return Values</strong><br />
If enroll succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_enrollimage">UF_EnrollImage<a class="headerlink" href="#uf_enrollimage" title="Permanent link">&para;</a></h3>
<p>Enrolls a fingerprint image.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnrollImage</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_OPTION</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">imageSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">imageData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">enrollID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">imageQuality</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>option</em></strong><br />
Enroll option.<br />
<strong><em>imageSize</em></strong><br />
Size of the image data.<br />
<strong><em>imageData</em></strong><br />
Pointer to the raw image data. Note that it is not the pointer to <code>UFImage</code>, but the pointer to the raw pixel data without the <code>UFImage</code> header.<br />
<strong><em>enrollID</em></strong><br />
Pointer to the enrolled user ID. This parameter can be different from userID when <code>AUTO_ID</code> option is used..<br />
<strong><em>imageQuality</em></strong><br />
Pointer to the image quality score to be returned. The score shows the quality of scanned fingerprint and is in the range of 0 ~ 100.  </p>
<p><strong>Return Values</strong><br />
If enroll succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_setenrollcallback">UF_SetEnrollCallback<a class="headerlink" href="#uf_setenrollcallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function for enrollment process. This callback is called after receiving response packets with <code>UF_PROTO_RET_SCAN_SUCCESS</code>, <code>UF_PROTO_RET_SUCCESS</code>, or <code>UF_PROTO_RET_CONTINUE</code> messages.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetEnrollCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="n">errCode</span><span class="p">,</span><span class="w"> </span><span class="n">UF_ENROLL_MODE</span><span class="w"> </span><span class="n">enrollMode</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfSuccess</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h2 id="311-identify-api">3.11. Identify API<a class="headerlink" href="#311-identify-api" title="Permanent link">&para;</a></h2>
<p>Checks if a fingerprint input is among the enrolled user ids. While verification checks only the fingerprints of a specified user id, identification searches all the enrolled fingerprints until a match is found. As in enrollment, there are three ways to identify fingerprints; scanning live fingerprints, using scanned images, or sending templates acquired elsewhere.</p>
<ul>
<li><code>UF_Identify</code>: identifies the fingerprint input on the sensor.</li>
<li><code>UF_IdentifyTemplate</code>: identifies a template.</li>
<li><code>UF_IdentifyImage</code>: identifies a fingerprint image.</li>
<li><code>UF_SetIdentifyCallback</code>: sets the callback function for identification.</li>
</ul>
<hr />
<h3 id="uf_identify">UF_Identify<a class="headerlink" href="#uf_identify" title="Permanent link">&para;</a></h3>
<p>Identifies the fingerprint input on the sensor.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Identify</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
Pointer to the user ID to be returned.<br />
<strong><em>subID</em></strong><br />
Pointer to the index of the template to be returned.  </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_identifytemplate">UF_IdentifyTemplate<a class="headerlink" href="#uf_identifytemplate" title="Permanent link">&para;</a></h3>
<p>Identifies a template.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_IdentifyTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>templateSize</em></strong><br />
Size of the template data.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data.<br />
<strong><em>userID</em></strong><br />
Pointer to the user ID to be returned.<br />
<strong><em>subID</em></strong><br />
Pointer to the index of the template to be returned. </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_identifyimage">UF_IdentifyImage<a class="headerlink" href="#uf_identifyimage" title="Permanent link">&para;</a></h3>
<p>Identifies a fingerprint image.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_IdentifyImage</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">imageSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">imageData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>imageSize</em></strong><br />
Size of the image data.<br />
<strong><em>imageData</em></strong><br />
Pointer to the raw image data. Note that it is not the pointer to UFImage, but the pointer to the raw pixel data without the UFImage header.<br />
<strong><em>userID</em></strong><br />
Pointer to the user ID to be returned.<br />
<strong><em>subID</em></strong><br />
Pointer to the index of the template to be returned.  </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setidentifycallback">UF_SetIdentifyCallback<a class="headerlink" href="#uf_setidentifycallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function for identification process. This callback is called after receiving <code>UF_PROTO_RET_SCAN_SUCCESS</code> message.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetIdentifyCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None  </p>
</div>
<hr />
<h2 id="312-verify-api">3.12. Verify API<a class="headerlink" href="#312-verify-api" title="Permanent link">&para;</a></h2>
<p>Verifies if a fingerprint input matches the enrolled fingerprints of the specified user id. As in enroll process, there are three ways to verify fingerprints; scanning live fingerprints, using scanned images, or sending templates acquired elsewhere.</p>
<ul>
<li><code>UF_Verify</code>: verifies the fingerprint input on the sensor.</li>
<li><code>UF_VerifyTemplate</code>: verifies a template.</li>
<li><code>UF_VerifyHostTemplate</code>: verifies the fingerprint input on the sensor with the templates sent by the host.</li>
<li><code>UF_VerifyImage</code>: verifies a fingerprint image.</li>
<li><code>UF_SetVerifyCallback</code>: sets the callback function for verification process.</li>
</ul>
<hr />
<h3 id="uf_verify">UF_Verify<a class="headerlink" href="#uf_verify" title="Permanent link">&para;</a></h3>
<p>Verifies if a fingerprint input on the sensor matches the enrolled fingerprints of the specified user id.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Verify</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>subID</em></strong><br />
Pointer to the index of the template to be returned.  </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_MATCH</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_verifytemplate">UF_VerifyTemplate<a class="headerlink" href="#uf_verifytemplate" title="Permanent link">&para;</a></h3>
<p>Verifies a template.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_VerifyTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>templateSize</em></strong><br />
Size of the template data.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data to be sent.<br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>subID</em></strong><br />
Pointer to the index of the template to be returned.  </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_MATCH</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_verifyhosttemplate">UF_VerifyHostTemplate<a class="headerlink" href="#uf_verifyhosttemplate" title="Permanent link">&para;</a></h3>
<p>Transmits fingerprint templates from the host to the module and verifies if they match the live fingerprint input on the sensor.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_VerifyHostTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">templateData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>numOfTemplate</em></strong><br />
Number of templates to be transferred to the module.<br />
<strong><em>templateSize</em></strong><br />
Size of a template.<br />
<strong><em>templateData</em></strong><br />
Pointer to the template data to be transferred to the module.  </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_MATCH</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_verifyimage">UF_VerifyImage<a class="headerlink" href="#uf_verifyimage" title="Permanent link">&para;</a></h3>
<p>Verifies a fingerprint image.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_VerifyImage</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">imageSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">imageData</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>imageSize</em></strong><br />
Size of the fingerprint image.<br />
<strong><em>imageData</em></strong><br />
Pointer to the raw image data. Note that it is not the pointer to <code>UFImage</code>, but the pointer to the raw pixel data without the <code>UFImage</code> header.<br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>subID</em></strong><br />
Pointer to the index of the template to be returned.  </p>
<p><strong>Return Values</strong><br />
If matching succeeds, return <code>UF_RET_SUCCESS</code>. If matching fails, return <code>UF_ERR_NOT_MATCH</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setverifycallback">UF_SetVerifyCallback<a class="headerlink" href="#uf_setverifycallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function for verification process. The callback function is called after receiving <code>UF_PROTO_RET_SCAN_SUCCESS</code> message.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetVerifyCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h2 id="313-delete-api">3.13. Delete API<a class="headerlink" href="#313-delete-api" title="Permanent link">&para;</a></h2>
<p>Provides functions for deleting stored templates.</p>
<ul>
<li><code>UF_Delete</code>: deletes the templates of the specified user ID.</li>
<li><code>UF_DeleteOneTemplate</code>: deletes one template of the specified user ID.</li>
<li><code>UF_DeleteMultipleTemplates</code>: deletes the template of multiple user IDs.</li>
<li><code>UF_DeleteAll</code>: deletes all the templates.</li>
<li><code>UF_DeleteAllAfterVerification</code>: deletes templates after administrators verification.</li>
<li><code>UF_SetDeleteCallback</code>: sets the callback function for delete process.</li>
</ul>
<hr />
<h3 id="uf_delete">UF_Delete<a class="headerlink" href="#uf_delete" title="Permanent link">&para;</a></h3>
<p>Deletes the enrolled templates of the specified user ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_Delete</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.  </p>
<p><strong>Return Values</strong><br />
If delete succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteonetemplate">UF_DeleteOneTemplate<a class="headerlink" href="#uf_deleteonetemplate" title="Permanent link">&para;</a></h3>
<p>Deletes one template of the specified user ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteOneTemplate</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">subID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>subID</em></strong><br />
Sub index of the template. It is between 0 and 9.  </p>
<p><strong>Return Values</strong><br />
If delete succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deletemultipletemplates">UF_DeleteMultipleTemplates<a class="headerlink" href="#uf_deletemultipletemplates" title="Permanent link">&para;</a></h3>
<p>Deletes the enrolled templates of multiple user IDs.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteMultipleTemplates</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">startUserID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">lastUserID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">deletedUserID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong> <br />
<strong><em>startUserID</em></strong><br />
First user ID to be deleted.<br />
<strong><em>lastUserID</em></strong><br />
Last user ID to be deleted.<br />
<strong><em>deletedUserID</em></strong><br />
Pointer to the number of IDs to be actually deleted by the module.  </p>
<p><strong>Return Values</strong><br />
If delete succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// Delete templates of ID 10 ~ ID 20</span>
<span class="kt">int</span><span class="w"> </span><span class="n">numOfDeleted</span><span class="p">;</span><span class="w"></span>
<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_DeleteMultipleTemplates</span><span class="p">(</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">numOfDeleted</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_deleteall">UF_DeleteAll<a class="headerlink" href="#uf_deleteall" title="Permanent link">&para;</a></h3>
<p>Deletes all the templates stored in a module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAll</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If delete succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteallafterverification">UF_DeleteAllAfterVerification<a class="headerlink" href="#uf_deleteallafterverification" title="Permanent link">&para;</a></h3>
<p>Deletes all the templates after administrators verification.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAllAfterVerification</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If delete succeeds, return <code>UF_RET_SUCCESS</code>. If there is no user with corresponding administration level, return <code>UF_ERR_UNSUPPORTED</code>. If administrators verification fails, return <code>UF_ERR_NOT_MATCH</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setdeletecallback">UF_SetDeleteCallback<a class="headerlink" href="#uf_setdeletecallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function for delete process. This callback is called after receiving <code>UF_PROTO_RET_SCAN_SUCCESS</code> or <code>UF_PROTO_RET_CONTINUE</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetDeleteCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h2 id="314-io-api-for-sfm3500">3.14. IO API for SFM3500<a class="headerlink" href="#314-io-api-for-sfm3500" title="Permanent link">&para;</a></h2>
<p>SFM3500 modules have three input ports, three output ports, and three LED ports which are configurable for specific functions. For BioEntry Smart and Pass, there are two input ports, two output ports, and 2 LED ports. These functions are provided to configure these IO ports.</p>
<ul>
<li><code>UF_InitIO</code>: clears the output event caches.</li>
<li><code>UF_SetInputFunction</code>: sets the function of an input port.</li>
<li><code>UF_GetInputFunction</code>: gets the function of an input port.</li>
<li><code>UF_GetInputStatus</code>: gets the status of an input port.</li>
<li><code>UF_GetOutputEventList</code>: gets the output events list assigned to an output port.</li>
<li><code>UF_ClearAllOutputEvent</code>: clears all the output events assigned to an output port.</li>
<li><code>UF_ClearOutputEvent</code>: clears an output event assigned to an output port.</li>
<li><code>UF_SetOutputEvent</code>: adds an output event to an output port.</li>
<li><code>UF_GetOutputEvent</code>: gets the signal data of an output event.</li>
<li><code>UF_SetOutputStatus</code>: sets the status of an output port.</li>
<li><code>UF_SetLegacyWiegandConfig</code>: sets the Wiegand format.</li>
<li><code>UF_GetLegacyWiegandConfig</code>: gets the Wiegand format.</li>
<li><code>UF_MakeIOConfiguration</code>: makes IO configuration data to be saved into a file.</li>
</ul>
<hr />
<h4 id="uf_initio">UF_InitIO<a class="headerlink" href="#uf_initio" title="Permanent link">&para;</a></h4>
<p>To prevent redundant communication, the SFM SDK caches the output events previously read or written. <code>UF_InitIO</code> clears the cache. It is called in <code>UF_Reconnect</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_InitIO</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
None</p>
</div>
<hr />
<h3 id="uf_setinputfunction">UF_SetInputFunction<a class="headerlink" href="#uf_setinputfunction" title="Permanent link">&para;</a></h3>
<p>Sets the function of an input port. Available functions are as follows;</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_INPUT_NO_ACTION</td>
<td>No action</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL</td>
<td>Enroll</td>
</tr>
<tr>
<td>UF_INPUT_IDENTIFY</td>
<td>Identify</td>
</tr>
<tr>
<td>UF_INPUT_DELETE</td>
<td>Delete</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_ALL</td>
<td>Delete all</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL_BY_WIEGAND</td>
<td>Enroll by Wiegand ID</td>
</tr>
<tr>
<td>UF_INPUT_VERIFY_BY_WIEGAND</td>
<td>Verify by Wiegand ID</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_BY_WIEGAND</td>
<td>Delete by Wiegand ID</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL_VERIFICATION</td>
<td>Enroll after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL_BY_WIEGAND_VERIFICATION</td>
<td>Enroll by Wiegand ID after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_VERIFICATION</td>
<td>Delete after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_BY_WIEGAND_VERIFICATION</td>
<td>Delete by Wiegand ID after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_ALL_VERIFICATION</td>
<td>Delete all after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_CANCEL</td>
<td>Cancel</td>
</tr>
<tr>
<td>UF_INPUT_TAMPER_SWITCH_IN</td>
<td>Tamper switch. When the tamper switch is on, Tamper Switch On(0x64) event occurred. When it gets off, Tamper Switch Off(0x65) event occurred. Both events are recorded in log, too. In BioEntry Smart and Pass, UF_INPUT_PORT2 is assigned to Tamper SW.</td>
</tr>
<tr>
<td>UF_INPUT_RESET</td>
<td>Reset the module</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetInputFunction</span><span class="p">(</span><span class="w"> </span><span class="n">UF_INPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_INPUT_FUNC</span><span class="w"> </span><span class="n">inputFunction</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">minimumTime</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
One of the three input ports  <code>UF_INPUT_PORT0</code>, <code>UF_INPUT_PORT1</code>, and <code>UF_INPUT_PORT2</code>. For BioEntry Smart and Pass, <code>UF_INPUT_PORT2</code> is assigned to Tamper SW and not configurable.<br />
<strong><em>inputFunction</em></strong><br />
Input function.<br />
<strong><em>minimumTime</em></strong>  <br />
Minimum duration after which the input signal is acknowledged as active.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getinputfunction">UF_GetInputFunction<a class="headerlink" href="#uf_getinputfunction" title="Permanent link">&para;</a></h3>
<p>Gets the function assigned to an input port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetInputFunction</span><span class="p">(</span><span class="w"> </span><span class="n">UF_INPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_INPUT_FUNC</span><span class="o">*</span><span class="w"> </span><span class="n">inputFunction</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">minimumTime</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Input port.<br />
<strong><em>inputFunction</em></strong><br />
Pointer to the input function to be returned.<br />
<strong><em>minimumTime</em></strong><br />
Pointer to the minimum duration of input signal to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getinputstatus">UF_GetInputStatus<a class="headerlink" href="#uf_getinputstatus" title="Permanent link">&para;</a></h3>
<p>Gets the status of an input port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetInputStatus</span><span class="p">(</span><span class="w"> </span><span class="n">UF_INPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">remainStatus</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Input port.<br />
<strong><em>remainStatus</em></strong><br />
If <code>TRUE</code>, dont change the status of the input port after reading. If <code>FALSE</code>, clear the status of the input port.<br />
<strong><em>status</em></strong><br />
Pointer to the status of the input port to be read. 0 for inactive and 1 for active status.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getoutputeventlist">UF_GetOutputEventList<a class="headerlink" href="#uf_getoutputeventlist" title="Permanent link">&para;</a></h3>
<p>Gets the list of output events assigned to an output/LED port. Available output events are as follows;</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Event</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enroll</td>
<td>UF_OUTPUT_ENROLL_WAIT_WIEGAND</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_ENROLL_WAIT_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_ENROLL_PROCESSING</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_ENROLL_BAD_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_ENROLL_SUCCESS</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_ENROLL_FAIL</td>
</tr>
<tr>
<td>Verify</td>
<td>UF_OUTPUT_VERIFY_WAIT_WIEGAND</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_VERIFY_WAIT_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_VERIFY_PROCESSING</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_VERIFY_BAD_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_VERIFY_SUCCESS</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_VERIFY_FAIL</td>
</tr>
<tr>
<td>Identify</td>
<td>UF_OUTPUT_IDENTIFY_WAIT_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_IDENTIFY_PROCESSING</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_IDENTIFY_BAD_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_IDENTIFY_SUCCESS</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_IDENTIFY_FAIL</td>
</tr>
<tr>
<td>Delete</td>
<td>UF_OUTPUT_DELETE_WAIT_WIEGAND</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DELETE_WAIT_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DELETE_PROCESSING</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DELETE_BAD_FINGER</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DELETE_SUCCESS</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DELETE_FAIL</td>
</tr>
<tr>
<td>Detect</td>
<td>UF_OUTPUT_DETECT_INPUT0</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DETECT_INPUT1</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DETECT_INPUT2</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DETECT_WIEGAND</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_DETECT_FINGER</td>
</tr>
<tr>
<td>End Processing</td>
<td>UF_OUTPUT_END_PROCESSING</td>
</tr>
<tr>
<td>Duress</td>
<td>UF_OUTPUT_VERIFY_DURESS</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_IDENTIFY_DURESS</td>
</tr>
<tr>
<td>Tamper SW</td>
<td>UF_OUTPUT_TAMPER_SWITCH_ON</td>
</tr>
<tr>
<td></td>
<td>UF_OUTPUT_TAMPER_SWITCH_OFF</td>
</tr>
<tr>
<td>System</td>
<td>UF_OUTPUT_SYS_STARTED</td>
</tr>
<tr>
<td>SmartCard (Available only for BioEntry Smart)</td>
<td>UF_OUTPUT_DETECT_SMARTCARD   <br> UF_OUTPUT_BAD_SMARTCARD   <br> UF_OUTPUT_WAIT_SMARTCARD</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetOutputEventList</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_OUTPUT_EVENT</span><span class="o">*</span><span class="w"> </span><span class="n">events</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfEvent</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Output/LED port.<br />
<strong><em>events</em></strong><br />
Array of output events to be returned.<br />
<strong><em>numOfEvent</em></strong><br />
Pointer to the number of output events to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong><br />
<div class="highlight"><pre><span></span><code><span class="c1">// To read the output events assigned to OUT0</span>
<span class="n">UF_OUTPUT_EVENT</span><span class="w"> </span><span class="n">events</span><span class="p">[</span><span class="n">UF_MAX_OUTPUT_PER_PORT</span><span class="p">];</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">numOfEvent</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GetOutputEventList</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT0</span><span class="p">,</span><span class="w"> </span><span class="n">events</span><span class="p">,</span><span class="w"></span>
<span class="o">&amp;</span><span class="n">numOfEvent</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_clearalloutputevent">UF_ClearAllOutputEvent<a class="headerlink" href="#uf_clearalloutputevent" title="Permanent link">&para;</a></h3>
<p>Clears all the output events assigned to an output/LED port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearAllOutputEvent</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong> <br />
<strong><em>port</em></strong><br />
Output/LED port.  </p>
<p><strong>Return Values</strong> <br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_clearoutputevent">UF_ClearOutputEvent<a class="headerlink" href="#uf_clearoutputevent" title="Permanent link">&para;</a></h3>
<p>Clears the specified output event from the output port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearOutputEvent</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_OUTPUT_EVENT</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Output/LED port.<br />
<strong><em>event</em></strong><br />
Output event to be deleted from the output/LED port.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_setoutputevent">UF_SetOutputEvent<a class="headerlink" href="#uf_setoutputevent" title="Permanent link">&para;</a></h3>
<p>Adds an output event to the specified output/LED port. The characteristics of output signal is also specified.</p>
<p><img alt="......jpg" src="../UF_SetOutputEvent.png" /> </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">delay</span><span class="p">;</span><span class="w"> </span><span class="c1">// t_delay</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w"> </span><span class="c1">// t_count</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">active</span><span class="p">;</span><span class="w"> </span><span class="c1">// t_high</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">inactive</span><span class="p">;</span><span class="w"> </span><span class="c1">// t_low</span>
<span class="p">}</span><span class="w"> </span><span class="n">UFOutputSignal</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetOutputEvent</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_OUTPUT_EVENT</span><span class="w"> </span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">UFOutputSignal</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Output/LED port.<br />
<strong><em>event</em></strong><br />
Output event to be added.<br />
<strong><em>signal</em></strong><br />
Signal specification of the output event.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// To turn on the LED0 for 500ms when verification succeeds,</span>
<span class="n">UFOutputSignal</span><span class="w"> </span><span class="n">signal</span><span class="p">;</span><span class="w"></span>
<span class="n">signal</span><span class="p">.</span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="n">signal</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="n">signal</span><span class="p">.</span><span class="n">active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">;</span><span class="w"></span>
<span class="n">signal</span><span class="p">.</span><span class="n">inactive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_SetOutputEvent</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_LED0</span><span class="p">,</span><span class="w"> </span><span class="n">UF_OUTPUT_VERIFY_SUCCESS</span><span class="p">,</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_getoutputevent">UF_GetOutputEvent<a class="headerlink" href="#uf_getoutputevent" title="Permanent link">&para;</a></h3>
<p>Gets the signal data of an output event on the specified output/LED port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetOutputEvent</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_OUTPUT_EVENT</span><span class="w"> </span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">UFOutputSignal</span><span class="o">*</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Output/LED port.<br />
<strong><em>event</em></strong><br />
Output event.<br />
<strong><em>signal</em></strong><br />
Pointer to the signal data to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setoutputstatus">UF_SetOutputStatus<a class="headerlink" href="#uf_setoutputstatus" title="Permanent link">&para;</a></h3>
<p>Sets the status of an output/LED port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetOutputStatus</span><span class="p">(</span><span class="w"> </span><span class="n">UF_OUTPUT_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
Output/LED port.<br />
<strong><em>status</em></strong><br />
TRUE for active and FALSE for inactive status.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setlegacywiegandconfigdeprecated">UF_SetLegacyWiegandConfig(Deprecated)<a class="headerlink" href="#uf_setlegacywiegandconfigdeprecated" title="Permanent link">&para;</a></h3>
<p>Until the firmware V1.3, SFM 3500 modules only support 26 bit Wiegand format. Since the firmware V1.4, Extended Wiegand Interface is provided, which is much more powerful and flexible. <code>UF_SetLegacyWiegandConfig</code> configures the legacy 26 bit Wiegand format and is provided only for firmwares older than V1.4.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetLegacyWiegandConfig</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">enableInput</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">enableOutput</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">fcBits</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">fcCode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>enableInput</em></strong><br />
If TRUE, the module starts verification process when receiving Wiegand inputs.<br />
<strong><em>enableOutput</em></strong><br />
If TURE, the module outputs the user ID when verification or identification succeeds.<br />
<strong><em>fcBits</em></strong><br />
Specifies the number of facility bits.<br />
<strong><em>fcCode</em></strong><br />
Specifies the facility code.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getlegacywiegandconfigdeprecated">UF_GetLegacyWiegandConfig(Deprecated)<a class="headerlink" href="#uf_getlegacywiegandconfigdeprecated" title="Permanent link">&para;</a></h3>
<p>Gets the configuration of the 26 bit Wiegand format.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetLegacyWiegandConfig</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">enableInput</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">enableOutput</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">fcBits</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">fcCode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>enableInput</em></strong><br />
Pointer to the input enable status.<br />
<strong><em>enableOutput</em></strong><br />
Pointer to the output enable status.<br />
<strong><em>fcBits</em></strong><br />
Pointer to the number of facility bits to be returned.<br />
<strong><em>fcCode</em></strong><br />
Pointer to the facility code to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_makeioconfiguration">UF_MakeIOConfiguration<a class="headerlink" href="#uf_makeioconfiguration" title="Permanent link">&para;</a></h3>
<p>Makes IO configuration data to be saved into a file. See the example of <code>UF_SaveConfiguration</code> for the usage of this function.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_MakeIOConfiguration</span><span class="p">(</span><span class="w"> </span><span class="n">UFConfigComponentHeader</span><span class="o">*</span><span class="w"> </span><span class="n">configHeader</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">configData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>configHeader</em></strong><br />
Pointer to the configuration header to be returned.<br />
<strong><em>configData</em></strong><br />
Pointer to the configuration data to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="315-gpio-api-for-sfm3000400050006000">3.15. GPIO API for SFM3000/4000/5000/6000<a class="headerlink" href="#315-gpio-api-for-sfm3000400050006000" title="Permanent link">&para;</a></h2>
<p>SFM3000 series modules have 8 GPIO ports, which are configurable for specific functions. The function of each GPIO can be read and programmed via these APIs. . GPIO port can be configured as input, output, shared I/O, Wiegand input, or Wiegand output. In the input mode, enroll, identify, and delete functions are supported. In the output mode, the port can send output patterns corresponding to the various events such as match success, enroll fail, and so on.</p>
<ul>
<li><code>UF_GetGPIOConfiguration</code>: gets the configuration data of a GPIO port.</li>
<li><code>UF_SetInputGPIO</code>: configures an input GPIO port.</li>
<li><code>UF_SetOutputGPIO</code>: configures an output GPIO port.</li>
<li><code>UF_SetSharedGPIO</code>: configures a shared I/O port.</li>
<li><code>UF_DisableGPIO</code>: disables a GPIO port.</li>
<li><code>UF_ClearAllGPIO</code>: clears all the GPIO configurations.</li>
<li><code>UF_SetDefaultGPIO</code>: resets to default GPIO configurations.</li>
<li><code>UF_EnableWiegandInput</code>: enables Wiegand input.</li>
<li><code>UF_EnableWiegandOutput</code>: enables Wiegand output.</li>
<li><code>UF_DisableWiegandInput</code>: disables Wiegand input.</li>
<li><code>UF_DisableWiegandOutput</code>: disables Wiegand output.</li>
<li><code>UF_MakeGPIOConfiguration</code>: makes GPIO configuration data to be saved into a file.</li>
</ul>
<hr />
<h3 id="uf_getgpioconfiguration">UF_GetGPIOConfiguration<a class="headerlink" href="#uf_getgpioconfiguration" title="Permanent link">&para;</a></h3>
<p>Gets the configuration data of a GPIO port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetGPIOConfiguration</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UF_GPIO_MODE</span><span class="o">*</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfData</span><span class="p">,</span><span class="w"> </span><span class="n">UFGPIOData</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong> <br />
<strong><em>port</em></strong><br />
GPIO port from <code>UF_GPIO_0</code> to <code>UF_GPIO_7</code>.<br />
<strong><em>mode</em></strong><br />
Pointer to the GPIO mode to be returned. Available GPIO modes are as follows;  </p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_GPIO_INPUT</td>
<td>Input port</td>
</tr>
<tr>
<td>UF_GPIO_OUTPUT</td>
<td>Output port</td>
</tr>
<tr>
<td>UF_GPIO_SHARED_IO</td>
<td>Shared IO port</td>
</tr>
<tr>
<td>UF_GPIO_WIEGAND_INPUT</td>
<td>Wiegand input port</td>
</tr>
<tr>
<td>UF_GPIO_WIEGAND_OUTPUT</td>
<td>Wiegand output port</td>
</tr>
</tbody>
</table>
<p><strong><em>numOfData</em></strong><br />
Number of configuration data assigned to the port.<br />
<strong><em>data</em></strong><br />
Array of GPIO configuration data to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// To retrieve the configuration data of GPIO 0</span>
<span class="n">UFGPIOData</span><span class="w"> </span><span class="n">configData</span><span class="p">[</span><span class="n">UF_MAX_GPIO_OUTPUT_EVENT</span><span class="p">];</span><span class="w"></span>
<span class="n">UF_GPIO_MODE</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">numOfData</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GetGPIOConfiguration</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_0</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">numOfData</span><span class="p">,</span><span class="w"> </span><span class="n">configData</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_setinputgpio">UF_SetInputGPIO<a class="headerlink" href="#uf_setinputgpio" title="Permanent link">&para;</a></h3>
<p>Configures an input GPIO port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetInputGPIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UFGPIOInputData</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
GPIO port. Only GPIO 0 to GPIO 3 can be an input port.<br />
<strong><em>data</em></strong><br />
<code>UFGPIOInputData</code> is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">inputFunction</span><span class="p">;</span><span class="w"> </span><span class="c1">// See UF_GPIO_INPUT_FUNC</span>
<span class="w">                                </span><span class="c1">// in UF_3000IO.h</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">activationLevel</span><span class="p">;</span><span class="w"> </span><span class="c1">// See UF_GPIO_INPUT_ACTIVATION</span>
<span class="w">                                </span><span class="c1">// in UF_3000IO.h</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">timeout</span><span class="p">;</span><span class="w"> </span><span class="c1">// valid only if inputFUnction is</span>
<span class="w">                            </span><span class="c1">// UF_GPIO_IN_DELETE_ALL or</span>
<span class="w">                            </span><span class="c1">// UF_GPIO_IN_DELETE_ALL_VERIFICATION</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">reserved</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFGPIOInputData</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong><br />
<div class="highlight"><pre><span></span><code><span class="c1">// To assign identify to GPIO 0 with ACTIVE_HIGH signal</span>
<span class="n">UFGPIOInputData</span><span class="w"> </span><span class="n">inputData</span><span class="p">;</span><span class="w"></span>
<span class="n">inputData</span><span class="p">.</span><span class="n">inputFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GPIO_IN_IDENTIFY</span><span class="p">;</span><span class="w"></span>
<span class="n">inputData</span><span class="p">.</span><span class="n">activationLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_GPIO_IN_ACTIVE_HIGH</span><span class="p">;</span><span class="w"></span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_SetInputGPIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_0</span><span class="p">,</span><span class="w"> </span><span class="n">inputData</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div></p>
</div>
<hr />
<h3 id="uf_setoutputgpio">UF_SetOutputGPIO<a class="headerlink" href="#uf_setoutputgpio" title="Permanent link">&para;</a></h3>
<p>Configures an output GPIO port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetOutputGPIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfData</span><span class="p">,</span><span class="w"> </span><span class="n">UFGPIOOutputData</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
GPIO port.<br />
<strong><em>numOfData</em></strong><br />
Number of UFGPIOOutputData to be assigned to the GPIO port.<br />
<strong><em>data</em></strong><br />
Array of UFGPIOOutputData to be assigned to the GPIO port.<br />
<code>UFGPIOOutputData</code> is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">event</span><span class="p">;</span><span class="w"> </span><span class="c1">// see UF_GPIO_OUTPUT_EVENT</span>
<span class="w">                        </span><span class="c1">// in UF_3000IO.h</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">level</span><span class="p">;</span><span class="w"> </span><span class="c1">// see UF_GPIO_OUTPUT_LEVEL</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">interval</span><span class="p">;</span><span class="w"> </span><span class="c1">// in milliseconds</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">blinkingPeriod</span><span class="p">;</span><span class="w"> </span><span class="c1">// valid only if the level is</span>
<span class="w">                </span><span class="c1">// UF_GPIO_OUT_HIGH_BLINK or UF_GPIO_OUT_LOW_BLINK</span>
<span class="p">}</span><span class="w"> </span><span class="n">UFGPIOOutputData</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setsharedgpio">UF_SetSharedGPIO<a class="headerlink" href="#uf_setsharedgpio" title="Permanent link">&para;</a></h3>
<p>Configures the shared I/O GPIO port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetSharedGPIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_PORT</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">UFGPIOInputData</span><span class="w"> </span><span class="n">inputData</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfOutputData</span><span class="p">,</span><span class="w"> </span><span class="n">UFGPIOOutputData</span><span class="o">*</span><span class="w"> </span><span class="n">outputData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
GPIO port. Only GPIO 0 to GPIO 3 can be a shared I/O port.<br />
<strong><em>inputData</em></strong><br />
Input data to be assigned.<br />
<strong><em>numOfOutputData</em></strong><br />
Number of UFGPIOOutputData to be assigned.<br />
<strong><em>outputData</em></strong><br />
Array of UFGPIOOutputData to be assigned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_disablegpio">UF_DisableGPIO<a class="headerlink" href="#uf_disablegpio" title="Permanent link">&para;</a></h3>
<p>Disables a GPIO port.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DisableGPIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_GPIO_PORT</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>port</em></strong><br />
GPIO port.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_clearallgpio">UF_ClearAllGPIO<a class="headerlink" href="#uf_clearallgpio" title="Permanent link">&para;</a></h3>
<p>Clears all the configurations of GPIO ports.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearAllGPIO</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setdefaultgpio">UF_SetDefaultGPIO<a class="headerlink" href="#uf_setdefaultgpio" title="Permanent link">&para;</a></h3>
<p>Resets the configurations of GPIO ports to default.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetDefaultGPIO</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_enablewiegandinput">UF_EnableWiegandInput<a class="headerlink" href="#uf_enablewiegandinput" title="Permanent link">&para;</a></h3>
<p>Enables Wiegand input. Wiegand input uses GPIO 2 and GPIO 3 as input signal.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnableWiegandInput</span><span class="p">(</span><span class="w"> </span><span class="n">UFGPIOWiegandData</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>data</em></strong><br />
<code>UFGPIOWiegandData</code> is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">totalBits</span><span class="p">;</span><span class="w"> </span><span class="c1">// fixed at 26 bit</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">fcBits</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of facility bits</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">idBits</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of id bits</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">fcCode</span><span class="p">;</span><span class="w"> </span><span class="c1">// facility code</span>
<span class="p">}</span><span class="w"> </span><span class="n">UFGPIOWiegandData</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_enablewiegandoutput">UF_EnableWiegandOutput<a class="headerlink" href="#uf_enablewiegandoutput" title="Permanent link">&para;</a></h3>
<p>Enables Wiegand output. Wiegand output use GPIO 4 and GPIO 5 as output signal.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_EnableWiegandOutput</span><span class="p">(</span><span class="w"> </span><span class="n">UFGPIOWiegandData</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>data</em></strong><br />
Wiegand configuration data.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_disablewiegandinput">UF_DisableWiegandInput<a class="headerlink" href="#uf_disablewiegandinput" title="Permanent link">&para;</a></h3>
<p>Disables Wiegand input.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DisableWiegandInput</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_disablewiegandoutput">UF_DisableWiegandOutput<a class="headerlink" href="#uf_disablewiegandoutput" title="Permanent link">&para;</a></h3>
<p>Disables Wiegand output.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DisableWiegandOutput</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_makegpioconfiguration">UF_MakeGPIOConfiguration<a class="headerlink" href="#uf_makegpioconfiguration" title="Permanent link">&para;</a></h3>
<p>Makes GPIO configuration data to be saved into a file.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_MakeGPIOConfiguration</span><span class="p">(</span><span class="w"> </span><span class="n">UFConfigComponentHeader</span><span class="o">*</span><span class="w"> </span><span class="n">configHeader</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">configData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>configHeader</em></strong><br />
Pointer to the configuration header.<br />
<strong><em>configData</em></strong><br />
Pointer to the configuration data.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong><br />
See CUniFingerUI3000IOView::OnGpioSaveFile in UniFingerUI source codes.</p>
</div>
<hr />
<h2 id="316-user-memory-api">3.16. User Memory API<a class="headerlink" href="#316-user-memory-api" title="Permanent link">&para;</a></h2>
<p>SFM modules reserve 256 bytes for user data. This area can be read and written by these APIs.
- <code>UF_WriteUserMemory</code>: writes data to the user memory.
- <code>UF_ReadUserMemory</code>: reads the contents of the user memory.</p>
<hr />
<h3 id="uf_writeusermemory">UF_WriteUserMemory<a class="headerlink" href="#uf_writeusermemory" title="Permanent link">&para;</a></h3>
<p>Writes data into the user memory.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_WriteUserMemory</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>memory</em></strong><br />
Pointer to the 256 byte array to be written.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readusermemory">UF_ReadUserMemory<a class="headerlink" href="#uf_readusermemory" title="Permanent link">&para;</a></h3>
<p>Reads the contents of the user memory.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadUserMemory</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>memory</em></strong><br />
Pointer to the 256 byte array to be read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="317-log-management-api">3.17. Log Management API<a class="headerlink" href="#317-log-management-api" title="Permanent link">&para;</a></h2>
<p>SFM3500 modules provide logging facility for recording important events. Users can receive logs from the module and delete unwanted ones. The format of a log record is as follows;</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Description</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>Source</td>
<td>UF_LOG_SOURCE_HOST_PORT</td>
<td>1 byte</td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_AUX_PORT</td>
<td></td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_WIEGAND_INPUT</td>
<td></td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_IN0</td>
<td></td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_IN1</td>
<td></td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_IN2</td>
<td></td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_FREESCAN</td>
<td></td>
</tr>
<tr>
<td></td>
<td>UF_LOG_SOURCE_SMARTCARD</td>
<td></td>
</tr>
<tr>
<td>Event ID</td>
<td>One of the UF_OUTPUT_EVENT</td>
<td>1 byte</td>
</tr>
<tr>
<td>Date</td>
<td>(DD &lt;&lt; 16) / (MM &lt;&lt; 8) / YY</td>
<td>3 bytes</td>
</tr>
<tr>
<td>Time</td>
<td>(ss &lt;&lt; 16) / (mm &lt;&lt; 8) / hh</td>
<td>3 bytes</td>
</tr>
<tr>
<td>User ID</td>
<td>User ID</td>
<td>4 bytes</td>
</tr>
<tr>
<td>Custom Field</td>
<td>Customizable by user</td>
<td>4 bytes</td>
</tr>
</tbody>
</table>
<p>In V1.6 firmware, there are two enhancements for logging functions. First, 4 byte custom field is added to log records. Making use of this field, users can add customized events to log records. Second, the log cache is added for real-time monitoring.</p>
<ul>
<li><code>UF_SetTime</code>: sets the time of the module.</li>
<li><code>UF_GetTime</code>: gets the time of the module.</li>
<li><code>UF_GetNumOfLog</code>: gets the number of log records.</li>
<li><code>UF_ReadLog</code>: reads log records.</li>
<li><code>UF_ReadLatestLog</code>: reads latest log records.</li>
<li><code>UF_DeleteOldestLog</code>: deletes oldest log records.</li>
<li><code>UF_DeleteAllLog</code>: deletes all the log records.</li>
<li><code>UF_ClearLogCache</code>: clears the log cache.</li>
<li><code>UF_ReadLogCache</code>: reads the log records in the cache.</li>
<li><code>UF_SetCustomLogField</code>: sets the custom field of log records.</li>
<li><code>UF_GetCustomLogField</code>: gets the custom field of log records.</li>
</ul>
<hr />
<h3 id="uf_settime">UF_SetTime<a class="headerlink" href="#uf_settime" title="Permanent link">&para;</a></h3>
<p>Sets the time of the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetTime</span><span class="p">(</span><span class="w"> </span><span class="kt">time_t</span><span class="w"> </span><span class="n">timeVal</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>timeVal</em></strong><br />
Number of seconds elapsed since midnight (00:00:00), January 1, 1970.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_gettime">UF_GetTime<a class="headerlink" href="#uf_gettime" title="Permanent link">&para;</a></h3>
<p>Gets the time of the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetTime</span><span class="p">(</span><span class="w"> </span><span class="kt">time_t</span><span class="o">*</span><span class="w"> </span><span class="n">timeVal</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>timeVal</em></strong><br />
Pointer to the time value to be returned by the module.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_getnumoflog">UF_GetNumOfLog<a class="headerlink" href="#uf_getnumoflog" title="Permanent link">&para;</a></h3>
<p>Retrieves the number of log records.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetNumOfLog</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfLog</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfTotalLog</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>numOfLog</em></strong><br />
Pointer to the number of log records to be returned.<br />
<strong><em>numOfTotalLog</em></strong><br />
Pointer to the maximum log records to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_readlog">UF_ReadLog<a class="headerlink" href="#uf_readlog" title="Permanent link">&para;</a></h3>
<p>Reads log records.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadLog</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">startIndex</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">UFLogRecord</span><span class="o">*</span><span class="w"> </span><span class="n">logRecord</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">readCount</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>startIndex</em></strong><br />
Start index of log records to be read.<br />
<strong><em>count</em></strong><br />
Number of log records to be read.<br />
<strong><em>logRecord</em></strong><br />
Pointer to the log records to be read.<br />
<strong><em>readCount</em></strong><br />
Pointer to the number of log records actually read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readlatestlog">UF_ReadLatestLog<a class="headerlink" href="#uf_readlatestlog" title="Permanent link">&para;</a></h3>
<p>Reads latest log records.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadLatestLog</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">UFLogRecord</span><span class="o">*</span><span class="w"> </span><span class="n">logRecord</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">readCount</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>count</em></strong><br />
Number of latest log records to be read.<br />
<strong><em>logRecord</em></strong><br />
Pointer to the log records to be read.<br />
<strong><em>readCount</em></strong><br />
Pointer to the number of log records actually read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteoldestlog">UF_DeleteOldestLog<a class="headerlink" href="#uf_deleteoldestlog" title="Permanent link">&para;</a></h3>
<p>Deletes oldest log records.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteOldestLog</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">deletedCount</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>count</em></strong><br />
Number of oldest log records to be deleted. It should be a multiple of 256.<br />
<strong><em>deletedCount</em></strong><br />
Pointer to the number of log records actually deleted.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deletealllog">UF_DeleteAllLog<a class="headerlink" href="#uf_deletealllog" title="Permanent link">&para;</a></h3>
<p>Deletes all the log records.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAllLog</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_clearlogcache">UF_ClearLogCache<a class="headerlink" href="#uf_clearlogcache" title="Permanent link">&para;</a></h3>
<p>Clears the log cache.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearLogCache</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readlogcache">UF_ReadLogCache<a class="headerlink" href="#uf_readlogcache" title="Permanent link">&para;</a></h3>
<p>Reads the log records in the cache. After reading, the cache will be cleared. The maximum number of log records in the cache is 256.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadLogCache</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dataPacketSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfLog</span><span class="p">,</span><span class="w"> </span><span class="n">UFLogRecord</span><span class="o">*</span><span class="w"> </span><span class="n">logRecord</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>dataPacketSize</em></strong><br />
Data packet size used in Extended Data Transfer protocol.<br />
<strong><em>numOfLog</em></strong><br />
Pointer to the number of log records to be returned.<br />
<strong><em>logRecord</em></strong><br />
Pointer to the log records to be returned. This pointer should be preallocated large enough to store the log records.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setcustomlogfield">UF_SetCustomLogField<a class="headerlink" href="#uf_setcustomlogfield" title="Permanent link">&para;</a></h3>
<p>There is a 4 byte reserved field in each log record. This function is used for setting this custom value. If the custom field is not set, it will be filled with NULL.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetCustomLogField</span><span class="p">(</span><span class="w"> </span><span class="n">UF_LOG_SOURCE</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">customField</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>source</em></strong><br />
Users can set 4 different custom values according to the source of log records.  </p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_LOG_SOURCE_OTHER</td>
<td>If the log is generated by Packet Protocol commands or freescan, this value will be used.</td>
</tr>
<tr>
<td>UF_LOG_SOURCE_IN0   <br> UF_LOG_SOURCE_IN1   <br> UF_LOG_SOURCE_IN2</td>
<td>If the log is generated by an Input port, the respective values will be used.</td>
</tr>
</tbody>
</table>
<p><strong><em>customField</em></strong><br />
4 byte custom value.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getcustomlogfield">UF_GetCustomLogField<a class="headerlink" href="#uf_getcustomlogfield" title="Permanent link">&para;</a></h3>
<p>Reads the custom value of the specified log source.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetCustomLogField</span><span class="p">(</span><span class="w"> </span><span class="n">UF_LOG_SOURCE</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="o">*</span><span class="w"> </span><span class="n">customField</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong>  <br />
<strong><em>source</em></strong><br />
Log source.<br />
<strong><em>customField</em></strong><br />
Pointer to the 4 byte custom value to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="318-extended-wiegand-api">3.18. Extended Wiegand API<a class="headerlink" href="#318-extended-wiegand-api" title="Permanent link">&para;</a></h2>
<p>Extended Wiegand Interface supports up to 64 bit Wiegand formats. The only constraint is that the ID field is limited to 32 bits. It also supports advanced options such as Fail ID and Inverse Parity on Fail.</p>
<ul>
<li><code>UF_SetWiegandFormat</code>: configures the Wiegand format.</li>
<li><code>UF_GetWiegandFormat</code>: gets the Wiegand format information.</li>
<li><code>UF_SetWiegandIO</code>: configures the Wiegand IO ports.</li>
<li><code>UF_GetWiegandIO</code>: gets the configurations of the Wiegand IO ports.</li>
<li><code>UF_SetWiegandOption</code>: sets the advanced options.</li>
<li><code>UF_GetWiegandOption</code>: gets the advanced options.</li>
<li><code>UF_SetAltValue</code>: sets the alternative value of a field.</li>
<li><code>UF_ClearAltValue</code>: clears the alternative value of a field.</li>
<li><code>UF_GetAltValue</code>: gets the alternative value of a field.</li>
<li><code>UF_MakeWiegandConfiguration</code>: makes Wiegand configuration data to be saved into a file.</li>
</ul>
<hr />
<h3 id="uf_setwiegandformat">UF_SetWiegandFormat<a class="headerlink" href="#uf_setwiegandformat" title="Permanent link">&para;</a></h3>
<p>Configures the Wiegand format.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetWiegandFormat</span><span class="p">(</span><span class="w"> </span><span class="n">UFWiegandFormatHeader</span><span class="o">*</span><span class="w"> </span><span class="n">header</span><span class="p">,</span><span class="w"> </span><span class="n">UFWiegandFormatData</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pulseWidth</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">pulseInterval</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>header</em></strong><br />
UFWiegandFormatHeader is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UF_WIEGAND_FORMAT</span><span class="w"> </span><span class="n">format</span><span class="p">;</span><span class="w"> </span><span class="c1">// UF_WIEGAND_26BIT,</span>
<span class="w">                            </span><span class="c1">// UF_WIEGAND_PASS_THRU,</span>
<span class="w">                            </span><span class="c1">// UF_WIEGAND_CUSTOM</span>
<span class="w">    </span><span class="kt">int</span><span class="w">             </span><span class="n">totalBits</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFWiegandFormatHeader</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong><em>data</em></strong><br />
Wiegand format data. If the format is UF_WIEGAND_26BIT, there is no format data and this parameter will be ignored. UFWiegandFormatData is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w">                </span><span class="n">numOfIDField</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UFWiegandField</span><span class="w">     </span><span class="n">field</span><span class="p">[</span><span class="n">MAX_WIEGAND_FIELD</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFWiegandPassThruData</span><span class="p">;</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w">                </span><span class="n">numOfField</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w">             </span><span class="n">idFieldMask</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UFWiegandField</span><span class="w">     </span><span class="n">field</span><span class="p">[</span><span class="n">MAX_WIEGAND_FIELD</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w">                </span><span class="n">numOfParity</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UFWiegandParity</span><span class="w">    </span><span class="n">parity</span><span class="p">[</span><span class="n">MAX_WIEGAND_PARITY</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFWiegandCustomData</span><span class="p">;</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="k">union</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UFWiegandPassThruData</span><span class="w">   </span><span class="n">passThruData</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UFWiegandCustomData</span><span class="w">     </span><span class="n">customData</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFWiegandFormatData</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong><em>pulseWidth</em></strong><br />
Specifies the width of Wiegand signal.<br />
<strong><em>pulseInterval</em></strong><br />
Specifies the interval of Wiegand signal.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getwiegandformat">UF_GetWiegandFormat<a class="headerlink" href="#uf_getwiegandformat" title="Permanent link">&para;</a></h3>
<p>Gets the Wiegand format data.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetWiegandFormat</span><span class="p">(</span><span class="w"> </span><span class="n">UFWiegandFormatHeader</span><span class="o">*</span><span class="w"> </span><span class="n">header</span><span class="p">,</span><span class="w"> </span><span class="n">UFWiegandFormatData</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">pulseWidth</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">pulseInterval</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>header</em></strong><br />
Pointer to the format header to be returned.<br />
<strong><em>data</em></strong><br />
Pointer to the format data to be returned.<br />
<strong><em>pulseWidth</em></strong><br />
Pointer to the width of Wiegand signal.<br />
<strong><em>pulseInterval</em></strong><br />
Pointer to the interval of Wiegand signal.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setwiegandio">UF_SetWiegandIO<a class="headerlink" href="#uf_setwiegandio" title="Permanent link">&para;</a></h3>
<p>Configures the Wiegand IO ports.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetWiegandIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_WIEGAND_INPUT_MODE</span><span class="w"> </span><span class="n">inputMode</span><span class="p">,</span><span class="w"> </span><span class="n">UF_WIEGAND_OUTPUT_MODE</span><span class="w"> </span><span class="n">outputMode</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfChar</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>inputMode</em></strong>   </p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_WIEGAND_INPUT_DISABLE</td>
<td>Ignores Wiegand inputs.</td>
</tr>
<tr>
<td>UF_WIEGAND_INPUT_VERIFY</td>
<td>Starts verification after receiving Wiegand inputs.</td>
</tr>
</tbody>
</table>
<p><strong><em>outputMode</em></strong>   </p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_WIEGAND_OUTPUT_DISABLE</td>
<td>Disables Wiegand output.</td>
</tr>
<tr>
<td>UF_WIEGAND_OUTPUT_WIEGAND_ONLY</td>
<td>Outputs Wiegand signal only if the verification is initiated by Wiegand input.</td>
</tr>
<tr>
<td>UF_WIEGAND_OUTPUT_ALL</td>
<td>Outputs Wiegand signal if matching succeeds.</td>
</tr>
<tr>
<td>UF_WIEGAND_OUTPUT_ABA_TRACK_II</td>
<td>Outputs ABA Track II characters instead of Wiegand signal.</td>
</tr>
</tbody>
</table>
<p><strong><em>numOfChar</em></strong><br />
Number of characters in ABA Track II output format. It is ignored if outputMode is not <code>UF_WIEGAND_OUTPUT_ABA_TRACK_II</code>.</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getwiegandio">UF_GetWiegandIO<a class="headerlink" href="#uf_getwiegandio" title="Permanent link">&para;</a></h3>
<p>Gets the configurations of Wiegand IO ports.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetWiegandIO</span><span class="p">(</span><span class="w"> </span><span class="n">UF_WIEGAND_INPUT_MODE</span><span class="o">*</span><span class="w"> </span><span class="n">inputMode</span><span class="p">,</span><span class="w"> </span><span class="n">UF_WIEGAND_OUTPUT_MODE</span><span class="o">*</span><span class="w"> </span><span class="n">outputMode</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfChar</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>inputMode</em></strong><br />
Pointer to Wiegand input mode to be returned.<br />
<strong><em>outputMode</em></strong><br />
Pointer to Wiegand output mode to be returned.<br />
<strong><em>numOfChar</em></strong><br />
Pointer to the number of characters in ABA Track II output format. It is ignored if outputMode is not <code>UF_WIEGAND_OUTPUT_ABA_TRACK_II</code>.</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setwiegandoption">UF_SetWiegandOption<a class="headerlink" href="#uf_setwiegandoption" title="Permanent link">&para;</a></h3>
<p>Sets advanced options.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetWiegandOption</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">useFailID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">failID</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">inverseParityOnFail</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>useFailID</em></strong><br />
Normally the module outputs Wiegand signal only if matching succeeds. If this option is TRUE, the module outputs the fail ID when matching fails.<br />
<strong><em>failID</em></strong><br />
ID to be output if useFailID is <code>TRUE</code>.<br />
<strong><em>inverseParityOnFail</em></strong><br />
If this option is <code>TRUE</code>, the module outputs Wiegand signals with inverted parities when matching fails.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getwiegandoption">UF_GetWiegandOption<a class="headerlink" href="#uf_getwiegandoption" title="Permanent link">&para;</a></h3>
<p>Gets the advanced options.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetWiegandOption</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">useFailID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">failID</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">inverseParityOnFail</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userFailID</em></strong><br />
Pointer to the useFailID option to be returned.<br />
<strong><em>failID</em></strong><br />
Pointer to the fail ID to be returned.<br />
<strong><em>inverseParityOnFail</em></strong><br />
Pointer to the inverseParityOnFail option to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setaltvalue">UF_SetAltValue<a class="headerlink" href="#uf_setaltvalue" title="Permanent link">&para;</a></h3>
<p>If the Wiegand format is UF_WIEGAND_26BIT or UF_WIEGAND_CUSTOM, users can set alternative values for non-ID fields. If an alternative value is set for a non-ID field, the module will replace the field with the alternative value before outputting the signal.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetAltValue</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fieldIndex</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fieldIndex</em></strong><br />
Index of the field.<br />
<strong><em>value</em></strong><br />
Alternative value of the field.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_clearaltvalue">UF_ClearAltValue<a class="headerlink" href="#uf_clearaltvalue" title="Permanent link">&para;</a></h3>
<p>Clears the alternative value of a field.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearAltValue</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fieldIndex</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fieldIndex</em></strong><br />
Index of the field.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getaltvalue">UF_GetAltValue<a class="headerlink" href="#uf_getaltvalue" title="Permanent link">&para;</a></h3>
<p>Gets the alternative value of a field.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetAltValue</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">fieldIndex</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>fieldIndex</em></strong><br />
Index of the field.<br />
<strong><em>value</em></strong><br />
Alternative value of the field to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. If alternative value is not set to the field, return <code>UF_ERR_NOT_FOUND</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_makewiegandconfiguration">UF_MakeWiegandConfiguration<a class="headerlink" href="#uf_makewiegandconfiguration" title="Permanent link">&para;</a></h3>
<p>Makes Wiegand configuration data to be saved into a file.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_MakeWiegandConfiguration</span><span class="p">(</span><span class="w"> </span><span class="n">UFConfigComponentHeader</span><span class="o">*</span><span class="w"> </span><span class="n">configHeader</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">configData</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>configHeader</em></strong><br />
Pointer to the configuration header to be returned.<br />
<strong><em>configData</em></strong><br />
Pointer to the configuration data to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
<p><strong>Example</strong><br />
See CUniFingerUIWiegandView::OnWiegandSaveFile in UniFingerUI source codes.</p>
</div>
<hr />
<h2 id="319-wiegand-command-card-api">3.19. Wiegand Command Card API<a class="headerlink" href="#319-wiegand-command-card-api" title="Permanent link">&para;</a></h2>
<p>Users can map an input function to a Wiegand ID. When the module detects the mapped IDs in Wiegand input port, it will execute the corresponding input function.</p>
<ul>
<li><code>UF_AddWiegandCommandCard</code>: adds a mapping of input function to the specified ID.</li>
<li><code>UF_GetWiegandCommandCardList</code>: gets all the mapping data.</li>
<li><code>UF_ClearAllWiegandCommandCard</code>: clears all the mappings.</li>
</ul>
<hr />
<h3 id="uf_addwiegandcommandcard">UF_AddWiegandCommandCard<a class="headerlink" href="#uf_addwiegandcommandcard" title="Permanent link">&para;</a></h3>
<p>Maps the input function to the specified ID.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_AddWiegandCommandCard</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_INPUT_FUNC</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>function</em></strong><br />
Among the input functions, the followings can be assigned to command cards.  </p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_INPUT_ENROLL</td>
<td>Enroll</td>
</tr>
<tr>
<td>UF_INPUT_IDENTIFY</td>
<td>Identify</td>
</tr>
<tr>
<td>UF_INPUT_DELETE</td>
<td>Delete</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_ALL</td>
<td>Delete all</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL_BY_WIEGAND</td>
<td>Enroll by Wiegand ID</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_BY_WIEGAND</td>
<td>Delete by Wiegand ID</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL_VERIFICATION</td>
<td>Enroll after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_ENROLL_BY_WIEGAND_VERIFICATION</td>
<td>Enroll by Wiegand ID after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_VERIFICATION</td>
<td>Delete after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_BY_WIEGAND_VERIFICATION</td>
<td>Delete by Wiegand ID after administrators verification</td>
</tr>
<tr>
<td>UF_INPUT_DELETE_ALL_VERIFICATION</td>
<td>Delete all after administrators verification</td>
</tr>
</tbody>
</table>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="uf_getwiegandcommandcardlist">UF_GetWiegandCommandCardList<a class="headerlink" href="#uf_getwiegandcommandcardlist" title="Permanent link">&para;</a></h2>
<p>Gets the list of all the command cards.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetWiegandCommandCardList</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfCard</span><span class="p">,</span><span class="w"> </span><span class="n">UFWiegandCommandCard</span><span class="o">*</span><span class="w"> </span><span class="n">commandCard</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>numOfCard</em></strong><br />
Number of command cards to be returned.<br />
<strong><em>commandCard</em></strong><br />
Array of command card information to be returned. UFWiegandCommandCard is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w">          </span><span class="n">userID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UF_INPUT_FUNC</span><span class="w">   </span><span class="n">function</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFWiegandCommandCard</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<h4 id="uf_clearallwiegandcommandcard">UF_ClearAllWiegandCommandCard<a class="headerlink" href="#uf_clearallwiegandcommandcard" title="Permanent link">&para;</a></h4>
<p>Clears all the command card mappings.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ClearAllWiegandCommandCard</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="320-smartcard-api">3.20. SmartCard API<a class="headerlink" href="#320-smartcard-api" title="Permanent link">&para;</a></h2>
<p>BioEntry Smart readers support MIFARE types of smartcards. These functions provide basic functionalities such as read, write, and format smartcards.</p>
<ul>
<li><code>UF_ReadSmartCard</code>: reads a smartcard.</li>
<li><code>UF_ReadSmartCardWithAG</code>: reads a smartcard with access group information.</li>
<li><code>UF_WriteSmartCard</code>: writes templates into a smartcard.</li>
<li><code>UF_WriteSmartCardWithAG</code>: writes templates and access group information into a smartcard.</li>
<li><code>UF_WriteSmartCardWithEntranceLimit</code>: writes templates, access group information, and entrance limit into a smartcard.</li>
<li><code>UF_FormatSmartCard</code>: formats a smartcard.</li>
<li><code>UF_SetSmartCardMode</code>: sets the operation mode.</li>
<li><code>UF_GetSmartCardMode</code>: gets the operation mode.</li>
<li><code>UF_ChangePrimaryKey</code>: changes the primary key.</li>
<li><code>UF_ChangeSecondaryKey</code>: changes the secondary key.</li>
<li><code>UF_SetKeyOption</code>: sets the site key options.</li>
<li><code>UF_GetKeyOption</code>: gets the site key options.</li>
<li><code>UF_SetCardLayout</code>: sets the layout of smartcard.</li>
<li><code>UF_GetCardLayout</code>: gets the layout of smartcard.</li>
<li><code>UF_SetSmartCardCallback</code>: sets the callback function for smartcard operation.</li>
</ul>
<hr />
<h3 id="uf_readsmartcard">UF_ReadSmartCard<a class="headerlink" href="#uf_readsmartcard" title="Permanent link">&para;</a></h3>
<p>Reads a smart card.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadSmartCard</span><span class="p">(</span><span class="w"> </span><span class="n">UFCardHeader</span><span class="o">*</span><span class="w"> </span><span class="n">header</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template1</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template2</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>header</em></strong><br />
<code>UFCardHeader</code> is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">csn</span><span class="p">;</span><span class="w"> </span><span class="c1">// 4 byte card serial number</span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">wiegandLower</span><span class="p">;</span><span class="w"> </span><span class="c1">// lower 4 bytes of Wiegand string</span>
<span class="w">    </span><span class="n">UINT32</span><span class="w"> </span><span class="n">wiegandHigher</span><span class="p">;</span><span class="c1">// higher 4 bytes of Wiegand string</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">version</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">commandType</span><span class="p">;</span><span class="w"> </span><span class="c1">// reserved for command cards. In V1.7 or</span>
<span class="w">                </span><span class="c1">// later firmware, this field is used for</span>
<span class="w">                </span><span class="c1">// storing entrance limit for non-command cards.</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">securityLevel</span><span class="p">;</span><span class="w"> </span><span class="c1">// security level of the user</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">;</span><span class="w"> </span><span class="c1">// number of templates stored</span>
<span class="w">                        </span><span class="c1">// in the card</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">template1Duress</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1 if the template1 is</span>
<span class="w">                        </span><span class="c1">// of duress finger</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">template1Length</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"> </span><span class="c1">// length of template1</span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">template2Duress</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w"> </span><span class="n">template2Length</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFCardHeader</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong><em>template1</em></strong><br />
Pointer to the first template data read from the smartcard.<br />
<strong><em>template2</em></strong><br />
Pointer to the second template data read from the smartcard.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readsmartcardwithag">UF_ReadSmartCardWithAG<a class="headerlink" href="#uf_readsmartcardwithag" title="Permanent link">&para;</a></h3>
<p>Reads a smart card with access group information. As for access group, see <code>UF_AddAccessGroup</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadSmartCardWithAG</span><span class="p">(</span><span class="w"> </span><span class="n">UFCardHeader</span><span class="o">*</span><span class="w"> </span><span class="n">header</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template1</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfAccessGroup</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">accessGroup</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>header</em></strong><br />
Pointer to the UFCardHeader to be returned.<br />
<strong><em>template1</em></strong><br />
Pointer to the first template data read from the smartcard.<br />
<strong><em>template2</em></strong><br />
Pointer to the second template data read from the smartcard.<br />
<strong><em>numOfAccessGroup</em></strong><br />
Pointer to the number of access groups assigned to the smartcard.<br />
<strong><em>accessGroup</em></strong><br />
Pointer to the IDs of access groups assigned to the smartcard. The length of each ID is 1 byte.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_writesmartcard">UF_WriteSmartCard<a class="headerlink" href="#uf_writesmartcard" title="Permanent link">&para;</a></h3>
<p>Writes template data and header information into a smartcard.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_WriteSmartCard</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_CARD_SECURITY_LEVEL</span><span class="w"> </span><span class="n">securityLevel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template1</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">duress1</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template2</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">duress2</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>securityLevel</em></strong><br />
Security level. If it is set to <code>UF_SECURITY_READER_DEFAULT</code>, the security level is same as defined in the BioEntry reader. If it is set to <code>UF_SECURITY_BYPASS</code>, the BioEntry reader will bypass the fingerprint authentication.<br />
<strong><em>numOfTemplate</em></strong><br />
Number of templates to be written.<br />
<strong><em>templateSize</em></strong><br />
Size of a template.<br />
<strong><em>template1</em></strong><br />
Pointer to the first template data.<br />
<strong><em>duress1</em></strong><br />
Specifies if the first template is of a duress finger.<br />
<strong><em>template2</em></strong><br />
Pointer to the second template data.<br />
<strong><em>duress2</em></strong><br />
Specifies if the second template is of a duress finger.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_writesmartcardwithag">UF_WriteSmartCardWithAG<a class="headerlink" href="#uf_writesmartcardwithag" title="Permanent link">&para;</a></h3>
<p>Writes template data and access group information into a smartcard.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_WriteSmartCardWithAG</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_CARD_SECURITY_LEVEL</span><span class="w"> </span><span class="n">securityLevel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template1</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">duress1</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template2</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">duress2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfAccessGroup</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">accessGroup</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>securityLevel</em></strong><br />
Security level. If it is set to <code>UF_SECURITY_READER_DEFAULT</code>, the security level is same as defined in the BioEntry reader. If it is set to <code>UF_SECURITY_BYPASS</code>, the BioEntry reader will bypass the fingerprint authentication.<br />
<strong><em>numOfTemplate</em></strong><br />
Number of templates to be written.<br />
<strong><em>templateSize</em></strong><br />
Size of a template.<br />
<strong><em>template1</em></strong><br />
Pointer to the first template data.<br />
<strong><em>duress1</em></strong><br />
Specifies if the first template is of a duress finger.<br />
<strong><em>template2</em></strong><br />
Pointer to the second template data.<br />
<strong><em>duress2</em></strong><br />
Specifies if the second template is of a duress finger.<br />
<strong><em>numOfAccessGroup</em></strong><br />
Number of access groups assigned to the smartcard.<br />
<strong><em>accessGroup</em></strong><br />
Pointer to the IDs of access group to be written.  </p>
<p><strong>Return Values</strong>
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_writesmartcardwithentrancelimit">UF_WriteSmartCardWithEntranceLimit<a class="headerlink" href="#uf_writesmartcardwithentrancelimit" title="Permanent link">&para;</a></h3>
<p>Writes template data, access group, and entrance limit information into a smartcard.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_WriteSmartCardWithEntranceLimit</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="n">UF_CARD_SECURITY_LEVEL</span><span class="w"> </span><span class="n">securityLevel</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">entranceLimit</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfTemplate</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">templateSize</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template1</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">duress1</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">template2</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">duress2</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfAccessGroup</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">accessGroup</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>securityLevel</em></strong><br />
Security level. If it is set to <code>UF_SECURITY_READER_DEFAULT</code>, the security level is same as defined in the BioEntry reader. If it is set to <code>UF_SECURITY_BYPASS</code>, the BioEntry reader will bypass the fingerprint authentication.
<strong><em>entranceLimit</em></strong><br />
Entrance limit between 0 and 7.<br />
<strong><em>numOfTemplate</em></strong><br />
Number of templates to be written.<br />
<strong><em>templateSize</em></strong><br />
Size of a template.<br />
<strong><em>template1</em></strong><br />
Pointer to the first template data.<br />
<strong><em>duress1</em></strong><br />
Specifies if the first template is of a duress finger.<br />
<strong><em>template2</em></strong><br />
Pointer to the second template data.<br />
<strong><em>duress2</em></strong><br />
Specifies if the second template is of a duress finger.<br />
<strong><em>numOfAccessGroup</em></strong><br />
Number of access groups assigned to the smartcard.<br />
<strong><em>accessGroup</em></strong><br />
Pointer to the IDs of access group to be written.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_formatsmartcard">UF_FormatSmartCard<a class="headerlink" href="#uf_formatsmartcard" title="Permanent link">&para;</a></h3>
<p>Formats a smartcard.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_FormatSmartCard</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">templateOnly</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>templateOnly</em></strong><br />
If <code>TRUE</code>, erases only the template area and dont change the header<br />
information. If <code>FALSE</code>, erase the header information, too.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setsmartcardmode">UF_SetSmartCardMode<a class="headerlink" href="#uf_setsmartcardmode" title="Permanent link">&para;</a></h3>
<p>Sets the operation mode of the BioEntry Smart reader.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetSmartCardMode</span><span class="p">(</span><span class="w"> </span><span class="n">UF_CARD_MODE</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>mode</em></strong><br />
Operation mode.  </p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>UF_CARD_DISABLE</td>
<td>Disables the smartcard operation.</td>
</tr>
<tr>
<td>UF_CARD_VERIFY_ID</td>
<td>After detecting a smartcard, verifies the fingerprint input with the templates stored in the BioEntry reader.</td>
</tr>
<tr>
<td>UF_CARD_VERIFY_TEMPLATE</td>
<td>After detecting a smartcard, verifies the fingerprint input with the templates stored in the card.</td>
</tr>
</tbody>
</table>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getsmartcardmode">UF_GetSmartCardMode<a class="headerlink" href="#uf_getsmartcardmode" title="Permanent link">&para;</a></h3>
<p>Gets the operation mode.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetSmartCardMode</span><span class="p">(</span><span class="w"> </span><span class="n">UF_CARD_MODE</span><span class="o">*</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>mode</em></strong><br />
Pointer to the operation mode to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_changeprimarykey">UF_ChangePrimaryKey<a class="headerlink" href="#uf_changeprimarykey" title="Permanent link">&para;</a></h3>
<p>To prevent illegal access, MIFARE card is encrypted using 48bit site key. The site key should be handled with utmost caution. If it is disclosed, the data on the smartcard will not be secure any more. <code>UF_ChangePrimaryKey</code> is used to change the primary site key.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ChangePrimaryKey</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">oldPrimaryKey</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">newPrimaryKey</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>oldPrimaryKey</em></strong><br />
Pointer to the old site key.<br />
<strong><em>newPrimaryKey</em></strong><br />
Pointer to the new site key.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_changesecondarykey">UF_ChangeSecondaryKey<a class="headerlink" href="#uf_changesecondarykey" title="Permanent link">&para;</a></h3>
<p>Changes the secondary site key. The secondary site key is used only when the useSecondaryKey option is set by <code>UF_SetKeyOption</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ChangeSecondaryKey</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">primaryKey</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">newSecondaryKey</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>primaryKey</em></strong><br />
Pointer to the primary key.<br />
<strong><em>newSecondaryKey</em></strong><br />
Pointer to the new secondary key.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_changesecondarykey_1">UF_ChangeSecondaryKey<a class="headerlink" href="#uf_changesecondarykey_1" title="Permanent link">&para;</a></h3>
<p>Changes the secondary site key. The secondary site key is used only when the useSecondaryKey option is set by <code>UF_SetKeyOption</code>.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ChangeSecondaryKey</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">primaryKey</span><span class="p">,</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">newSecondaryKey</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>primaryKey</em></strong><br />
Pointer to the primary key.<br />
<strong><em>newSecondaryKey</em></strong><br />
Pointer to the new secondary key.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setkeyoption">UF_SetKeyOption<a class="headerlink" href="#uf_setkeyoption" title="Permanent link">&para;</a></h3>
<p>When changing the site key, BioEntry readers have to handle cards with new site key and cards with old site key at the same time. In that case, useSecondaryKey option can be used. If the secondary key is set to old site key, the reader will handle both types of cards. If autoUpdate option is on, the reader automatically replaces the old site key with new one whenever detecting a smartcard with old key.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetKeyOption</span><span class="p">(</span><span class="w"> </span><span class="n">BYTE</span><span class="o">*</span><span class="w"> </span><span class="n">primaryKey</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">useSecondaryKey</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="w"> </span><span class="n">autoUpdate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>primaryKey</em></strong><br />
Pointer to the primary key.<br />
<strong><em>useSecondaryKey</em></strong><br />
If TRUE, process the cards encrypted with the secondary key.<br />
<strong><em>autoUpdate</em></strong><br />
If TRUE, replace the secondary key with primary key when detecting a smartcard encrypted with the secondary key.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getkeyoption">UF_GetKeyOption<a class="headerlink" href="#uf_getkeyoption" title="Permanent link">&para;</a></h3>
<p>Gets the site key options.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetKeyOption</span><span class="p">(</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">useSecondaryKey</span><span class="p">,</span><span class="w"> </span><span class="n">BOOL</span><span class="o">*</span><span class="w"> </span><span class="n">autoUpdate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>useSecondaryKey</em></strong><br />
Pointer to userSecondaryKey option.<br />
<strong><em>autoUpdate</em></strong><br />
Pointer to autoUpdate option.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_setcardlayout">UF_SetCardLayout<a class="headerlink" href="#uf_setcardlayout" title="Permanent link">&para;</a></h3>
<p>Changes the layout of the smartcard. By default, a smartcard stores two fingerprint templates. If there are not sufficient spaces on the card, or some blocks of it are reserved for other data, users can change the layout using this function. Changing card layout should be handled with utmost caution. If you arent sure what to do, contact to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#115;&#117;&#112;&#114;&#101;&#109;&#97;&#105;&#110;&#99;&#46;&#99;&#111;&#109;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#115;&#117;&#112;&#114;&#101;&#109;&#97;&#105;&#110;&#99;&#46;&#99;&#111;&#109;</a> first before trying yourself.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetCardLayout</span><span class="p">(</span><span class="w"> </span><span class="n">UFCardLayout</span><span class="o">*</span><span class="w"> </span><span class="n">layout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>layout</em></strong><br />
Pointer to the layout information. <code>UFCardLayout</code> is defined as follows;  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w">    </span><span class="n">templateSize</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w">              </span><span class="n">headerBlock</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w">              </span><span class="n">template1StartBlock</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w">              </span><span class="n">template1BlockSize</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w">              </span><span class="n">template2StartBlock</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">BYTE</span><span class="w">              </span><span class="n">template2BlockSize</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFCardLayout</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getcardlayout">UF_GetCardLayout<a class="headerlink" href="#uf_getcardlayout" title="Permanent link">&para;</a></h3>
<p>Gets the card layout information.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetCardLayout</span><span class="p">(</span><span class="w"> </span><span class="n">UFCardLayout</span><span class="o">*</span><span class="w"> </span><span class="n">layout</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>layout</em></strong><br />
Pointer to <code>UFCardLayout</code>.</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setsmartcardcallback">UF_SetSmartCardCallback<a class="headerlink" href="#uf_setsmartcardcallback" title="Permanent link">&para;</a></h3>
<p>Sets the callback function for smartcard operation. This callback is called after scanning a smartcard successfully.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">UF_SetSmartCardCallback</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="w"> </span><span class="n">BYTE</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>callback</em></strong><br />
Pointer to the callback function.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="321-access-control-api">3.21. Access Control API<a class="headerlink" href="#321-access-control-api" title="Permanent link">&para;</a></h2>
<p>Since V1.6 firmware, BioEntry readers provide access control features such as time schedule and access group. By using these functions, users access can be controlled in finer detail.</p>
<ul>
<li><code>UF_AddTimeSchedule</code>: adds a time schedule.</li>
<li><code>UF_GetTimeSchedule</code>: reads the specified time schedule.</li>
<li><code>UF_DeleteTimeSchedule</code>: deletes a time schedule.</li>
<li><code>UF_DeleteAllTimeSchedule</code>: deletes all time schedules.</li>
<li><code>UF_AddHoliday</code>: adds a holiday schedule.</li>
<li><code>UF_GetHoliday</code>: reads the specified holiday schedule.</li>
<li><code>UF_DeleteHoliday</code>: deletes a holiday schedule.</li>
<li><code>UF_DeleteAllHoliday</code>: deletes all holiday schedules.</li>
<li><code>UF_AddAccessGroup</code>: adds an access group.</li>
<li><code>UF_GetAccessGroup</code>: reads the specified access group.</li>
<li><code>UF_DeleteAccessGroup</code>: deletes an access group.</li>
<li><code>UF_DeleteAllAccessGroup</code>: deletes all access groups.</li>
<li><code>UF_SetUserAccessGroup</code>: assigns access groups to a user.</li>
<li><code>UF_GetUserAccessGroup</code>: gets the access groups of a user.</li>
</ul>
<hr />
<h3 id="uf_addtimeschedule">UF_AddTimeSchedule<a class="headerlink" href="#uf_addtimeschedule" title="Permanent link">&para;</a></h3>
<p>A BioEntry reader can store up to 64 time schedules. Each time schedule consists of 7 daily schedules and an optional holiday schedule. And each daily schedule may have up to 5 time segments.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#define UF_TIMECODE_PER_DAY       5</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">startTime</span><span class="p">;</span><span class="w"> </span><span class="c1">// start time in minutes</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">endTime</span><span class="p">;</span><span class="w"> </span><span class="c1">// end time in minutes</span>
<span class="p">}</span><span class="w"> </span><span class="n">UFTimeCodeElem</span><span class="p">;</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">UFTimeCodeElem</span><span class="w"> </span><span class="n">codeElement</span><span class="p">[</span><span class="n">UF_TIMECODE_PER_DAY</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFTimeCode</span><span class="p">;</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">scheduleID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">UFTimeCode</span><span class="w"> </span><span class="n">timeCode</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span><span class="w"> </span><span class="c1">// 0 - Sunday, 1 - Monday, ...</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">holidayID</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFTimeSchedule</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_AddTimeSchedule</span><span class="p">(</span><span class="w"> </span><span class="n">UFTimeSchedule</span><span class="o">*</span><span class="w"> </span><span class="n">schedule</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>schedule</em></strong><br />
Pointer to the time schedule to be added.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="n">UFTimeSchedule</span><span class="w"> </span><span class="n">timeSchedule</span><span class="p">;</span><span class="w"></span>

<span class="n">memset</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">timeSchedule</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">UFTimeSchedule</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// clear the structure</span>

<span class="n">timeSchedule</span><span class="p">.</span><span class="n">scheduleID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">holidayID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Monday- 09:00 ~ 18:00</span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">timeCode</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">timeCode</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">endTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Tuesday- 08:00 ~ 12:00 and 14:30 ~ 20:00</span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">timeCode</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">timeCode</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">endTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">timeCode</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w"></span>
<span class="n">timeSchedule</span><span class="p">.</span><span class="n">timeCode</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">endTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>

<span class="c1">// </span>

<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_AddTimeSchedule</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">timeSchedule</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_gettimeschedule">UF_GetTimeSchedule<a class="headerlink" href="#uf_gettimeschedule" title="Permanent link">&para;</a></h3>
<p>Reads the specified time schedule.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetTimeSchedule</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">UFTimeSchedule</span><span class="o">*</span><span class="w"> </span><span class="n">schedule</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>ID</em></strong><br />
ID of the time schedule.<br />
<strong><em>schedule</em></strong><br />
Pointer to the time schedule to be read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deletetimeschedule">UF_DeleteTimeSchedule<a class="headerlink" href="#uf_deletetimeschedule" title="Permanent link">&para;</a></h3>
<p>Deletes the specified time schedule.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteTimeSchedule</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>ID</em></strong><br />
ID of the time schedule.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deletealltimeschedule">UF_DeleteAllTimeSchedule<a class="headerlink" href="#uf_deletealltimeschedule" title="Permanent link">&para;</a></h3>
<p>Deletes all the time schedules stored in a BioEntry reader.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAllTimeSchedule</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None</p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_addholiday">UF_AddHoliday<a class="headerlink" href="#uf_addholiday" title="Permanent link">&para;</a></h3>
<p>Each time schedule may have an optional holiday schedule. A holiday schedule consists of a holiday list and a daily schedule for it.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">holidayID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfHoliday</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">holiday</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span><span class="w"> </span><span class="c1">// (month &lt;&lt; 8) | day</span>
<span class="w">    </span><span class="n">UFTimeCode</span><span class="w"> </span><span class="n">timeCode</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFHoliday</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_AddHoliday</span><span class="p">(</span><span class="w"> </span><span class="n">UFHoliday</span><span class="o">*</span><span class="w"> </span><span class="n">holiday</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>holiday</em></strong><br />
Pointer to the holiday schedule to be added.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
<p><strong>Example</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="n">UFHoliday</span><span class="w"> </span><span class="n">holiday</span><span class="p">;</span><span class="w"></span>

<span class="n">memset</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">holiday</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">UFHoliday</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// clear the structure</span>

<span class="n">holiday</span><span class="p">.</span><span class="n">holidayID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="n">holiday</span><span class="p">.</span><span class="n">numOfHoliday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Jan. 1 is holiday</span>
<span class="n">holiday</span><span class="p">.</span><span class="n">holiday</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Mar. 5 is holiday</span>
<span class="n">holiday</span><span class="p">.</span><span class="n">holiday</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"></span>

<span class="c1">// </span>

<span class="c1">// Access is granted during 09:00 ~ 10:00 on holideys</span>
<span class="n">holiday</span><span class="p">.</span><span class="n">timeCode</span><span class="p">.</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">startTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>
<span class="n">holiday</span><span class="p">.</span><span class="n">timeCode</span><span class="p">.</span><span class="n">codeElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">endTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span><span class="w"></span>
<span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UF_AddHoliday</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">holiday</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</code></pre></div>
</div>
<hr />
<h3 id="uf_getholiday">UF_GetHoliday<a class="headerlink" href="#uf_getholiday" title="Permanent link">&para;</a></h3>
<p>Reads the specified holiday schedule.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetHoliday</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">UFHoliday</span><span class="o">*</span><span class="w"> </span><span class="n">holiday</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>ID</em></strong><br />
ID of the holiday schedule.<br />
<strong><em>holiday</em></strong><br />
Pointer to the holiday schedule to be read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteholiday">UF_DeleteHoliday<a class="headerlink" href="#uf_deleteholiday" title="Permanent link">&para;</a></h3>
<p>Deletes the specified holiday schedule.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteHoliday</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>ID</em></strong><br />
ID of the holiday schedule.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteallholiday">UF_DeleteAllHoliday<a class="headerlink" href="#uf_deleteallholiday" title="Permanent link">&para;</a></h3>
<p>Deletes all the holiday schedules stored in a BioEntry reader.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAllHoliday</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_addaccessgroup">UF_AddAccessGroup<a class="headerlink" href="#uf_addaccessgroup" title="Permanent link">&para;</a></h3>
<p>Each access group may have up to 16 time schedules. The access of members is granted only when the time belongs to the time schedules of the group.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#define UF_SCHEDULE_PER_GROUP    16</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">groupID</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfSchedule</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">scheduleID</span><span class="p">[</span><span class="n">UF_SCHEDULE_PER_GROUP</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UFAccessGroup</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_AddAccessGroup</span><span class="p">(</span><span class="w"> </span><span class="n">UFAccessGroup</span><span class="o">*</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>group</em></strong><br />
Pointer to the access group to be added.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getaccessgroup">UF_GetAccessGroup<a class="headerlink" href="#uf_getaccessgroup" title="Permanent link">&para;</a></h3>
<p>Reads the specified access group.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetAccessGroup</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">UFAccessGroup</span><span class="o">*</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>ID</em></strong><br />
ID of the access group.<br />
<strong><em>group</em></strong><br />
Pointer to the access group to be read.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteaccessgroup">UF_DeleteAccessGroup<a class="headerlink" href="#uf_deleteaccessgroup" title="Permanent link">&para;</a></h3>
<p>Deletes the specified access group.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAccessGroup</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>ID</em></strong><br />
ID of the access group.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteallaccessgroup">UF_DeleteAllAccessGroup<a class="headerlink" href="#uf_deleteallaccessgroup" title="Permanent link">&para;</a></h3>
<p>Deletes all the access groups stored in a BioEntry reader.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAllAccessGroup</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_setuseraccessgroup">UF_SetUserAccessGroup<a class="headerlink" href="#uf_setuseraccessgroup" title="Permanent link">&para;</a></h3>
<p>Assigns access groups to a user. A user can be a member of up to 4 access groups.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_SetUserAccessGroup</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">numOfGroup</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">groupID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>numOfGroup</em></strong><br />
Number of access groups to be assigned.<br />
<strong><em>groupID</em></strong><br />
Array of access group IDs to be assigned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getuseraccessgroup">UF_GetUserAccessGroup<a class="headerlink" href="#uf_getuseraccessgroup" title="Permanent link">&para;</a></h3>
<p>Reads the IDs of access groups assigned to a user.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetUserAccessGroup</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfGroup</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">groupID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>numOfGroup</em></strong><br />
Pointer to the number of access groups to be returned.<br />
<strong><em>groupID</em></strong><br />
Array of access group IDs to be returned.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="322-blacklist-api">3.22. Blacklist API<a class="headerlink" href="#322-blacklist-api" title="Permanent link">&para;</a></h2>
<p>When a user ID is added to the blacklist, authentication will always fail regardless of fingerprint matching result. The blacklist takes precedence over the authentication type of a user. For example, though the authentication mode of a user is UF_AUTH_BYPASS, the authentication would fail if it is in the blacklist. The blacklist can store up to 1022 user IDs.</p>
<ul>
<li><code>UF_AddBlacklist</code>: adds an ID to the blacklist.</li>
<li><code>UF_DeleteBlacklist</code>: deletes an ID from the blacklist.</li>
<li><code>UF_GetBlacklist</code>: reads the IDs in the blacklist.</li>
<li><code>UF_DeleteAllBlacklist</code>: clears the blacklist.</li>
</ul>
<hr />
<h3 id="uf_addblacklist">UF_AddBlacklist<a class="headerlink" href="#uf_addblacklist" title="Permanent link">&para;</a></h3>
<p>Adds a user ID to the blacklist.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_AddBlacklist</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfBlacklistedID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>numOfBlacklistedID</em></strong><br />
Number of IDs in the blacklist after adding.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.  </p>
</div>
<hr />
<h3 id="uf_deleteblacklist">UF_DeleteBlacklist<a class="headerlink" href="#uf_deleteblacklist" title="Permanent link">&para;</a></h3>
<p>Deletes an ID from the blacklist.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteBlacklist</span><span class="p">(</span><span class="w"> </span><span class="n">UINT32</span><span class="w"> </span><span class="n">userID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfBlacklistedID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>userID</em></strong><br />
User ID.<br />
<strong><em>numOfBlacklistedID</em></strong><br />
Number of IDs in the blacklist after deleting.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_getblacklist">UF_GetBlacklist<a class="headerlink" href="#uf_getblacklist" title="Permanent link">&para;</a></h3>
<p>Receive user IDs in the blacklist.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_GetBlacklist</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">numOfBlacklistedID</span><span class="p">,</span><span class="w"> </span><span class="n">UINT32</span><span class="o">*</span><span class="w"> </span><span class="n">userID</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>numOfBlacklistedID</em></strong><br />
Pointer to the number of IDs in the blacklist.<br />
<strong><em>userID</em></strong><br />
Array of user IDs in the blacklist. This should be pre-allocated large enough.  </p>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_deleteallblacklist">UF_DeleteAllBlacklist<a class="headerlink" href="#uf_deleteallblacklist" title="Permanent link">&para;</a></h3>
<p>Clears the blacklist.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_DeleteAllBlacklist</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
None
<strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="323-wsq-api">3.23. WSQ API<a class="headerlink" href="#323-wsq-api" title="Permanent link">&para;</a></h2>
<p>The Wavelet Scalar Quantization (WSQ) Gray-scale Fingerprint Image Compression Algorithm is the standard for the exchange of 8-bit, 
500ppi fingerprint images within the criminal justice community. SFM5500 / SFM6000 series provide the WSQ compression feature when the module scanning an image. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>SFM5500/6000 series are supported only.</p>
</div>
<p>Supremas WSQ algorithm is certified by FBI.
(<a href="https://www.fbibiospecs.cjis.gov/WSQ/Implementations">https://www.fbibiospecs.cjis.gov/WSQ/Implementations</a>)</p>
<ul>
<li><code>UF_ScanImageEx</code>: scans a fingerprint on the sensor and retrieves the image data.</li>
<li><code>UF_ReadImageEx</code>: retrieves the last scanned fingerprint image.</li>
<li><code>UF_WSQ_Decode</code>: Decode the compressed WSQ fingerprint image which is read or scaned by the module.</li>
</ul>
<p><code>UF_ScanImageEx</code> and <code>UF_ReadImageEx</code> are extended APIs of <code>UF_ScanImage</code>/<code>UF_ReadImage</code>. These APIs are provide WSQ compression feature.</p>
<p><code>UF_IMAGE_TYPE</code> is used as an input parameter in <code>UF_ScanImageEx</code>/<code>UF_ReadImageEX</code> funtions. </p>
<p><code>UF_IMAGE_TYPE</code> is defined as bellow.  </p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="n">UF_GRAY_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x30</span><span class="p">,</span><span class="w"></span>
<span class="n">UF_BINARY_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x31</span><span class="p">,</span><span class="w"></span>
<span class="n">UF_4BIT_GRAY_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x32</span><span class="p">,</span><span class="w"></span>
<span class="n">UF_WSQ_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x33</span><span class="p">,</span><span class="w"></span>
<span class="n">UF_WSQ_HQ_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x33</span><span class="p">,</span><span class="w"></span>
<span class="n">UF_WSQ_MQ_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x34</span><span class="p">,</span><span class="w"></span>
<span class="n">UF_WSQ_LQ_IMAGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x35</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">UF_IMAGE_TYPE</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<hr />
<h3 id="uf_scanimageex">UF_ScanImageEx<a class="headerlink" href="#uf_scanimageex" title="Permanent link">&para;</a></h3>
<p>Scans a fingerprint on the sensor and retrieves the image data.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ScanImageEx</span><span class="p">(</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">UF_IMAGE_TYPE</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">wsqBitRate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>image</em></strong><br />
Pointer to the UFImage structure.<br />
<strong><em>type</em></strong><br />
Type of an image to read or scan.<br />
<strong><em>wsqBitRate</em></strong><br />
WSQ is compressed by input of wsqBitRate in the module. The value of
wsqBitRate is recommended as below.  </p>
<ul>
<li><code>wsqBitRate = 225</code>, High quality compressing (compressing rate approx. 1:5)  </li>
<li><code>wsqBitRate = 150</code>, Midium quality compressing (compressing rate approx. 1:10)  </li>
<li><code>wsqBitRate = 75</code>, Low quality compressing (compressing rate approx. 1:15)  </li>
</ul>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_readimageex">UF_ReadImageEx<a class="headerlink" href="#uf_readimageex" title="Permanent link">&para;</a></h3>
<p>Retrieves the last scanned fingerprint image.  </p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<p><div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_ReadImageEx</span><span class="p">(</span><span class="w"> </span><span class="n">UFImage</span><span class="o">*</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">UF_IMAGE_TYPE</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">wsqBitRate</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<strong>Parameters</strong> <br />
<strong><em>image</em></strong><br />
Pointer to the UFImage structure.<br />
<strong><em>type</em></strong><br />
Type of an image to read or scan.<br />
<strong><em>wsqBitRate</em></strong><br />
WSQ is compressed by input of wsqBitRate in the module. The value of wsqBitRate is recommended as below.  </p>
<ul>
<li><code>wsqBitRate = 225</code>, High quality compressing (compressing rate approx. 1:5)  </li>
<li><code>wsqBitRate = 150</code>, Midium quality compressing (compressing rate approx. 1:10)  </li>
<li><code>wsqBitRate = 75</code>, Low quality compressing (compressing rate approx. 1:15)  </li>
</ul>
<p><strong>Return Values</strong>
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h3 id="uf_wsq_decode">UF_WSQ_Decode<a class="headerlink" href="#uf_wsq_decode" title="Permanent link">&para;</a></h3>
<p>Decode the compressed WSQ fingerprint image which is read or scaned by the module.</p>
<div class="admonition info">
<p class="admonition-title">Description</p>
<div class="highlight"><pre><span></span><code><span class="n">UF_RET_CODE</span><span class="w"> </span><span class="n">UF_WSQ_Decode</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">odata</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">ow</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">oh</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">od</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">oppi</span><span class="p">,</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">lossyflag</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">idata</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ilen</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p><strong>Parameters</strong><br />
<strong><em>odata</em></strong><br />
Pointer to the decoded image data.<br />
<strong><em>ow</em></strong><br />
Pointer to the width of decoded image data.<br />
<strong><em>oh</em></strong><br />
Pointer to the height of decoded image data.<br />
<strong><em>od</em></strong><br />
Pointer to the bit depth of decoded image data. (Always returns 8)<br />
<strong><em>lossyflag</em></strong><br />
Pointer to the lossy flag. (Always returns 1)<br />
<strong><em>idata</em></strong><br />
Pointer to the read or scaned WSQ fingerprint image data by the module.<br />
<strong><em>ilen</em></strong><br />
Pointer to the length of idata  </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>odata</code> is dynamic allocated by the <code>UF_WSQ_Decode</code> function. You should free
memory of odata after use it.</p>
</div>
<p><strong>Return Values</strong><br />
If the function succeeds, return <code>UF_RET_SUCCESS</code>. Otherwise, return the corresponding error code.</p>
</div>
<hr />
<h2 id="contact-info">Contact Info<a class="headerlink" href="#contact-info" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p><strong>Headquarters</strong>  </p>
<p>Suprema, Inc. (<a href="http://www.supremainc.com">http://www.supremainc.com</a>)<br />
16F Parkview Office Tower,<br />
Joengja-dong, Bundang-gu,<br />
Seongnam, Gyeonggi, 463-863 Korea<br />
Tel: +82-31-783-4505<br />
Fax:+82-31-783-4506<br />
Email: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#97;&#108;&#101;&#115;&#64;&#115;&#117;&#112;&#114;&#101;&#109;&#97;&#105;&#110;&#99;&#46;&#99;&#111;&#109;">&#115;&#97;&#108;&#101;&#115;&#64;&#115;&#117;&#112;&#114;&#101;&#109;&#97;&#105;&#110;&#99;&#46;&#99;&#111;&#109;</a>, <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#115;&#117;&#112;&#114;&#101;&#109;&#97;&#105;&#110;&#99;&#46;&#99;&#111;&#109;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#115;&#117;&#112;&#114;&#101;&#109;&#97;&#105;&#110;&#99;&#46;&#99;&#111;&#109;</a>  </p>
</div>       
                                </article>
                            </div>
                        </div>
                    </main>
                     
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../API_Compatibility/" title="API Compatability" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                API Compatability
              </span>
            </div>
          </a>
        
        
          <a href="../UF_Protocol_Manual/" title="UF Protocol Manual" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                UF Protocol Manual
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Suprema Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://www.facebook.com/supremaglobal/" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="http://www.supremainc.com" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/supremainc" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://sfmdev.slack.com" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

      
    </div>
  </div>
</footer> 
                </div>
                
                <script src="../../assets/javascripts/application-84693e5e49.js"></script>
                
                <script>
                    app.initialize({
                        version: "0.17.3",
                        url: {
                            base: "../.."
                        }
                    })
                </script>
                
                <script src="../../javascripts/extra.js"></script>
                   
                <script>
                    ! function(e, t, a, n, o, c, i) {
                        e.GoogleAnalyticsObject = o, e[o] = e[o] || function() {
                            (e[o].q = e[o].q || []).push(arguments)
                        }, e[o].l = 1 * new Date, c = t.createElement(a), i = t.getElementsByTagName(a)[0], c.async = 1, c.src = n, i.parentNode.insertBefore(c, i)
                    }(window, document, "script", "https://www.google-analytics.com/analytics.js", "ga"), ga("create", "UA-99598070-1", "auto"), ga("set", "anonymizeIp", !0), ga("send", "pageview");
                    var links = document.getElementsByTagName("a");
                    Array.prototype.map.call(links, function(e) {
                        e.host != document.location.host && e.addEventListener("click", function() {
                            var t = e.getAttribute("data-md-action") || "follow";
                            ga("send", "event", "outbound", t, e.href)
                        })
                    });
                    var query = document.forms.search.query;
                    query.addEventListener("blur", function() {
                        if (this.value) {
                            var e = document.location.pathname;
                            ga("send", "pageview", e + "?q=" + this.value)
                        }
                    })
                </script>
                 
                <!--Start of Tawk.to Script-->
                <script type="text/javascript">
                    var Tawk_API = Tawk_API || {},
                        Tawk_LoadStart = new Date();
                    (function() {
                        var s1 = document.createElement("script"),
                            s0 = document.getElementsByTagName("script")[0];
                        s1.async = true;
                        s1.src = 'https://embed.tawk.to/59f828224854b82732ff90e3/default';
                        s1.charset = 'UTF-8';
                        s1.setAttribute('crossorigin', '*');
                        s0.parentNode.insertBefore(s1, s0);
                    })();
                </script>
                <!--End of Tawk.to Script-->
            </body>

</html>